var IO=Object.defineProperty;var xE=n=>{throw TypeError(n)};var zO=(n,t,e)=>t in n?IO(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var K=(n,t,e)=>zO(n,typeof t!="symbol"?t+"":t,e),ky=(n,t,e)=>t.has(n)||xE("Cannot "+e);var h=(n,t,e)=>(ky(n,t,"read from private field"),e?e.call(n):t.get(n)),x=(n,t,e)=>t.has(n)?xE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),S=(n,t,e,i)=>(ky(n,t,"write to private field"),i?i.call(n,e):t.set(n,e),e),E=(n,t,e)=>(ky(n,t,"access private method"),e);var rn=(n,t,e,i)=>({set _(s){S(n,t,s,e)},get _(){return h(n,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();function SA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var o_={exports:{}},qg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VO=Symbol.for("react.transitional.element"),GO=Symbol.for("react.fragment");function l_(n,t,e){var i=null;if(e!==void 0&&(i=""+e),t.key!==void 0&&(i=""+t.key),"key"in t){e={};for(var s in t)s!=="key"&&(e[s]=t[s])}else e=t;return t=e.ref,{$$typeof:VO,type:n,key:i,ref:t!==void 0?t:null,props:e}}qg.Fragment=GO;qg.jsx=l_;qg.jsxs=l_;o_.exports=qg;var _=o_.exports,c_={exports:{}},st={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EA=Symbol.for("react.transitional.element"),qO=Symbol.for("react.portal"),XO=Symbol.for("react.fragment"),YO=Symbol.for("react.strict_mode"),$O=Symbol.for("react.profiler"),KO=Symbol.for("react.consumer"),WO=Symbol.for("react.context"),QO=Symbol.for("react.forward_ref"),ZO=Symbol.for("react.suspense"),JO=Symbol.for("react.memo"),u_=Symbol.for("react.lazy"),TE=Symbol.iterator;function tk(n){return n===null||typeof n!="object"?null:(n=TE&&n[TE]||n["@@iterator"],typeof n=="function"?n:null)}var h_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d_=Object.assign,f_={};function Nu(n,t,e){this.props=n,this.context=t,this.refs=f_,this.updater=e||h_}Nu.prototype.isReactComponent={};Nu.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};Nu.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function p_(){}p_.prototype=Nu.prototype;function wA(n,t,e){this.props=n,this.context=t,this.refs=f_,this.updater=e||h_}var xA=wA.prototype=new p_;xA.constructor=wA;d_(xA,Nu.prototype);xA.isPureReactComponent=!0;var _E=Array.isArray,Yt={H:null,A:null,T:null,S:null},m_=Object.prototype.hasOwnProperty;function TA(n,t,e,i,s,a){return e=a.ref,{$$typeof:EA,type:n,key:t,ref:e!==void 0?e:null,props:a}}function ek(n,t){return TA(n.type,t,void 0,void 0,void 0,n.props)}function _A(n){return typeof n=="object"&&n!==null&&n.$$typeof===EA}function nk(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var CE=/\/+/g;function Py(n,t){return typeof n=="object"&&n!==null&&n.key!=null?nk(""+n.key):t.toString(36)}function RE(){}function ik(n){switch(n.status){case"fulfilled":return n.value;case"rejected":throw n.reason;default:switch(typeof n.status=="string"?n.then(RE,RE):(n.status="pending",n.then(function(t){n.status==="pending"&&(n.status="fulfilled",n.value=t)},function(t){n.status==="pending"&&(n.status="rejected",n.reason=t)})),n.status){case"fulfilled":return n.value;case"rejected":throw n.reason}}throw n}function Fl(n,t,e,i,s){var a=typeof n;(a==="undefined"||a==="boolean")&&(n=null);var r=!1;if(n===null)r=!0;else switch(a){case"bigint":case"string":case"number":r=!0;break;case"object":switch(n.$$typeof){case EA:case qO:r=!0;break;case u_:return r=n._init,Fl(r(n._payload),t,e,i,s)}}if(r)return s=s(n),r=i===""?"."+Py(n,0):i,_E(s)?(e="",r!=null&&(e=r.replace(CE,"$&/")+"/"),Fl(s,t,e,"",function(c){return c})):s!=null&&(_A(s)&&(s=ek(s,e+(s.key==null||n&&n.key===s.key?"":(""+s.key).replace(CE,"$&/")+"/")+r)),t.push(s)),1;r=0;var o=i===""?".":i+":";if(_E(n))for(var l=0;l<n.length;l++)i=n[l],a=o+Py(i,l),r+=Fl(i,t,e,a,s);else if(l=tk(n),typeof l=="function")for(n=l.call(n),l=0;!(i=n.next()).done;)i=i.value,a=o+Py(i,l++),r+=Fl(i,t,e,a,s);else if(a==="object"){if(typeof n.then=="function")return Fl(ik(n),t,e,i,s);throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function vp(n,t,e){if(n==null)return n;var i=[],s=0;return Fl(n,i,"","",function(a){return t.call(e,a,s++)}),i}function sk(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var ME=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function ak(){}st.Children={map:vp,forEach:function(n,t,e){vp(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return vp(n,function(){t++}),t},toArray:function(n){return vp(n,function(t){return t})||[]},only:function(n){if(!_A(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};st.Component=Nu;st.Fragment=XO;st.Profiler=$O;st.PureComponent=wA;st.StrictMode=YO;st.Suspense=ZO;st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Yt;st.act=function(){throw Error("act(...) is not supported in production builds of React.")};st.cache=function(n){return function(){return n.apply(null,arguments)}};st.cloneElement=function(n,t,e){if(n==null)throw Error("The argument must be a React element, but you passed "+n+".");var i=d_({},n.props),s=n.key,a=void 0;if(t!=null)for(r in t.ref!==void 0&&(a=void 0),t.key!==void 0&&(s=""+t.key),t)!m_.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(i[r]=t[r]);var r=arguments.length-2;if(r===1)i.children=e;else if(1<r){for(var o=Array(r),l=0;l<r;l++)o[l]=arguments[l+2];i.children=o}return TA(n.type,s,void 0,void 0,a,i)};st.createContext=function(n){return n={$$typeof:WO,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider=n,n.Consumer={$$typeof:KO,_context:n},n};st.createElement=function(n,t,e){var i,s={},a=null;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)m_.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=t[i]);var r=arguments.length-2;if(r===1)s.children=e;else if(1<r){for(var o=Array(r),l=0;l<r;l++)o[l]=arguments[l+2];s.children=o}if(n&&n.defaultProps)for(i in r=n.defaultProps,r)s[i]===void 0&&(s[i]=r[i]);return TA(n,a,void 0,void 0,null,s)};st.createRef=function(){return{current:null}};st.forwardRef=function(n){return{$$typeof:QO,render:n}};st.isValidElement=_A;st.lazy=function(n){return{$$typeof:u_,_payload:{_status:-1,_result:n},_init:sk}};st.memo=function(n,t){return{$$typeof:JO,type:n,compare:t===void 0?null:t}};st.startTransition=function(n){var t=Yt.T,e={};Yt.T=e;try{var i=n(),s=Yt.S;s!==null&&s(e,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(ak,ME)}catch(a){ME(a)}finally{Yt.T=t}};st.unstable_useCacheRefresh=function(){return Yt.H.useCacheRefresh()};st.use=function(n){return Yt.H.use(n)};st.useActionState=function(n,t,e){return Yt.H.useActionState(n,t,e)};st.useCallback=function(n,t){return Yt.H.useCallback(n,t)};st.useContext=function(n){return Yt.H.useContext(n)};st.useDebugValue=function(){};st.useDeferredValue=function(n,t){return Yt.H.useDeferredValue(n,t)};st.useEffect=function(n,t){return Yt.H.useEffect(n,t)};st.useId=function(){return Yt.H.useId()};st.useImperativeHandle=function(n,t,e){return Yt.H.useImperativeHandle(n,t,e)};st.useInsertionEffect=function(n,t){return Yt.H.useInsertionEffect(n,t)};st.useLayoutEffect=function(n,t){return Yt.H.useLayoutEffect(n,t)};st.useMemo=function(n,t){return Yt.H.useMemo(n,t)};st.useOptimistic=function(n,t){return Yt.H.useOptimistic(n,t)};st.useReducer=function(n,t,e){return Yt.H.useReducer(n,t,e)};st.useRef=function(n){return Yt.H.useRef(n)};st.useState=function(n){return Yt.H.useState(n)};st.useSyncExternalStore=function(n,t,e){return Yt.H.useSyncExternalStore(n,t,e)};st.useTransition=function(){return Yt.H.useTransition()};st.version="19.0.0";c_.exports=st;var C=c_.exports;const rk=SA(C);var g_={exports:{}},Xg={},y_={exports:{}},v_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(F,P){var j=F.length;F.push(P);t:for(;0<j;){var Z=j-1>>>1,ot=F[Z];if(0<s(ot,P))F[Z]=P,F[j]=ot,j=Z;else break t}}function e(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var P=F[0],j=F.pop();if(j!==P){F[0]=j;t:for(var Z=0,ot=F.length,ne=ot>>>1;Z<ne;){var Ct=2*(Z+1)-1,bt=F[Ct],Wt=Ct+1,Ge=F[Wt];if(0>s(bt,j))Wt<ot&&0>s(Ge,bt)?(F[Z]=Ge,F[Wt]=j,Z=Wt):(F[Z]=bt,F[Ct]=j,Z=Ct);else if(Wt<ot&&0>s(Ge,j))F[Z]=Ge,F[Wt]=j,Z=Wt;else break t}}return P}function s(F,P){var j=F.sortIndex-P.sortIndex;return j!==0?j:F.id-P.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var r=Date,o=r.now();n.unstable_now=function(){return r.now()-o}}var l=[],c=[],u=1,d=null,f=3,p=!1,g=!1,v=!1,A=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function b(F){for(var P=e(c);P!==null;){if(P.callback===null)i(c);else if(P.startTime<=F)i(c),P.sortIndex=P.expirationTime,t(l,P);else break;P=e(c)}}function w(F){if(v=!1,b(F),!g)if(e(l)!==null)g=!0,V();else{var P=e(c);P!==null&&Y(w,P.startTime-F)}}var T=!1,R=-1,M=5,D=-1;function O(){return!(n.unstable_now()-D<M)}function k(){if(T){var F=n.unstable_now();D=F;var P=!0;try{t:{g=!1,v&&(v=!1,m(R),R=-1),p=!0;var j=f;try{e:{for(b(F),d=e(l);d!==null&&!(d.expirationTime>F&&O());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,f=d.priorityLevel;var ot=Z(d.expirationTime<=F);if(F=n.unstable_now(),typeof ot=="function"){d.callback=ot,b(F),P=!0;break e}d===e(l)&&i(l),b(F)}else i(l);d=e(l)}if(d!==null)P=!0;else{var ne=e(c);ne!==null&&Y(w,ne.startTime-F),P=!1}}break t}finally{d=null,f=j,p=!1}P=void 0}}finally{P?B():T=!1}}}var B;if(typeof y=="function")B=function(){y(k)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,X=$.port2;$.port1.onmessage=k,B=function(){X.postMessage(null)}}else B=function(){A(k,0)};function V(){T||(T=!0,B())}function Y(F,P){R=A(function(){F(n.unstable_now())},P)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,V())},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return e(l)},n.unstable_next=function(F){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var j=f;f=P;try{return F()}finally{f=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,P){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var j=f;f=F;try{return P()}finally{f=j}},n.unstable_scheduleCallback=function(F,P,j){var Z=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?Z+j:Z):j=Z,F){case 1:var ot=-1;break;case 2:ot=250;break;case 5:ot=1073741823;break;case 4:ot=1e4;break;default:ot=5e3}return ot=j+ot,F={id:u++,callback:P,priorityLevel:F,startTime:j,expirationTime:ot,sortIndex:-1},j>Z?(F.sortIndex=j,t(c,F),e(l)===null&&F===e(c)&&(v?(m(R),R=-1):v=!0,Y(w,j-Z))):(F.sortIndex=ot,t(l,F),g||p||(g=!0,V())),F},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(F){var P=f;return function(){var j=f;f=P;try{return F.apply(this,arguments)}finally{f=j}}}})(v_);y_.exports=v_;var ok=y_.exports,b_={exports:{}},yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lk=C;function A_(n){var t="https://react.dev/errors/"+n;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var e=2;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e])}return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ma(){}var hn={d:{f:Ma,r:function(){throw Error(A_(522))},D:Ma,C:Ma,L:Ma,m:Ma,X:Ma,S:Ma,M:Ma},p:0,findDOMNode:null},ck=Symbol.for("react.portal");function uk(n,t,e){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ck,key:i==null?null:""+i,children:n,containerInfo:t,implementation:e}}var Ph=lk.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Yg(n,t){if(n==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=hn;yn.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(A_(299));return uk(n,t,null,e)};yn.flushSync=function(n){var t=Ph.T,e=hn.p;try{if(Ph.T=null,hn.p=2,n)return n()}finally{Ph.T=t,hn.p=e,hn.d.f()}};yn.preconnect=function(n,t){typeof n=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,hn.d.C(n,t))};yn.prefetchDNS=function(n){typeof n=="string"&&hn.d.D(n)};yn.preinit=function(n,t){if(typeof n=="string"&&t&&typeof t.as=="string"){var e=t.as,i=Yg(e,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;e==="style"?hn.d.S(n,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:a}):e==="script"&&hn.d.X(n,{crossOrigin:i,integrity:s,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};yn.preinitModule=function(n,t){if(typeof n=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var e=Yg(t.as,t.crossOrigin);hn.d.M(n,{crossOrigin:e,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&hn.d.M(n)};yn.preload=function(n,t){if(typeof n=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var e=t.as,i=Yg(e,t.crossOrigin);hn.d.L(n,e,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};yn.preloadModule=function(n,t){if(typeof n=="string")if(t){var e=Yg(t.as,t.crossOrigin);hn.d.m(n,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:e,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else hn.d.m(n)};yn.requestFormReset=function(n){hn.d.r(n)};yn.unstable_batchedUpdates=function(n,t){return n(t)};yn.useFormState=function(n,t,e){return Ph.H.useFormState(n,t,e)};yn.useFormStatus=function(){return Ph.H.useHostTransitionStatus()};yn.version="19.0.0";function S_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S_)}catch(n){console.error(n)}}S_(),b_.exports=yn;var hk=b_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var we=ok,E_=C,dk=hk;function N(n){var t="https://react.dev/errors/"+n;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var e=2;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e])}return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function w_(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var fk=Symbol.for("react.element"),bp=Symbol.for("react.transitional.element"),hh=Symbol.for("react.portal"),$l=Symbol.for("react.fragment"),x_=Symbol.for("react.strict_mode"),Bv=Symbol.for("react.profiler"),pk=Symbol.for("react.provider"),T_=Symbol.for("react.consumer"),la=Symbol.for("react.context"),CA=Symbol.for("react.forward_ref"),Hv=Symbol.for("react.suspense"),Uv=Symbol.for("react.suspense_list"),RA=Symbol.for("react.memo"),Na=Symbol.for("react.lazy"),__=Symbol.for("react.offscreen"),mk=Symbol.for("react.memo_cache_sentinel"),DE=Symbol.iterator;function Qu(n){return n===null||typeof n!="object"?null:(n=DE&&n[DE]||n["@@iterator"],typeof n=="function"?n:null)}var gk=Symbol.for("react.client.reference");function Iv(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===gk?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case $l:return"Fragment";case hh:return"Portal";case Bv:return"Profiler";case x_:return"StrictMode";case Hv:return"Suspense";case Uv:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case la:return(n.displayName||"Context")+".Provider";case T_:return(n._context.displayName||"Context")+".Consumer";case CA:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case RA:return t=n.displayName||null,t!==null?t:Iv(n.type)||"Memo";case Na:t=n._payload,n=n._init;try{return Iv(n(t))}catch{}}return null}var et=E_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,jt=Object.assign,Ny,LE;function dh(n){if(Ny===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Ny=t&&t[1]||"",LE=-1<e.stack.indexOf(`
    at`)?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ny+n+LE}var Fy=!1;function jy(n,t){if(!n||Fy)return"";Fy=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(p){var f=p}Reflect.construct(n,[],d)}else{try{d.call()}catch(p){f=p}n.call(d.prototype)}}else{try{throw Error()}catch(p){f=p}(d=n())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(p){if(p&&f&&typeof p.stack=="string")return[p.stack,f.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),r=a[0],o=a[1];if(r&&o){var l=r.split(`
`),c=o.split(`
`);for(s=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(i===l.length||s===c.length)for(i=l.length-1,s=c.length-1;1<=i&&0<=s&&l[i]!==c[s];)s--;for(;1<=i&&0<=s;i--,s--)if(l[i]!==c[s]){if(i!==1||s!==1)do if(i--,s--,0>s||l[i]!==c[s]){var u=`
`+l[i].replace(" at new "," at ");return n.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",n.displayName)),u}while(1<=i&&0<=s);break}}}finally{Fy=!1,Error.prepareStackTrace=e}return(e=n?n.displayName||n.name:"")?dh(e):""}function yk(n){switch(n.tag){case 26:case 27:case 5:return dh(n.type);case 16:return dh("Lazy");case 13:return dh("Suspense");case 19:return dh("SuspenseList");case 0:case 15:return n=jy(n.type,!1),n;case 11:return n=jy(n.type.render,!1),n;case 1:return n=jy(n.type,!0),n;default:return""}}function OE(n){try{var t="";do t+=yk(n),n=n.return;while(n);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}function Fu(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function C_(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function kE(n){if(Fu(n)!==n)throw Error(N(188))}function vk(n){var t=n.alternate;if(!t){if(t=Fu(n),t===null)throw Error(N(188));return t!==n?null:n}for(var e=n,i=t;;){var s=e.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){e=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===e)return kE(s),n;if(a===i)return kE(s),t;a=a.sibling}throw Error(N(188))}if(e.return!==i.return)e=s,i=a;else{for(var r=!1,o=s.child;o;){if(o===e){r=!0,e=s,i=a;break}if(o===i){r=!0,i=s,e=a;break}o=o.sibling}if(!r){for(o=a.child;o;){if(o===e){r=!0,e=a,i=s;break}if(o===i){r=!0,i=a,e=s;break}o=o.sibling}if(!r)throw Error(N(189))}}if(e.alternate!==i)throw Error(N(190))}if(e.tag!==3)throw Error(N(188));return e.stateNode.current===e?n:t}function R_(n){var t=n.tag;if(t===5||t===26||t===27||t===6)return n;for(n=n.child;n!==null;){if(t=R_(n),t!==null)return t;n=n.sibling}return null}var fh=Array.isArray,Ft=dk.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,el={pending:!1,data:null,method:null,action:null},zv=[],Kl=-1;function Ss(n){return{current:n}}function Pe(n){0>Kl||(n.current=zv[Kl],zv[Kl]=null,Kl--)}function Ut(n,t){Kl++,zv[Kl]=n.current,n.current=t}var ps=Ss(null),id=Ss(null),yr=Ss(null),Um=Ss(null);function Im(n,t){switch(Ut(yr,t),Ut(id,n),Ut(ps,null),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Pw(t):0;break;default:if(n=n===8?t.parentNode:t,t=n.tagName,n=n.namespaceURI)n=Pw(n),t=UC(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Pe(ps),Ut(ps,t)}function Eu(){Pe(ps),Pe(id),Pe(yr)}function Vv(n){n.memoizedState!==null&&Ut(Um,n);var t=ps.current,e=UC(t,n.type);t!==e&&(Ut(id,n),Ut(ps,e))}function zm(n){id.current===n&&(Pe(ps),Pe(id)),Um.current===n&&(Pe(Um),pd._currentValue=el)}var Gv=Object.prototype.hasOwnProperty,MA=we.unstable_scheduleCallback,By=we.unstable_cancelCallback,bk=we.unstable_shouldYield,Ak=we.unstable_requestPaint,ms=we.unstable_now,Sk=we.unstable_getCurrentPriorityLevel,M_=we.unstable_ImmediatePriority,D_=we.unstable_UserBlockingPriority,Vm=we.unstable_NormalPriority,Ek=we.unstable_LowPriority,L_=we.unstable_IdlePriority,wk=we.log,xk=we.unstable_setDisableYieldValue,Gf=null,Vn=null;function Tk(n){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(Gf,n,void 0,(n.current.flags&128)===128)}catch{}}function mr(n){if(typeof wk=="function"&&xk(n),Vn&&typeof Vn.setStrictMode=="function")try{Vn.setStrictMode(Gf,n)}catch{}}var Gn=Math.clz32?Math.clz32:Rk,_k=Math.log,Ck=Math.LN2;function Rk(n){return n>>>=0,n===0?32:31-(_k(n)/Ck|0)|0}var Ap=128,Sp=4194304;function Gr(n){var t=n&42;if(t!==0)return t;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function $g(n,t){var e=n.pendingLanes;if(e===0)return 0;var i=0,s=n.suspendedLanes,a=n.pingedLanes,r=n.warmLanes;n=n.finishedLanes!==0;var o=e&134217727;return o!==0?(e=o&~s,e!==0?i=Gr(e):(a&=o,a!==0?i=Gr(a):n||(r=o&~r,r!==0&&(i=Gr(r))))):(o=e&~s,o!==0?i=Gr(o):a!==0?i=Gr(a):n||(r=e&~r,r!==0&&(i=Gr(r)))),i===0?0:t!==0&&t!==i&&!(t&s)&&(s=i&-i,r=t&-t,s>=r||s===32&&(r&4194176)!==0)?t:i}function qf(n,t){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&t)===0}function Mk(n,t){switch(n){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O_(){var n=Ap;return Ap<<=1,!(Ap&4194176)&&(Ap=128),n}function k_(){var n=Sp;return Sp<<=1,!(Sp&62914560)&&(Sp=4194304),n}function Hy(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function Xf(n,t){n.pendingLanes|=t,t!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Dk(n,t,e,i,s,a){var r=n.pendingLanes;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=e,n.entangledLanes&=e,n.errorRecoveryDisabledLanes&=e,n.shellSuspendCounter=0;var o=n.entanglements,l=n.expirationTimes,c=n.hiddenUpdates;for(e=r&~e;0<e;){var u=31-Gn(e),d=1<<u;o[u]=0,l[u]=-1;var f=c[u];if(f!==null)for(c[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}e&=~d}i!==0&&P_(n,i,0),a!==0&&s===0&&n.tag!==0&&(n.suspendedLanes|=a&~(r&~t))}function P_(n,t,e){n.pendingLanes|=t,n.suspendedLanes&=~t;var i=31-Gn(t);n.entangledLanes|=t,n.entanglements[i]=n.entanglements[i]|1073741824|e&4194218}function N_(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var i=31-Gn(e),s=1<<i;s&t|n[i]&t&&(n[i]|=t),e&=~s}}function F_(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function j_(){var n=Ft.p;return n!==0?n:(n=window.event,n===void 0?32:WC(n.type))}function Lk(n,t){var e=Ft.p;try{return Ft.p=n,t()}finally{Ft.p=e}}var Nr=Math.random().toString(36).slice(2),en="__reactFiber$"+Nr,Cn="__reactProps$"+Nr,ju="__reactContainer$"+Nr,qv="__reactEvents$"+Nr,Ok="__reactListeners$"+Nr,kk="__reactHandles$"+Nr,PE="__reactResources$"+Nr,sd="__reactMarker$"+Nr;function DA(n){delete n[en],delete n[Cn],delete n[qv],delete n[Ok],delete n[kk]}function to(n){var t=n[en];if(t)return t;for(var e=n.parentNode;e;){if(t=e[ju]||e[en]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=Fw(n);n!==null;){if(e=n[en])return e;n=Fw(n)}return t}n=e,e=n.parentNode}return null}function Bu(n){if(n=n[en]||n[ju]){var t=n.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return n}return null}function ph(n){var t=n.tag;if(t===5||t===26||t===27||t===6)return n.stateNode;throw Error(N(33))}function dc(n){var t=n[PE];return t||(t=n[PE]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Oe(n){n[sd]=!0}var B_=new Set,H_={};function Sl(n,t){wu(n,t),wu(n+"Capture",t)}function wu(n,t){for(H_[n]=t,n=0;n<t.length;n++)B_.add(t[n])}var Aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pk=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),NE={},FE={};function Nk(n){return Gv.call(FE,n)?!0:Gv.call(NE,n)?!1:Pk.test(n)?FE[n]=!0:(NE[n]=!0,!1)}function Gp(n,t,e){if(Nk(t))if(e===null)n.removeAttribute(t);else{switch(typeof e){case"undefined":case"function":case"symbol":n.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){n.removeAttribute(t);return}}n.setAttribute(t,""+e)}}function Ep(n,t,e){if(e===null)n.removeAttribute(t);else{switch(typeof e){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(t);return}n.setAttribute(t,""+e)}}function Ts(n,t,e,i){if(i===null)n.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(e);return}n.setAttributeNS(t,e,""+i)}}function oi(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function U_(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fk(n){var t=U_(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),i=""+n[t];if(!n.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var s=e.get,a=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return s.call(this)},set:function(r){i=""+r,a.call(this,r)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return i},setValue:function(r){i=""+r},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function Gm(n){n._valueTracker||(n._valueTracker=Fk(n))}function I_(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),i="";return n&&(i=U_(n)?n.checked?"true":"false":n.value),n=i,n!==e?(t.setValue(n),!0):!1}function qm(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var jk=/[\n"\\]/g;function ui(n){return n.replace(jk,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Xv(n,t,e,i,s,a,r,o){n.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?n.type=r:n.removeAttribute("type"),t!=null?r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+oi(t)):n.value!==""+oi(t)&&(n.value=""+oi(t)):r!=="submit"&&r!=="reset"||n.removeAttribute("value"),t!=null?Yv(n,r,oi(t)):e!=null?Yv(n,r,oi(e)):i!=null&&n.removeAttribute("value"),s==null&&a!=null&&(n.defaultChecked=!!a),s!=null&&(n.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?n.name=""+oi(o):n.removeAttribute("name")}function z_(n,t,e,i,s,a,r,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(n.type=a),t!=null||e!=null){if(!(a!=="submit"&&a!=="reset"||t!=null))return;e=e!=null?""+oi(e):"",t=t!=null?""+oi(t):e,o||t===n.value||(n.value=t),n.defaultValue=t}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,n.checked=o?n.checked:!!i,n.defaultChecked=!!i,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(n.name=r)}function Yv(n,t,e){t==="number"&&qm(n.ownerDocument)===n||n.defaultValue===""+e||(n.defaultValue=""+e)}function fc(n,t,e,i){if(n=n.options,t){t={};for(var s=0;s<e.length;s++)t["$"+e[s]]=!0;for(e=0;e<n.length;e++)s=t.hasOwnProperty("$"+n[e].value),n[e].selected!==s&&(n[e].selected=s),s&&i&&(n[e].defaultSelected=!0)}else{for(e=""+oi(e),t=null,s=0;s<n.length;s++){if(n[s].value===e){n[s].selected=!0,i&&(n[s].defaultSelected=!0);return}t!==null||n[s].disabled||(t=n[s])}t!==null&&(t.selected=!0)}}function V_(n,t,e){if(t!=null&&(t=""+oi(t),t!==n.value&&(n.value=t),e==null)){n.defaultValue!==t&&(n.defaultValue=t);return}n.defaultValue=e!=null?""+oi(e):""}function G_(n,t,e,i){if(t==null){if(i!=null){if(e!=null)throw Error(N(92));if(fh(i)){if(1<i.length)throw Error(N(93));i=i[0]}e=i}e==null&&(e=""),t=e}e=oi(t),n.defaultValue=e,i=n.textContent,i===e&&i!==""&&i!==null&&(n.value=i)}function xu(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var Bk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jE(n,t,e){var i=t.indexOf("--")===0;e==null||typeof e=="boolean"||e===""?i?n.setProperty(t,""):t==="float"?n.cssFloat="":n[t]="":i?n.setProperty(t,e):typeof e!="number"||e===0||Bk.has(t)?t==="float"?n.cssFloat=e:n[t]=(""+e).trim():n[t]=e+"px"}function q_(n,t,e){if(t!=null&&typeof t!="object")throw Error(N(62));if(n=n.style,e!=null){for(var i in e)!e.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&e[s]!==i&&jE(n,s,i)}else for(var a in t)t.hasOwnProperty(a)&&jE(n,a,t[a])}function LA(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qp(n){return Uk.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var $v=null;function OA(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Wl=null,pc=null;function BE(n){var t=Bu(n);if(t&&(n=t.stateNode)){var e=n[Cn]||null;t:switch(n=t.stateNode,t.type){case"input":if(Xv(n,e.value,e.defaultValue,e.defaultValue,e.checked,e.defaultChecked,e.type,e.name),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll('input[name="'+ui(""+t)+'"][type="radio"]'),t=0;t<e.length;t++){var i=e[t];if(i!==n&&i.form===n.form){var s=i[Cn]||null;if(!s)throw Error(N(90));Xv(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<e.length;t++)i=e[t],i.form===n.form&&I_(i)}break t;case"textarea":V_(n,e.value,e.defaultValue);break t;case"select":t=e.value,t!=null&&fc(n,!!e.multiple,t,!1)}}}var Uy=!1;function X_(n,t,e){if(Uy)return n(t,e);Uy=!0;try{var i=n(t);return i}finally{if(Uy=!1,(Wl!==null||pc!==null)&&(sy(),Wl&&(t=Wl,n=pc,pc=Wl=null,BE(t),n)))for(t=0;t<n.length;t++)BE(n[t])}}function ad(n,t){var e=n.stateNode;if(e===null)return null;var i=e[Cn]||null;if(i===null)return null;e=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break t;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(N(231,t,typeof e));return e}var Kv=!1;if(Aa)try{var Zu={};Object.defineProperty(Zu,"passive",{get:function(){Kv=!0}}),window.addEventListener("test",Zu,Zu),window.removeEventListener("test",Zu,Zu)}catch{Kv=!1}var gr=null,kA=null,Xp=null;function Y_(){if(Xp)return Xp;var n,t=kA,e=t.length,i,s="value"in gr?gr.value:gr.textContent,a=s.length;for(n=0;n<e&&t[n]===s[n];n++);var r=e-n;for(i=1;i<=r&&t[e-i]===s[a-i];i++);return Xp=s.slice(n,1<i?1-i:void 0)}function Yp(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function wp(){return!0}function HE(){return!1}function Rn(n){function t(e,i,s,a,r){this._reactName=e,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=r,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(e=n[o],this[o]=e?e(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?wp:HE,this.isPropagationStopped=HE,this}return jt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=wp)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=wp)},persist:function(){},isPersistent:wp}),t}var El={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kg=Rn(El),Yf=jt({},El,{view:0,detail:0}),Ik=Rn(Yf),Iy,zy,Ju,Wg=jt({},Yf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:PA,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ju&&(Ju&&n.type==="mousemove"?(Iy=n.screenX-Ju.screenX,zy=n.screenY-Ju.screenY):zy=Iy=0,Ju=n),Iy)},movementY:function(n){return"movementY"in n?n.movementY:zy}}),UE=Rn(Wg),zk=jt({},Wg,{dataTransfer:0}),Vk=Rn(zk),Gk=jt({},Yf,{relatedTarget:0}),Vy=Rn(Gk),qk=jt({},El,{animationName:0,elapsedTime:0,pseudoElement:0}),Xk=Rn(qk),Yk=jt({},El,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),$k=Rn(Yk),Kk=jt({},El,{data:0}),IE=Rn(Kk),Wk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jk(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=Zk[n])?!!t[n]:!1}function PA(){return Jk}var tP=jt({},Yf,{key:function(n){if(n.key){var t=Wk[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=Yp(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Qk[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:PA,charCode:function(n){return n.type==="keypress"?Yp(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Yp(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),eP=Rn(tP),nP=jt({},Wg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zE=Rn(nP),iP=jt({},Yf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:PA}),sP=Rn(iP),aP=jt({},El,{propertyName:0,elapsedTime:0,pseudoElement:0}),rP=Rn(aP),oP=jt({},Wg,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),lP=Rn(oP),cP=jt({},El,{newState:0,oldState:0}),uP=Rn(cP),hP=[9,13,27,32],NA=Aa&&"CompositionEvent"in window,Nh=null;Aa&&"documentMode"in document&&(Nh=document.documentMode);var dP=Aa&&"TextEvent"in window&&!Nh,$_=Aa&&(!NA||Nh&&8<Nh&&11>=Nh),VE=" ",GE=!1;function K_(n,t){switch(n){case"keyup":return hP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W_(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ql=!1;function fP(n,t){switch(n){case"compositionend":return W_(t);case"keypress":return t.which!==32?null:(GE=!0,VE);case"textInput":return n=t.data,n===VE&&GE?null:n;default:return null}}function pP(n,t){if(Ql)return n==="compositionend"||!NA&&K_(n,t)?(n=Y_(),Xp=kA=gr=null,Ql=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $_&&t.locale!=="ko"?null:t.data;default:return null}}var mP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qE(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!mP[n.type]:t==="textarea"}function Q_(n,t,e,i){Wl?pc?pc.push(i):pc=[i]:Wl=i,t=og(t,"onChange"),0<t.length&&(e=new Kg("onChange","change",null,e,i),n.push({event:e,listeners:t}))}var Fh=null,rd=null;function gP(n){jC(n,0)}function Qg(n){var t=ph(n);if(I_(t))return n}function XE(n,t){if(n==="change")return t}var Z_=!1;if(Aa){var Gy;if(Aa){var qy="oninput"in document;if(!qy){var YE=document.createElement("div");YE.setAttribute("oninput","return;"),qy=typeof YE.oninput=="function"}Gy=qy}else Gy=!1;Z_=Gy&&(!document.documentMode||9<document.documentMode)}function $E(){Fh&&(Fh.detachEvent("onpropertychange",J_),rd=Fh=null)}function J_(n){if(n.propertyName==="value"&&Qg(rd)){var t=[];Q_(t,rd,n,OA(n)),X_(gP,t)}}function yP(n,t,e){n==="focusin"?($E(),Fh=t,rd=e,Fh.attachEvent("onpropertychange",J_)):n==="focusout"&&$E()}function vP(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Qg(rd)}function bP(n,t){if(n==="click")return Qg(t)}function AP(n,t){if(n==="input"||n==="change")return Qg(t)}function SP(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var Kn=typeof Object.is=="function"?Object.is:SP;function od(n,t){if(Kn(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),i=Object.keys(t);if(e.length!==i.length)return!1;for(i=0;i<e.length;i++){var s=e[i];if(!Gv.call(t,s)||!Kn(n[s],t[s]))return!1}return!0}function KE(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function WE(n,t){var e=KE(n);n=0;for(var i;e;){if(e.nodeType===3){if(i=n+e.textContent.length,n<=t&&i>=t)return{node:e,offset:t-n};n=i}t:{for(;e;){if(e.nextSibling){e=e.nextSibling;break t}e=e.parentNode}e=void 0}e=KE(e)}}function t1(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?t1(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function e1(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var t=qm(n.document);t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=qm(n.document)}return t}function FA(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function EP(n,t){var e=e1(t);t=n.focusedElem;var i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&t1(t.ownerDocument.documentElement,t)){if(i!==null&&FA(t)){if(n=i.start,e=i.end,e===void 0&&(e=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(e,t.value.length);else if(e=(n=t.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var s=t.textContent.length,a=Math.min(i.start,s);i=i.end===void 0?a:Math.min(i.end,s),!e.extend&&a>i&&(s=i,i=a,a=s),s=WE(t,a);var r=WE(t,i);s&&r&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==r.node||e.focusOffset!==r.offset)&&(n=n.createRange(),n.setStart(s.node,s.offset),e.removeAllRanges(),a>i?(e.addRange(n),e.extend(r.node,r.offset)):(n.setEnd(r.node,r.offset),e.addRange(n)))}}for(n=[],e=t;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<n.length;t++)e=n[t],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wP=Aa&&"documentMode"in document&&11>=document.documentMode,Zl=null,Wv=null,jh=null,Qv=!1;function QE(n,t,e){var i=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;Qv||Zl==null||Zl!==qm(i)||(i=Zl,"selectionStart"in i&&FA(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),jh&&od(jh,i)||(jh=i,i=og(Wv,"onSelect"),0<i.length&&(t=new Kg("onSelect","select",null,t,e),n.push({event:t,listeners:i}),t.target=Zl)))}function Ur(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var Jl={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},Xy={},n1={};Aa&&(n1=document.createElement("div").style,"AnimationEvent"in window||(delete Jl.animationend.animation,delete Jl.animationiteration.animation,delete Jl.animationstart.animation),"TransitionEvent"in window||delete Jl.transitionend.transition);function wl(n){if(Xy[n])return Xy[n];if(!Jl[n])return n;var t=Jl[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in n1)return Xy[n]=t[e];return n}var i1=wl("animationend"),s1=wl("animationiteration"),a1=wl("animationstart"),xP=wl("transitionrun"),TP=wl("transitionstart"),_P=wl("transitioncancel"),r1=wl("transitionend"),o1=new Map,ZE="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ii(n,t){o1.set(n,t),Sl(t,[n])}var ri=[],tc=0,jA=0;function Zg(){for(var n=tc,t=jA=tc=0;t<n;){var e=ri[t];ri[t++]=null;var i=ri[t];ri[t++]=null;var s=ri[t];ri[t++]=null;var a=ri[t];if(ri[t++]=null,i!==null&&s!==null){var r=i.pending;r===null?s.next=s:(s.next=r.next,r.next=s),i.pending=s}a!==0&&l1(e,s,a)}}function Jg(n,t,e,i){ri[tc++]=n,ri[tc++]=t,ri[tc++]=e,ri[tc++]=i,jA|=i,n.lanes|=i,n=n.alternate,n!==null&&(n.lanes|=i)}function BA(n,t,e,i){return Jg(n,t,e,i),Xm(n)}function Tr(n,t){return Jg(n,null,null,t),Xm(n)}function l1(n,t,e){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e);for(var s=!1,a=n.return;a!==null;)a.childLanes|=e,i=a.alternate,i!==null&&(i.childLanes|=e),a.tag===22&&(n=a.stateNode,n===null||n._visibility&1||(s=!0)),n=a,a=a.return;s&&t!==null&&n.tag===3&&(a=n.stateNode,s=31-Gn(e),a=a.hiddenUpdates,n=a[s],n===null?a[s]=[t]:n.push(t),t.lane=e|536870912)}function Xm(n){if(50<Kh)throw Kh=0,bb=null,Error(N(185));for(var t=n.return;t!==null;)n=t,t=n.return;return n.tag===3?n.stateNode:null}var ec={},JE=new WeakMap;function hi(n,t){if(typeof n=="object"&&n!==null){var e=JE.get(n);return e!==void 0?e:(t={value:n,source:t,stack:OE(t)},JE.set(n,t),t)}return{value:n,source:t,stack:OE(t)}}var nc=[],ic=0,Ym=null,$m=0,li=[],ci=0,nl=null,ca=1,ua="";function qr(n,t){nc[ic++]=$m,nc[ic++]=Ym,Ym=n,$m=t}function c1(n,t,e){li[ci++]=ca,li[ci++]=ua,li[ci++]=nl,nl=n;var i=ca;n=ua;var s=32-Gn(i)-1;i&=~(1<<s),e+=1;var a=32-Gn(t)+s;if(30<a){var r=s-s%5;a=(i&(1<<r)-1).toString(32),i>>=r,s-=r,ca=1<<32-Gn(t)+s|e<<s|i,ua=a+n}else ca=1<<a|e<<s|i,ua=n}function HA(n){n.return!==null&&(qr(n,1),c1(n,1,0))}function UA(n){for(;n===Ym;)Ym=nc[--ic],nc[ic]=null,$m=nc[--ic],nc[ic]=null;for(;n===nl;)nl=li[--ci],li[ci]=null,ua=li[--ci],li[ci]=null,ca=li[--ci],li[ci]=null}var un=null,Ie=null,pt=!1,Bi=null,hs=!1,Zv=Error(N(519));function cl(n){var t=Error(N(418,""));throw ld(hi(t,n)),Zv}function tw(n){var t=n.stateNode,e=n.type,i=n.memoizedProps;switch(t[en]=n,t[Cn]=i,e){case"dialog":ht("cancel",t),ht("close",t);break;case"iframe":case"object":case"embed":ht("load",t);break;case"video":case"audio":for(e=0;e<hd.length;e++)ht(hd[e],t);break;case"source":ht("error",t);break;case"img":case"image":case"link":ht("error",t),ht("load",t);break;case"details":ht("toggle",t);break;case"input":ht("invalid",t),z_(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Gm(t);break;case"select":ht("invalid",t);break;case"textarea":ht("invalid",t),G_(t,i.value,i.defaultValue,i.children),Gm(t)}e=i.children,typeof e!="string"&&typeof e!="number"&&typeof e!="bigint"||t.textContent===""+e||i.suppressHydrationWarning===!0||HC(t.textContent,e)?(i.popover!=null&&(ht("beforetoggle",t),ht("toggle",t)),i.onScroll!=null&&ht("scroll",t),i.onScrollEnd!=null&&ht("scrollend",t),i.onClick!=null&&(t.onclick=ry),t=!0):t=!1,t||cl(n)}function ew(n){for(un=n.return;un;)switch(un.tag){case 3:case 27:hs=!0;return;case 5:case 13:hs=!1;return;default:un=un.return}}function th(n){if(n!==un)return!1;if(!pt)return ew(n),pt=!0,!1;var t=!1,e;if((e=n.tag!==3&&n.tag!==27)&&((e=n.tag===5)&&(e=n.type,e=!(e!=="form"&&e!=="button")||_b(n.type,n.memoizedProps)),e=!e),e&&(t=!0),t&&Ie&&cl(n),ew(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(N(317));t:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8)if(e=n.data,e==="/$"){if(t===0){Ie=Ui(n.nextSibling);break t}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++;n=n.nextSibling}Ie=null}}else Ie=un?Ui(n.stateNode.nextSibling):null;return!0}function $f(){Ie=un=null,pt=!1}function ld(n){Bi===null?Bi=[n]:Bi.push(n)}var Bh=Error(N(460)),u1=Error(N(474)),Jv={then:function(){}};function nw(n){return n=n.status,n==="fulfilled"||n==="rejected"}function xp(){}function h1(n,t,e){switch(e=n[e],e===void 0?n.push(t):e!==t&&(t.then(xp,xp),t=e),t.status){case"fulfilled":return t.value;case"rejected":throw n=t.reason,n===Bh?Error(N(483)):n;default:if(typeof t.status=="string")t.then(xp,xp);else{if(n=kt,n!==null&&100<n.shellSuspendCounter)throw Error(N(482));n=t,n.status="pending",n.then(function(i){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=i}},function(i){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw n=t.reason,n===Bh?Error(N(483)):n}throw Hh=t,Bh}}var Hh=null;function iw(){if(Hh===null)throw Error(N(459));var n=Hh;return Hh=null,n}var mc=null,cd=0;function Tp(n){var t=cd;return cd+=1,mc===null&&(mc=[]),h1(mc,n,t)}function eh(n,t){t=t.props.ref,n.ref=t!==void 0?t:null}function _p(n,t){throw t.$$typeof===fk?Error(N(525)):(n=Object.prototype.toString.call(t),Error(N(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n)))}function sw(n){var t=n._init;return t(n._payload)}function d1(n){function t(m,y){if(n){var b=m.deletions;b===null?(m.deletions=[y],m.flags|=16):b.push(y)}}function e(m,y){if(!n)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function i(m){for(var y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(m,y){return m=Ar(m,y),m.index=0,m.sibling=null,m}function a(m,y,b){return m.index=b,n?(b=m.alternate,b!==null?(b=b.index,b<y?(m.flags|=33554434,y):b):(m.flags|=33554434,y)):(m.flags|=1048576,y)}function r(m){return n&&m.alternate===null&&(m.flags|=33554434),m}function o(m,y,b,w){return y===null||y.tag!==6?(y=sv(b,m.mode,w),y.return=m,y):(y=s(y,b),y.return=m,y)}function l(m,y,b,w){var T=b.type;return T===$l?u(m,y,b.props.children,w,b.key):y!==null&&(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Na&&sw(T)===y.type)?(y=s(y,b.props),eh(y,b),y.return=m,y):(y=Zp(b.type,b.key,b.props,null,m.mode,w),eh(y,b),y.return=m,y)}function c(m,y,b,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=av(b,m.mode,w),y.return=m,y):(y=s(y,b.children||[]),y.return=m,y)}function u(m,y,b,w,T){return y===null||y.tag!==7?(y=sl(b,m.mode,w,T),y.return=m,y):(y=s(y,b),y.return=m,y)}function d(m,y,b){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=sv(""+y,m.mode,b),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case bp:return b=Zp(y.type,y.key,y.props,null,m.mode,b),eh(b,y),b.return=m,b;case hh:return y=av(y,m.mode,b),y.return=m,y;case Na:var w=y._init;return y=w(y._payload),d(m,y,b)}if(fh(y)||Qu(y))return y=sl(y,m.mode,b,null),y.return=m,y;if(typeof y.then=="function")return d(m,Tp(y),b);if(y.$$typeof===la)return d(m,Cp(m,y),b);_p(m,y)}return null}function f(m,y,b,w){var T=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return T!==null?null:o(m,y,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bp:return b.key===T?l(m,y,b,w):null;case hh:return b.key===T?c(m,y,b,w):null;case Na:return T=b._init,b=T(b._payload),f(m,y,b,w)}if(fh(b)||Qu(b))return T!==null?null:u(m,y,b,w,null);if(typeof b.then=="function")return f(m,y,Tp(b),w);if(b.$$typeof===la)return f(m,y,Cp(m,b),w);_p(m,b)}return null}function p(m,y,b,w,T){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return m=m.get(b)||null,o(y,m,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case bp:return m=m.get(w.key===null?b:w.key)||null,l(y,m,w,T);case hh:return m=m.get(w.key===null?b:w.key)||null,c(y,m,w,T);case Na:var R=w._init;return w=R(w._payload),p(m,y,b,w,T)}if(fh(w)||Qu(w))return m=m.get(b)||null,u(y,m,w,T,null);if(typeof w.then=="function")return p(m,y,b,Tp(w),T);if(w.$$typeof===la)return p(m,y,b,Cp(y,w),T);_p(y,w)}return null}function g(m,y,b,w){for(var T=null,R=null,M=y,D=y=0,O=null;M!==null&&D<b.length;D++){M.index>D?(O=M,M=null):O=M.sibling;var k=f(m,M,b[D],w);if(k===null){M===null&&(M=O);break}n&&M&&k.alternate===null&&t(m,M),y=a(k,y,D),R===null?T=k:R.sibling=k,R=k,M=O}if(D===b.length)return e(m,M),pt&&qr(m,D),T;if(M===null){for(;D<b.length;D++)M=d(m,b[D],w),M!==null&&(y=a(M,y,D),R===null?T=M:R.sibling=M,R=M);return pt&&qr(m,D),T}for(M=i(M);D<b.length;D++)O=p(M,m,D,b[D],w),O!==null&&(n&&O.alternate!==null&&M.delete(O.key===null?D:O.key),y=a(O,y,D),R===null?T=O:R.sibling=O,R=O);return n&&M.forEach(function(B){return t(m,B)}),pt&&qr(m,D),T}function v(m,y,b,w){if(b==null)throw Error(N(151));for(var T=null,R=null,M=y,D=y=0,O=null,k=b.next();M!==null&&!k.done;D++,k=b.next()){M.index>D?(O=M,M=null):O=M.sibling;var B=f(m,M,k.value,w);if(B===null){M===null&&(M=O);break}n&&M&&B.alternate===null&&t(m,M),y=a(B,y,D),R===null?T=B:R.sibling=B,R=B,M=O}if(k.done)return e(m,M),pt&&qr(m,D),T;if(M===null){for(;!k.done;D++,k=b.next())k=d(m,k.value,w),k!==null&&(y=a(k,y,D),R===null?T=k:R.sibling=k,R=k);return pt&&qr(m,D),T}for(M=i(M);!k.done;D++,k=b.next())k=p(M,m,D,k.value,w),k!==null&&(n&&k.alternate!==null&&M.delete(k.key===null?D:k.key),y=a(k,y,D),R===null?T=k:R.sibling=k,R=k);return n&&M.forEach(function($){return t(m,$)}),pt&&qr(m,D),T}function A(m,y,b,w){if(typeof b=="object"&&b!==null&&b.type===$l&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case bp:t:{for(var T=b.key;y!==null;){if(y.key===T){if(T=b.type,T===$l){if(y.tag===7){e(m,y.sibling),w=s(y,b.props.children),w.return=m,m=w;break t}}else if(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Na&&sw(T)===y.type){e(m,y.sibling),w=s(y,b.props),eh(w,b),w.return=m,m=w;break t}e(m,y);break}else t(m,y);y=y.sibling}b.type===$l?(w=sl(b.props.children,m.mode,w,b.key),w.return=m,m=w):(w=Zp(b.type,b.key,b.props,null,m.mode,w),eh(w,b),w.return=m,m=w)}return r(m);case hh:t:{for(T=b.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){e(m,y.sibling),w=s(y,b.children||[]),w.return=m,m=w;break t}else{e(m,y);break}else t(m,y);y=y.sibling}w=av(b,m.mode,w),w.return=m,m=w}return r(m);case Na:return T=b._init,b=T(b._payload),A(m,y,b,w)}if(fh(b))return g(m,y,b,w);if(Qu(b)){if(T=Qu(b),typeof T!="function")throw Error(N(150));return b=T.call(b),v(m,y,b,w)}if(typeof b.then=="function")return A(m,y,Tp(b),w);if(b.$$typeof===la)return A(m,y,Cp(m,b),w);_p(m,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,y!==null&&y.tag===6?(e(m,y.sibling),w=s(y,b),w.return=m,m=w):(e(m,y),w=sv(b,m.mode,w),w.return=m,m=w),r(m)):e(m,y)}return function(m,y,b,w){try{cd=0;var T=A(m,y,b,w);return mc=null,T}catch(M){if(M===Bh)throw M;var R=pi(29,M,null,m.mode);return R.lanes=w,R.return=m,R}finally{}}}var ul=d1(!0),f1=d1(!1),Tu=Ss(null),Km=Ss(0);function aw(n,t){n=wa,Ut(Km,n),Ut(Tu,t),wa=n|t.baseLanes}function tb(){Ut(Km,wa),Ut(Tu,Tu.current)}function IA(){wa=Km.current,Pe(Tu),Pe(Km)}var yi=Ss(null),gs=null;function ja(n){var t=n.alternate;Ut(Ae,Ae.current&1),Ut(yi,n),gs===null&&(t===null||Tu.current!==null||t.memoizedState!==null)&&(gs=n)}function p1(n){if(n.tag===22){if(Ut(Ae,Ae.current),Ut(yi,n),gs===null){var t=n.alternate;t!==null&&t.memoizedState!==null&&(gs=n)}}else Ba()}function Ba(){Ut(Ae,Ae.current),Ut(yi,yi.current)}function ha(n){Pe(yi),gs===n&&(gs=null),Pe(Ae)}var Ae=Ss(0);function Wm(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var CP=typeof AbortController<"u"?AbortController:function(){var n=[],t=this.signal={aborted:!1,addEventListener:function(e,i){n.push(i)}};this.abort=function(){t.aborted=!0,n.forEach(function(e){return e()})}},RP=we.unstable_scheduleCallback,MP=we.unstable_NormalPriority,be={$$typeof:la,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zA(){return{controller:new CP,data:new Map,refCount:0}}function Kf(n){n.refCount--,n.refCount===0&&RP(MP,function(){n.controller.abort()})}var Uh=null,eb=0,_u=0,gc=null;function DP(n,t){if(Uh===null){var e=Uh=[];eb=0,_u=hS(),gc={status:"pending",value:void 0,then:function(i){e.push(i)}}}return eb++,t.then(rw,rw),t}function rw(){if(--eb===0&&Uh!==null){gc!==null&&(gc.status="fulfilled");var n=Uh;Uh=null,_u=0,gc=null;for(var t=0;t<n.length;t++)(0,n[t])()}}function LP(n,t){var e=[],i={status:"pending",value:null,reason:null,then:function(s){e.push(s)}};return n.then(function(){i.status="fulfilled",i.value=t;for(var s=0;s<e.length;s++)(0,e[s])(t)},function(s){for(i.status="rejected",i.reason=s,s=0;s<e.length;s++)(0,e[s])(void 0)}),i}var ow=et.S;et.S=function(n,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&DP(n,t),ow!==null&&ow(n,t)};var il=Ss(null);function VA(){var n=il.current;return n!==null?n:kt.pooledCache}function $p(n,t){t===null?Ut(il,il.current):Ut(il,t.pool)}function m1(){var n=VA();return n===null?null:{parent:be._currentValue,pool:n}}var _r=0,rt=null,xt=null,de=null,Qm=!1,yc=!1,hl=!1,Zm=0,ud=0,vc=null,OP=0;function re(){throw Error(N(321))}function GA(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!Kn(n[e],t[e]))return!1;return!0}function qA(n,t,e,i,s,a){return _r=a,rt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,et.H=n===null||n.memoizedState===null?xl:Fr,hl=!1,a=e(i,s),hl=!1,yc&&(a=y1(t,e,i,s)),g1(n),a}function g1(n){et.H=bs;var t=xt!==null&&xt.next!==null;if(_r=0,de=xt=rt=null,Qm=!1,ud=0,vc=null,t)throw Error(N(300));n===null||ke||(n=n.dependencies,n!==null&&eg(n)&&(ke=!0))}function y1(n,t,e,i){rt=n;var s=0;do{if(yc&&(vc=null),ud=0,yc=!1,25<=s)throw Error(N(301));if(s+=1,de=xt=null,n.updateQueue!=null){var a=n.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}et.H=Tl,a=t(e,i)}while(yc);return a}function kP(){var n=et.H,t=n.useState()[0];return t=typeof t.then=="function"?Wf(t):t,n=n.useState()[0],(xt!==null?xt.memoizedState:null)!==n&&(rt.flags|=1024),t}function XA(){var n=Zm!==0;return Zm=0,n}function YA(n,t,e){t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~e}function $A(n){if(Qm){for(n=n.memoizedState;n!==null;){var t=n.queue;t!==null&&(t.pending=null),n=n.next}Qm=!1}_r=0,de=xt=rt=null,yc=!1,ud=Zm=0,vc=null}function wn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?rt.memoizedState=de=n:de=de.next=n,de}function fe(){if(xt===null){var n=rt.alternate;n=n!==null?n.memoizedState:null}else n=xt.next;var t=de===null?rt.memoizedState:de.next;if(t!==null)de=t,xt=n;else{if(n===null)throw rt.alternate===null?Error(N(467)):Error(N(310));xt=n,n={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},de===null?rt.memoizedState=de=n:de=de.next=n}return de}var ty;ty=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Wf(n){var t=ud;return ud+=1,vc===null&&(vc=[]),n=h1(vc,n,t),t=rt,(de===null?t.memoizedState:de.next)===null&&(t=t.alternate,et.H=t===null||t.memoizedState===null?xl:Fr),n}function ey(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Wf(n);if(n.$$typeof===la)return nn(n)}throw Error(N(438,String(n)))}function KA(n){var t=null,e=rt.updateQueue;if(e!==null&&(t=e.memoCache),t==null){var i=rt.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),e===null&&(e=ty(),rt.updateQueue=e),e.memoCache=t,e=t.data[t.index],e===void 0)for(e=t.data[t.index]=Array(n),i=0;i<n;i++)e[i]=mk;return t.index++,e}function Sa(n,t){return typeof t=="function"?t(n):t}function Kp(n){var t=fe();return WA(t,xt,n)}function WA(n,t,e){var i=n.queue;if(i===null)throw Error(N(311));i.lastRenderedReducer=e;var s=n.baseQueue,a=i.pending;if(a!==null){if(s!==null){var r=s.next;s.next=a.next,a.next=r}t.baseQueue=s=a,i.pending=null}if(a=n.baseState,s===null)n.memoizedState=a;else{t=s.next;var o=r=null,l=null,c=t,u=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(ft&d)===d:(_r&d)===d){var f=c.revertLane;if(f===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===_u&&(u=!0);else if((_r&f)===f){c=c.next,f===_u&&(u=!0);continue}else d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=d,r=a):l=l.next=d,rt.lanes|=f,Rr|=f;d=c.action,hl&&e(a,d),a=c.hasEagerState?c.eagerState:e(a,d)}else f={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=f,r=a):l=l.next=f,rt.lanes|=d,Rr|=d;c=c.next}while(c!==null&&c!==t);if(l===null?r=a:l.next=o,!Kn(a,n.memoizedState)&&(ke=!0,u&&(e=gc,e!==null)))throw e;n.memoizedState=a,n.baseState=r,n.baseQueue=l,i.lastRenderedState=a}return s===null&&(i.lanes=0),[n.memoizedState,i.dispatch]}function Yy(n){var t=fe(),e=t.queue;if(e===null)throw Error(N(311));e.lastRenderedReducer=n;var i=e.dispatch,s=e.pending,a=t.memoizedState;if(s!==null){e.pending=null;var r=s=s.next;do a=n(a,r.action),r=r.next;while(r!==s);Kn(a,t.memoizedState)||(ke=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),e.lastRenderedState=a}return[a,i]}function v1(n,t,e){var i=rt,s=fe(),a=pt;if(a){if(e===void 0)throw Error(N(407));e=e()}else e=t();var r=!Kn((xt||s).memoizedState,e);if(r&&(s.memoizedState=e,ke=!0),s=s.queue,QA(S1.bind(null,i,s,n),[n]),s.getSnapshot!==t||r||de!==null&&de.memoizedState.tag&1){if(i.flags|=2048,Cu(9,A1.bind(null,i,s,e,t),{destroy:void 0},null),kt===null)throw Error(N(349));a||_r&60||b1(i,t,e)}return e}function b1(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=rt.updateQueue,t===null?(t=ty(),rt.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function A1(n,t,e,i){t.value=e,t.getSnapshot=i,E1(t)&&w1(n)}function S1(n,t,e){return e(function(){E1(t)&&w1(n)})}function E1(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!Kn(n,e)}catch{return!0}}function w1(n){var t=Tr(n,2);t!==null&&fn(t,n,2)}function nb(n){var t=wn();if(typeof n=="function"){var e=n;if(n=e(),hl){mr(!0);try{e()}finally{mr(!1)}}}return t.memoizedState=t.baseState=n,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:n},t}function x1(n,t,e,i){return n.baseState=e,WA(n,xt,typeof i=="function"?i:Sa)}function PP(n,t,e,i,s){if(iy(n))throw Error(N(485));if(n=t.action,n!==null){var a={payload:s,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){a.listeners.push(r)}};et.T!==null?e(!0):a.isTransition=!1,i(a),e=t.pending,e===null?(a.next=t.pending=a,T1(t,a)):(a.next=e.next,t.pending=e.next=a)}}function T1(n,t){var e=t.action,i=t.payload,s=n.state;if(t.isTransition){var a=et.T,r={};et.T=r;try{var o=e(s,i),l=et.S;l!==null&&l(r,o),lw(n,t,o)}catch(c){ib(n,t,c)}finally{et.T=a}}else try{a=e(s,i),lw(n,t,a)}catch(c){ib(n,t,c)}}function lw(n,t,e){e!==null&&typeof e=="object"&&typeof e.then=="function"?e.then(function(i){cw(n,t,i)},function(i){return ib(n,t,i)}):cw(n,t,e)}function cw(n,t,e){t.status="fulfilled",t.value=e,_1(t),n.state=e,t=n.pending,t!==null&&(e=t.next,e===t?n.pending=null:(e=e.next,t.next=e,T1(n,e)))}function ib(n,t,e){var i=n.pending;if(n.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=e,_1(t),t=t.next;while(t!==i)}n.action=null}function _1(n){n=n.listeners;for(var t=0;t<n.length;t++)(0,n[t])()}function C1(n,t){return t}function R1(n,t){if(pt){var e=kt.formState;if(e!==null){t:{var i=rt;if(pt){if(Ie){e:{for(var s=Ie,a=hs;s.nodeType!==8;){if(!a){s=null;break e}if(s=Ui(s.nextSibling),s===null){s=null;break e}}a=s.data,s=a==="F!"||a==="F"?s:null}if(s){Ie=Ui(s.nextSibling),i=s.data==="F!";break t}}cl(i)}i=!1}i&&(t=e[0])}}return e=wn(),e.memoizedState=e.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C1,lastRenderedState:t},e.queue=i,e=q1.bind(null,rt,i),i.dispatch=e,i=nb(!1),a=eS.bind(null,rt,!1,i.queue),i=wn(),s={state:t,dispatch:null,action:n,pending:null},i.queue=s,e=PP.bind(null,rt,s,a,e),s.dispatch=e,i.memoizedState=n,[t,e,!1]}function M1(n){var t=fe();return D1(t,xt,n)}function D1(n,t,e){t=WA(n,t,C1)[0],n=Kp(Sa)[0],t=typeof t=="object"&&t!==null&&typeof t.then=="function"?Wf(t):t;var i=fe(),s=i.queue,a=s.dispatch;return e!==i.memoizedState&&(rt.flags|=2048,Cu(9,NP.bind(null,s,e),{destroy:void 0},null)),[t,a,n]}function NP(n,t){n.action=t}function L1(n){var t=fe(),e=xt;if(e!==null)return D1(t,e,n);fe(),t=t.memoizedState,e=fe();var i=e.queue.dispatch;return e.memoizedState=n,[t,i,!1]}function Cu(n,t,e,i){return n={tag:n,create:t,inst:e,deps:i,next:null},t=rt.updateQueue,t===null&&(t=ty(),rt.updateQueue=t),e=t.lastEffect,e===null?t.lastEffect=n.next=n:(i=e.next,e.next=n,n.next=i,t.lastEffect=n),n}function O1(){return fe().memoizedState}function Wp(n,t,e,i){var s=wn();rt.flags|=n,s.memoizedState=Cu(1|t,e,{destroy:void 0},i===void 0?null:i)}function ny(n,t,e,i){var s=fe();i=i===void 0?null:i;var a=s.memoizedState.inst;xt!==null&&i!==null&&GA(i,xt.memoizedState.deps)?s.memoizedState=Cu(t,e,a,i):(rt.flags|=n,s.memoizedState=Cu(1|t,e,a,i))}function uw(n,t){Wp(8390656,8,n,t)}function QA(n,t){ny(2048,8,n,t)}function k1(n,t){return ny(4,2,n,t)}function P1(n,t){return ny(4,4,n,t)}function N1(n,t){if(typeof t=="function"){n=n();var e=t(n);return function(){typeof e=="function"?e():t(null)}}if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function F1(n,t,e){e=e!=null?e.concat([n]):null,ny(4,4,N1.bind(null,t,n),e)}function ZA(){}function j1(n,t){var e=fe();t=t===void 0?null:t;var i=e.memoizedState;return t!==null&&GA(t,i[1])?i[0]:(e.memoizedState=[n,t],n)}function B1(n,t){var e=fe();t=t===void 0?null:t;var i=e.memoizedState;if(t!==null&&GA(t,i[1]))return i[0];if(i=n(),hl){mr(!0);try{n()}finally{mr(!1)}}return e.memoizedState=[i,t],i}function JA(n,t,e){return e===void 0||_r&1073741824?n.memoizedState=t:(n.memoizedState=e,n=_C(),rt.lanes|=n,Rr|=n,e)}function H1(n,t,e,i){return Kn(e,t)?e:Tu.current!==null?(n=JA(n,e,i),Kn(n,t)||(ke=!0),n):_r&42?(n=_C(),rt.lanes|=n,Rr|=n,t):(ke=!0,n.memoizedState=e)}function U1(n,t,e,i,s){var a=Ft.p;Ft.p=a!==0&&8>a?a:8;var r=et.T,o={};et.T=o,eS(n,!1,t,e);try{var l=s(),c=et.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=LP(l,i);Ih(n,t,u,qn(n))}else Ih(n,t,i,qn(n))}catch(d){Ih(n,t,{then:function(){},status:"rejected",reason:d},qn())}finally{Ft.p=a,et.T=r}}function FP(){}function sb(n,t,e,i){if(n.tag!==5)throw Error(N(476));var s=I1(n).queue;U1(n,s,t,el,e===null?FP:function(){return z1(n),e(i)})}function I1(n){var t=n.memoizedState;if(t!==null)return t;t={memoizedState:el,baseState:el,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:el},next:null};var e={};return t.next={memoizedState:e,baseState:e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:e},next:null},n.memoizedState=t,n=n.alternate,n!==null&&(n.memoizedState=t),t}function z1(n){var t=I1(n).next.queue;Ih(n,t,{},qn())}function tS(){return nn(pd)}function V1(){return fe().memoizedState}function G1(){return fe().memoizedState}function jP(n){for(var t=n.return;t!==null;){switch(t.tag){case 24:case 3:var e=qn();n=vr(e);var i=br(t,n,e);i!==null&&(fn(i,t,e),Vh(i,t,e)),t={cache:zA()},n.payload=t;return}t=t.return}}function BP(n,t,e){var i=qn();e={lane:i,revertLane:0,action:e,hasEagerState:!1,eagerState:null,next:null},iy(n)?X1(t,e):(e=BA(n,t,e,i),e!==null&&(fn(e,n,i),Y1(e,t,i)))}function q1(n,t,e){var i=qn();Ih(n,t,e,i)}function Ih(n,t,e,i){var s={lane:i,revertLane:0,action:e,hasEagerState:!1,eagerState:null,next:null};if(iy(n))X1(t,s);else{var a=n.alternate;if(n.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var r=t.lastRenderedState,o=a(r,e);if(s.hasEagerState=!0,s.eagerState=o,Kn(o,r))return Jg(n,t,s,0),kt===null&&Zg(),!1}catch{}finally{}if(e=BA(n,t,s,i),e!==null)return fn(e,n,i),Y1(e,t,i),!0}return!1}function eS(n,t,e,i){if(i={lane:2,revertLane:hS(),action:i,hasEagerState:!1,eagerState:null,next:null},iy(n)){if(t)throw Error(N(479))}else t=BA(n,e,i,2),t!==null&&fn(t,n,2)}function iy(n){var t=n.alternate;return n===rt||t!==null&&t===rt}function X1(n,t){yc=Qm=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function Y1(n,t,e){if(e&4194176){var i=t.lanes;i&=n.pendingLanes,e|=i,t.lanes=e,N_(n,e)}}var bs={readContext:nn,use:ey,useCallback:re,useContext:re,useEffect:re,useImperativeHandle:re,useLayoutEffect:re,useInsertionEffect:re,useMemo:re,useReducer:re,useRef:re,useState:re,useDebugValue:re,useDeferredValue:re,useTransition:re,useSyncExternalStore:re,useId:re};bs.useCacheRefresh=re;bs.useMemoCache=re;bs.useHostTransitionStatus=re;bs.useFormState=re;bs.useActionState=re;bs.useOptimistic=re;var xl={readContext:nn,use:ey,useCallback:function(n,t){return wn().memoizedState=[n,t===void 0?null:t],n},useContext:nn,useEffect:uw,useImperativeHandle:function(n,t,e){e=e!=null?e.concat([n]):null,Wp(4194308,4,N1.bind(null,t,n),e)},useLayoutEffect:function(n,t){return Wp(4194308,4,n,t)},useInsertionEffect:function(n,t){Wp(4,2,n,t)},useMemo:function(n,t){var e=wn();t=t===void 0?null:t;var i=n();if(hl){mr(!0);try{n()}finally{mr(!1)}}return e.memoizedState=[i,t],i},useReducer:function(n,t,e){var i=wn();if(e!==void 0){var s=e(t);if(hl){mr(!0);try{e(t)}finally{mr(!1)}}}else s=t;return i.memoizedState=i.baseState=s,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},i.queue=n,n=n.dispatch=BP.bind(null,rt,n),[i.memoizedState,n]},useRef:function(n){var t=wn();return n={current:n},t.memoizedState=n},useState:function(n){n=nb(n);var t=n.queue,e=q1.bind(null,rt,t);return t.dispatch=e,[n.memoizedState,e]},useDebugValue:ZA,useDeferredValue:function(n,t){var e=wn();return JA(e,n,t)},useTransition:function(){var n=nb(!1);return n=U1.bind(null,rt,n.queue,!0,!1),wn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,t,e){var i=rt,s=wn();if(pt){if(e===void 0)throw Error(N(407));e=e()}else{if(e=t(),kt===null)throw Error(N(349));ft&60||b1(i,t,e)}s.memoizedState=e;var a={value:e,getSnapshot:t};return s.queue=a,uw(S1.bind(null,i,a,n),[n]),i.flags|=2048,Cu(9,A1.bind(null,i,a,e,t),{destroy:void 0},null),e},useId:function(){var n=wn(),t=kt.identifierPrefix;if(pt){var e=ua,i=ca;e=(i&~(1<<32-Gn(i)-1)).toString(32)+e,t=":"+t+"R"+e,e=Zm++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=OP++,t=":"+t+"r"+e.toString(32)+":";return n.memoizedState=t},useCacheRefresh:function(){return wn().memoizedState=jP.bind(null,rt)}};xl.useMemoCache=KA;xl.useHostTransitionStatus=tS;xl.useFormState=R1;xl.useActionState=R1;xl.useOptimistic=function(n){var t=wn();t.memoizedState=t.baseState=n;var e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=e,t=eS.bind(null,rt,!0,e),e.dispatch=t,[n,t]};var Fr={readContext:nn,use:ey,useCallback:j1,useContext:nn,useEffect:QA,useImperativeHandle:F1,useInsertionEffect:k1,useLayoutEffect:P1,useMemo:B1,useReducer:Kp,useRef:O1,useState:function(){return Kp(Sa)},useDebugValue:ZA,useDeferredValue:function(n,t){var e=fe();return H1(e,xt.memoizedState,n,t)},useTransition:function(){var n=Kp(Sa)[0],t=fe().memoizedState;return[typeof n=="boolean"?n:Wf(n),t]},useSyncExternalStore:v1,useId:V1};Fr.useCacheRefresh=G1;Fr.useMemoCache=KA;Fr.useHostTransitionStatus=tS;Fr.useFormState=M1;Fr.useActionState=M1;Fr.useOptimistic=function(n,t){var e=fe();return x1(e,xt,n,t)};var Tl={readContext:nn,use:ey,useCallback:j1,useContext:nn,useEffect:QA,useImperativeHandle:F1,useInsertionEffect:k1,useLayoutEffect:P1,useMemo:B1,useReducer:Yy,useRef:O1,useState:function(){return Yy(Sa)},useDebugValue:ZA,useDeferredValue:function(n,t){var e=fe();return xt===null?JA(e,n,t):H1(e,xt.memoizedState,n,t)},useTransition:function(){var n=Yy(Sa)[0],t=fe().memoizedState;return[typeof n=="boolean"?n:Wf(n),t]},useSyncExternalStore:v1,useId:V1};Tl.useCacheRefresh=G1;Tl.useMemoCache=KA;Tl.useHostTransitionStatus=tS;Tl.useFormState=L1;Tl.useActionState=L1;Tl.useOptimistic=function(n,t){var e=fe();return xt!==null?x1(e,xt,n,t):(e.baseState=n,[n,e.queue.dispatch])};function $y(n,t,e,i){t=n.memoizedState,e=e(i,t),e=e==null?t:jt({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var ab={isMounted:function(n){return(n=n._reactInternals)?Fu(n)===n:!1},enqueueSetState:function(n,t,e){n=n._reactInternals;var i=qn(),s=vr(i);s.payload=t,e!=null&&(s.callback=e),t=br(n,s,i),t!==null&&(fn(t,n,i),Vh(t,n,i))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var i=qn(),s=vr(i);s.tag=1,s.payload=t,e!=null&&(s.callback=e),t=br(n,s,i),t!==null&&(fn(t,n,i),Vh(t,n,i))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=qn(),i=vr(e);i.tag=2,t!=null&&(i.callback=t),t=br(n,i,e),t!==null&&(fn(t,n,e),Vh(t,n,e))}};function hw(n,t,e,i,s,a,r){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,a,r):t.prototype&&t.prototype.isPureReactComponent?!od(e,i)||!od(s,a):!0}function dw(n,t,e,i){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,i),t.state!==n&&ab.enqueueReplaceState(t,t.state,null)}function dl(n,t){var e=t;if("ref"in t){e={};for(var i in t)i!=="ref"&&(e[i]=t[i])}if(n=n.defaultProps){e===t&&(e=jt({},e));for(var s in n)e[s]===void 0&&(e[s]=n[s])}return e}var Jm=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function $1(n){Jm(n)}function K1(n){console.error(n)}function W1(n){Jm(n)}function tg(n,t){try{var e=n.onUncaughtError;e(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function fw(n,t,e){try{var i=n.onCaughtError;i(e.value,{componentStack:e.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function rb(n,t,e){return e=vr(e),e.tag=3,e.payload={element:null},e.callback=function(){tg(n,t)},e}function Q1(n){return n=vr(n),n.tag=3,n}function Z1(n,t,e,i){var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=i.value;n.payload=function(){return s(a)},n.callback=function(){fw(t,e,i)}}var r=e.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){fw(t,e,i),typeof s!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function HP(n,t,e,i,s){if(e.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=e.alternate,t!==null&&Qf(t,e,s,!0),e=yi.current,e!==null){switch(e.tag){case 13:return gs===null?Sb():e.alternate===null&&ee===0&&(ee=3),e.flags&=-257,e.flags|=65536,e.lanes=s,i===Jv?e.flags|=16384:(t=e.updateQueue,t===null?e.updateQueue=new Set([i]):t.add(i),ov(n,i,s)),!1;case 22:return e.flags|=65536,i===Jv?e.flags|=16384:(t=e.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},e.updateQueue=t):(e=t.retryQueue,e===null?t.retryQueue=new Set([i]):e.add(i)),ov(n,i,s)),!1}throw Error(N(435,e.tag))}return ov(n,i,s),Sb(),!1}if(pt)return t=yi.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==Zv&&(n=Error(N(422),{cause:i}),ld(hi(n,e)))):(i!==Zv&&(t=Error(N(423),{cause:i}),ld(hi(t,e))),n=n.current.alternate,n.flags|=65536,s&=-s,n.lanes|=s,i=hi(i,e),s=rb(n.stateNode,i,s),tv(n,s),ee!==4&&(ee=2)),!1;var a=Error(N(520),{cause:i});if(a=hi(a,e),Yh===null?Yh=[a]:Yh.push(a),ee!==4&&(ee=2),t===null)return!0;i=hi(i,e),e=t;do{switch(e.tag){case 3:return e.flags|=65536,n=s&-s,e.lanes|=n,n=rb(e.stateNode,i,n),tv(e,n),!1;case 1:if(t=e.type,a=e.stateNode,(e.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Sr===null||!Sr.has(a))))return e.flags|=65536,s&=-s,e.lanes|=s,s=Q1(s),Z1(s,n,e,i),tv(e,s),!1}e=e.return}while(e!==null);return!1}var J1=Error(N(461)),ke=!1;function Ue(n,t,e,i){t.child=n===null?f1(t,null,e,i):ul(t,n.child,e,i)}function pw(n,t,e,i,s){e=e.render;var a=t.ref;if("ref"in i){var r={};for(var o in i)o!=="ref"&&(r[o]=i[o])}else r=i;return fl(t),i=qA(n,t,e,r,a,s),o=XA(),n!==null&&!ke?(YA(n,t,s),Ea(n,t,s)):(pt&&o&&HA(t),t.flags|=1,Ue(n,t,i,s),t.child)}function mw(n,t,e,i,s){if(n===null){var a=e.type;return typeof a=="function"&&!rS(a)&&a.defaultProps===void 0&&e.compare===null?(t.tag=15,t.type=a,tC(n,t,a,i,s)):(n=Zp(e.type,null,i,t,t.mode,s),n.ref=t.ref,n.return=t,t.child=n)}if(a=n.child,!nS(n,s)){var r=a.memoizedProps;if(e=e.compare,e=e!==null?e:od,e(r,i)&&n.ref===t.ref)return Ea(n,t,s)}return t.flags|=1,n=Ar(a,i),n.ref=t.ref,n.return=t,t.child=n}function tC(n,t,e,i,s){if(n!==null){var a=n.memoizedProps;if(od(a,i)&&n.ref===t.ref)if(ke=!1,t.pendingProps=i=a,nS(n,s))n.flags&131072&&(ke=!0);else return t.lanes=n.lanes,Ea(n,t,s)}return ob(n,t,e,i,s)}function eC(n,t,e){var i=t.pendingProps,s=i.children,a=(t.stateNode._pendingVisibility&2)!==0,r=n!==null?n.memoizedState:null;if(zh(n,t),i.mode==="hidden"||a){if(t.flags&128){if(i=r!==null?r.baseLanes|e:e,n!==null){for(s=t.child=n.child,a=0;s!==null;)a=a|s.lanes|s.childLanes,s=s.sibling;t.childLanes=a&~i}else t.childLanes=0,t.child=null;return gw(n,t,i,e)}if(e&536870912)t.memoizedState={baseLanes:0,cachePool:null},n!==null&&$p(t,r!==null?r.cachePool:null),r!==null?aw(t,r):tb(),p1(t);else return t.lanes=t.childLanes=536870912,gw(n,t,r!==null?r.baseLanes|e:e,e)}else r!==null?($p(t,r.cachePool),aw(t,r),Ba(),t.memoizedState=null):(n!==null&&$p(t,null),tb(),Ba());return Ue(n,t,s,e),t.child}function gw(n,t,e,i){var s=VA();return s=s===null?null:{parent:be._currentValue,pool:s},t.memoizedState={baseLanes:e,cachePool:s},n!==null&&$p(t,null),tb(),p1(t),n!==null&&Qf(n,t,i,!0),null}function zh(n,t){var e=t.ref;if(e===null)n!==null&&n.ref!==null&&(t.flags|=2097664);else{if(typeof e!="function"&&typeof e!="object")throw Error(N(284));(n===null||n.ref!==e)&&(t.flags|=2097664)}}function ob(n,t,e,i,s){return fl(t),e=qA(n,t,e,i,void 0,s),i=XA(),n!==null&&!ke?(YA(n,t,s),Ea(n,t,s)):(pt&&i&&HA(t),t.flags|=1,Ue(n,t,e,s),t.child)}function yw(n,t,e,i,s,a){return fl(t),t.updateQueue=null,e=y1(t,i,e,s),g1(n),i=XA(),n!==null&&!ke?(YA(n,t,a),Ea(n,t,a)):(pt&&i&&HA(t),t.flags|=1,Ue(n,t,e,a),t.child)}function vw(n,t,e,i,s){if(fl(t),t.stateNode===null){var a=ec,r=e.contextType;typeof r=="object"&&r!==null&&(a=nn(r)),a=new e(i,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=ab,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=i,a.state=t.memoizedState,a.refs={},iS(t),r=e.contextType,a.context=typeof r=="object"&&r!==null?nn(r):ec,a.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&($y(t,e,r,i),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&ab.enqueueReplaceState(a,a.state,null),qh(t,i,a,s),Gh(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(n===null){a=t.stateNode;var o=t.memoizedProps,l=dl(e,o);a.props=l;var c=a.context,u=e.contextType;r=ec,typeof u=="object"&&u!==null&&(r=nn(u));var d=e.getDerivedStateFromProps;u=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||c!==r)&&dw(t,a,i,r),Fa=!1;var f=t.memoizedState;a.state=f,qh(t,i,a,s),Gh(),c=t.memoizedState,o||f!==c||Fa?(typeof d=="function"&&($y(t,e,d,i),c=t.memoizedState),(l=Fa||hw(t,e,l,i,f,c,r))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),a.props=i,a.state=c,a.context=r,i=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,fb(n,t),r=t.memoizedProps,u=dl(e,r),a.props=u,d=t.pendingProps,f=a.context,c=e.contextType,l=ec,typeof c=="object"&&c!==null&&(l=nn(c)),o=e.getDerivedStateFromProps,(c=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(r!==d||f!==l)&&dw(t,a,i,l),Fa=!1,f=t.memoizedState,a.state=f,qh(t,i,a,s),Gh();var p=t.memoizedState;r!==d||f!==p||Fa||n!==null&&n.dependencies!==null&&eg(n.dependencies)?(typeof o=="function"&&($y(t,e,o,i),p=t.memoizedState),(u=Fa||hw(t,e,u,i,f,p,l)||n!==null&&n.dependencies!==null&&eg(n.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,p,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||r===n.memoizedProps&&f===n.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===n.memoizedProps&&f===n.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),a.props=i,a.state=p,a.context=l,i=u):(typeof a.componentDidUpdate!="function"||r===n.memoizedProps&&f===n.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===n.memoizedProps&&f===n.memoizedState||(t.flags|=1024),i=!1)}return a=i,zh(n,t),i=(t.flags&128)!==0,a||i?(a=t.stateNode,e=i&&typeof e.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,n!==null&&i?(t.child=ul(t,n.child,null,s),t.child=ul(t,null,e,s)):Ue(n,t,e,s),t.memoizedState=a.state,n=t.child):n=Ea(n,t,s),n}function bw(n,t,e,i){return $f(),t.flags|=256,Ue(n,t,e,i),t.child}var Ky={dehydrated:null,treeContext:null,retryLane:0};function Wy(n){return{baseLanes:n,cachePool:m1()}}function Qy(n,t,e){return n=n!==null?n.childLanes&~e:0,t&&(n|=mi),n}function nC(n,t,e){var i=t.pendingProps,s=!1,a=(t.flags&128)!==0,r;if((r=a)||(r=n!==null&&n.memoizedState===null?!1:(Ae.current&2)!==0),r&&(s=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,n===null){if(pt){if(s?ja(t):Ba(),pt){var o=Ie,l;if(l=o){t:{for(l=o,o=hs;l.nodeType!==8;){if(!o){o=null;break t}if(l=Ui(l.nextSibling),l===null){o=null;break t}}o=l}o!==null?(t.memoizedState={dehydrated:o,treeContext:nl!==null?{id:ca,overflow:ua}:null,retryLane:536870912},l=pi(18,null,null,0),l.stateNode=o,l.return=t,t.child=l,un=t,Ie=null,l=!0):l=!1}l||cl(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return o.data==="$!"?t.lanes=16:t.lanes=536870912,null;ha(t)}return o=i.children,i=i.fallback,s?(Ba(),s=t.mode,o=cb({mode:"hidden",children:o},s),i=sl(i,s,e,null),o.return=t,i.return=t,o.sibling=i,t.child=o,s=t.child,s.memoizedState=Wy(e),s.childLanes=Qy(n,r,e),t.memoizedState=Ky,i):(ja(t),lb(t,o))}if(l=n.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(a)t.flags&256?(ja(t),t.flags&=-257,t=Zy(n,t,e)):t.memoizedState!==null?(Ba(),t.child=n.child,t.flags|=128,t=null):(Ba(),s=i.fallback,o=t.mode,i=cb({mode:"visible",children:i.children},o),s=sl(s,o,e,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,ul(t,n.child,null,e),i=t.child,i.memoizedState=Wy(e),i.childLanes=Qy(n,r,e),t.memoizedState=Ky,t=s);else if(ja(t),o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var c=r.dgst;r=c,i=Error(N(419)),i.stack="",i.digest=r,ld({value:i,source:null,stack:null}),t=Zy(n,t,e)}else if(ke||Qf(n,t,e,!1),r=(e&n.childLanes)!==0,ke||r){if(r=kt,r!==null){if(i=e&-e,i&42)i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(i=i&(r.suspendedLanes|e)?0:i,i!==0&&i!==l.retryLane)throw l.retryLane=i,Tr(n,i),fn(r,n,i),J1}o.data==="$?"||Sb(),t=Zy(n,t,e)}else o.data==="$?"?(t.flags|=128,t.child=n.child,t=t2.bind(null,n),o._reactRetry=t,t=null):(n=l.treeContext,Ie=Ui(o.nextSibling),un=t,pt=!0,Bi=null,hs=!1,n!==null&&(li[ci++]=ca,li[ci++]=ua,li[ci++]=nl,ca=n.id,ua=n.overflow,nl=t),t=lb(t,i.children),t.flags|=4096);return t}return s?(Ba(),s=i.fallback,o=t.mode,l=n.child,c=l.sibling,i=Ar(l,{mode:"hidden",children:i.children}),i.subtreeFlags=l.subtreeFlags&31457280,c!==null?s=Ar(c,s):(s=sl(s,o,e,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,o=n.child.memoizedState,o===null?o=Wy(e):(l=o.cachePool,l!==null?(c=be._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=m1(),o={baseLanes:o.baseLanes|e,cachePool:l}),s.memoizedState=o,s.childLanes=Qy(n,r,e),t.memoizedState=Ky,i):(ja(t),e=n.child,n=e.sibling,e=Ar(e,{mode:"visible",children:i.children}),e.return=t,e.sibling=null,n!==null&&(r=t.deletions,r===null?(t.deletions=[n],t.flags|=16):r.push(n)),t.child=e,t.memoizedState=null,e)}function lb(n,t){return t=cb({mode:"visible",children:t},n.mode),t.return=n,n.child=t}function cb(n,t){return xC(n,t,0,null)}function Zy(n,t,e){return ul(t,n.child,null,e),n=lb(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function Aw(n,t,e){n.lanes|=t;var i=n.alternate;i!==null&&(i.lanes|=t),hb(n.return,t,e)}function Jy(n,t,e,i,s){var a=n.memoizedState;a===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:e,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=e,a.tailMode=s)}function iC(n,t,e){var i=t.pendingProps,s=i.revealOrder,a=i.tail;if(Ue(n,t,i.children,e),i=Ae.current,i&2)i=i&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)t:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Aw(n,e,t);else if(n.tag===19)Aw(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}switch(Ut(Ae,i),s){case"forwards":for(e=t.child,s=null;e!==null;)n=e.alternate,n!==null&&Wm(n)===null&&(s=e),e=e.sibling;e=s,e===null?(s=t.child,t.child=null):(s=e.sibling,e.sibling=null),Jy(t,!1,s,e,a);break;case"backwards":for(e=null,s=t.child,t.child=null;s!==null;){if(n=s.alternate,n!==null&&Wm(n)===null){t.child=s;break}n=s.sibling,s.sibling=e,e=s,s=n}Jy(t,!0,e,null,a);break;case"together":Jy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ea(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),Rr|=t.lanes,!(e&t.childLanes))if(n!==null){if(Qf(n,t,e,!1),(e&t.childLanes)===0)return null}else return null;if(n!==null&&t.child!==n.child)throw Error(N(153));if(t.child!==null){for(n=t.child,e=Ar(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=Ar(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function nS(n,t){return n.lanes&t?!0:(n=n.dependencies,!!(n!==null&&eg(n)))}function UP(n,t,e){switch(t.tag){case 3:Im(t,t.stateNode.containerInfo),Ha(t,be,n.memoizedState.cache),$f();break;case 27:case 5:Vv(t);break;case 4:Im(t,t.stateNode.containerInfo);break;case 10:Ha(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(ja(t),t.flags|=128,null):e&t.child.childLanes?nC(n,t,e):(ja(t),n=Ea(n,t,e),n!==null?n.sibling:null);ja(t);break;case 19:var s=(n.flags&128)!==0;if(i=(e&t.childLanes)!==0,i||(Qf(n,t,e,!1),i=(e&t.childLanes)!==0),s){if(i)return iC(n,t,e);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ut(Ae,Ae.current),i)break;return null;case 22:case 23:return t.lanes=0,eC(n,t,e);case 24:Ha(t,be,n.memoizedState.cache)}return Ea(n,t,e)}function sC(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps)ke=!0;else{if(!nS(n,e)&&!(t.flags&128))return ke=!1,UP(n,t,e);ke=!!(n.flags&131072)}else ke=!1,pt&&t.flags&1048576&&c1(t,$m,t.index);switch(t.lanes=0,t.tag){case 16:t:{n=t.pendingProps;var i=t.elementType,s=i._init;if(i=s(i._payload),t.type=i,typeof i=="function")rS(i)?(n=dl(i,n),t.tag=1,t=vw(null,t,i,n,e)):(t.tag=0,t=ob(null,t,i,n,e));else{if(i!=null){if(s=i.$$typeof,s===CA){t.tag=11,t=pw(null,t,i,n,e);break t}else if(s===RA){t.tag=14,t=mw(null,t,i,n,e);break t}}throw t=Iv(i)||i,Error(N(306,t,""))}}return t;case 0:return ob(n,t,t.type,t.pendingProps,e);case 1:return i=t.type,s=dl(i,t.pendingProps),vw(n,t,i,s,e);case 3:t:{if(Im(t,t.stateNode.containerInfo),n===null)throw Error(N(387));var a=t.pendingProps;s=t.memoizedState,i=s.element,fb(n,t),qh(t,a,null,e);var r=t.memoizedState;if(a=r.cache,Ha(t,be,a),a!==s.cache&&db(t,[be],e,!0),Gh(),a=r.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=bw(n,t,a,e);break t}else if(a!==i){i=hi(Error(N(424)),t),ld(i),t=bw(n,t,a,e);break t}else for(Ie=Ui(t.stateNode.containerInfo.firstChild),un=t,pt=!0,Bi=null,hs=!0,e=f1(t,null,a,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if($f(),a===i){t=Ea(n,t,e);break t}Ue(n,t,a,e)}t=t.child}return t;case 26:return zh(n,t),n===null?(e=Bw(t.type,null,t.pendingProps,null))?t.memoizedState=e:pt||(e=t.type,n=t.pendingProps,i=lg(yr.current).createElement(e),i[en]=t,i[Cn]=n,ze(i,e,n),Oe(i),t.stateNode=i):t.memoizedState=Bw(t.type,n.memoizedProps,t.pendingProps,n.memoizedState),null;case 27:return Vv(t),n===null&&pt&&(i=t.stateNode=zC(t.type,t.pendingProps,yr.current),un=t,hs=!0,Ie=Ui(i.firstChild)),i=t.pendingProps.children,n!==null||pt?Ue(n,t,i,e):t.child=ul(t,null,i,e),zh(n,t),t.child;case 5:return n===null&&pt&&((s=i=Ie)&&(i=g2(i,t.type,t.pendingProps,hs),i!==null?(t.stateNode=i,un=t,Ie=Ui(i.firstChild),hs=!1,s=!0):s=!1),s||cl(t)),Vv(t),s=t.type,a=t.pendingProps,r=n!==null?n.memoizedProps:null,i=a.children,_b(s,a)?i=null:r!==null&&_b(s,r)&&(t.flags|=32),t.memoizedState!==null&&(s=qA(n,t,kP,null,null,e),pd._currentValue=s),zh(n,t),Ue(n,t,i,e),t.child;case 6:return n===null&&pt&&((n=e=Ie)&&(e=y2(e,t.pendingProps,hs),e!==null?(t.stateNode=e,un=t,Ie=null,n=!0):n=!1),n||cl(t)),null;case 13:return nC(n,t,e);case 4:return Im(t,t.stateNode.containerInfo),i=t.pendingProps,n===null?t.child=ul(t,null,i,e):Ue(n,t,i,e),t.child;case 11:return pw(n,t,t.type,t.pendingProps,e);case 7:return Ue(n,t,t.pendingProps,e),t.child;case 8:return Ue(n,t,t.pendingProps.children,e),t.child;case 12:return Ue(n,t,t.pendingProps.children,e),t.child;case 10:return i=t.pendingProps,Ha(t,t.type,i.value),Ue(n,t,i.children,e),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,fl(t),s=nn(s),i=i(s),t.flags|=1,Ue(n,t,i,e),t.child;case 14:return mw(n,t,t.type,t.pendingProps,e);case 15:return tC(n,t,t.type,t.pendingProps,e);case 19:return iC(n,t,e);case 22:return eC(n,t,e);case 24:return fl(t),i=nn(be),n===null?(s=VA(),s===null&&(s=kt,a=zA(),s.pooledCache=a,a.refCount++,a!==null&&(s.pooledCacheLanes|=e),s=a),t.memoizedState={parent:i,cache:s},iS(t),Ha(t,be,s)):(n.lanes&e&&(fb(n,t),qh(t,null,null,e),Gh()),s=n.memoizedState,a=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Ha(t,be,i)):(i=a.cache,Ha(t,be,i),i!==s.cache&&db(t,[be],e,!0))),Ue(n,t,t.pendingProps.children,e),t.child;case 29:throw t.pendingProps}throw Error(N(156,t.tag))}var ub=Ss(null),_l=null,da=null;function Ha(n,t,e){Ut(ub,t._currentValue),t._currentValue=e}function fa(n){n._currentValue=ub.current,Pe(ub)}function hb(n,t,e){for(;n!==null;){var i=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),n===e)break;n=n.return}}function db(n,t,e,i){var s=n.child;for(s!==null&&(s.return=n);s!==null;){var a=s.dependencies;if(a!==null){var r=s.child;a=a.firstContext;t:for(;a!==null;){var o=a;a=s;for(var l=0;l<t.length;l++)if(o.context===t[l]){a.lanes|=e,o=a.alternate,o!==null&&(o.lanes|=e),hb(a.return,e,n),i||(r=null);break t}a=o.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error(N(341));r.lanes|=e,a=r.alternate,a!==null&&(a.lanes|=e),hb(r,e,n),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===n){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function Qf(n,t,e,i){n=null;for(var s=t,a=!1;s!==null;){if(!a){if(s.flags&524288)a=!0;else if(s.flags&262144)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error(N(387));if(r=r.memoizedProps,r!==null){var o=s.type;Kn(s.pendingProps.value,r.value)||(n!==null?n.push(o):n=[o])}}else if(s===Um.current){if(r=s.alternate,r===null)throw Error(N(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(n!==null?n.push(pd):n=[pd])}s=s.return}n!==null&&db(t,n,e,i),t.flags|=262144}function eg(n){for(n=n.firstContext;n!==null;){if(!Kn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function fl(n){_l=n,da=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function nn(n){return aC(_l,n)}function Cp(n,t){return _l===null&&fl(n),aC(n,t)}function aC(n,t){var e=t._currentValue;if(t={context:t,memoizedValue:e,next:null},da===null){if(n===null)throw Error(N(308));da=t,n.dependencies={lanes:0,firstContext:t},n.flags|=524288}else da=da.next=t;return e}var Fa=!1;function iS(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fb(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function vr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function br(n,t,e){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,$t&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,t=Xm(n),l1(n,null,e),t}return Jg(n,i,t,e),Xm(n)}function Vh(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194176)!==0)){var i=t.lanes;i&=n.pendingLanes,e|=i,t.lanes=e,N_(n,e)}}function tv(n,t){var e=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,e===i)){var s=null,a=null;if(e=e.firstBaseUpdate,e!==null){do{var r={lane:e.lane,tag:e.tag,payload:e.payload,callback:null,next:null};a===null?s=a=r:a=a.next=r,e=e.next}while(e!==null);a===null?s=a=t:a=a.next=t}else s=a=t;e={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}var pb=!1;function Gh(){if(pb){var n=gc;if(n!==null)throw n}}function qh(n,t,e,i){pb=!1;var s=n.updateQueue;Fa=!1;var a=s.firstBaseUpdate,r=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,r===null?a=c:r.next=c,r=l;var u=n.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==r&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var d=s.baseState;r=0,u=c=l=null,o=a;do{var f=o.lane&-536870913,p=f!==o.lane;if(p?(ft&f)===f:(i&f)===f){f!==0&&f===_u&&(pb=!0),u!==null&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var g=n,v=o;f=t;var A=e;switch(v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(A,d,f);break t}d=g;break t;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(A,d,f):g,f==null)break t;d=jt({},d,f);break t;case 2:Fa=!0}}f=o.callback,f!==null&&(n.flags|=64,p&&(n.flags|=8192),p=s.callbacks,p===null?s.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,r|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,a===null&&(s.shared.lanes=0),Rr|=r,n.lanes=r,n.memoizedState=d}}function rC(n,t){if(typeof n!="function")throw Error(N(191,n));n.call(t)}function oC(n,t){var e=n.callbacks;if(e!==null)for(n.callbacks=null,n=0;n<e.length;n++)rC(e[n],t)}function Zf(n,t){try{var e=t.updateQueue,i=e!==null?e.lastEffect:null;if(i!==null){var s=i.next;e=s;do{if((e.tag&n)===n){i=void 0;var a=e.create,r=e.inst;i=a(),r.destroy=i}e=e.next}while(e!==s)}}catch(o){Mt(t,t.return,o)}}function Cr(n,t,e){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var a=s.next;i=a;do{if((i.tag&n)===n){var r=i.inst,o=r.destroy;if(o!==void 0){r.destroy=void 0,s=t;var l=e;try{o()}catch(c){Mt(s,l,c)}}}i=i.next}while(i!==a)}}catch(c){Mt(t,t.return,c)}}function lC(n){var t=n.updateQueue;if(t!==null){var e=n.stateNode;try{oC(t,e)}catch(i){Mt(n,n.return,i)}}}function cC(n,t,e){e.props=dl(n.type,n.memoizedProps),e.state=n.memoizedState;try{e.componentWillUnmount()}catch(i){Mt(n,t,i)}}function eo(n,t){try{var e=n.ref;if(e!==null){var i=n.stateNode;switch(n.tag){case 26:case 27:case 5:var s=i;break;default:s=i}typeof e=="function"?n.refCleanup=e(s):e.current=s}}catch(a){Mt(n,t,a)}}function zn(n,t){var e=n.ref,i=n.refCleanup;if(e!==null)if(typeof i=="function")try{i()}catch(s){Mt(n,t,s)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof e=="function")try{e(null)}catch(s){Mt(n,t,s)}else e.current=null}function uC(n){var t=n.type,e=n.memoizedProps,i=n.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":e.autoFocus&&i.focus();break t;case"img":e.src?i.src=e.src:e.srcSet&&(i.srcset=e.srcSet)}}catch(s){Mt(n,n.return,s)}}function Sw(n,t,e){try{var i=n.stateNode;h2(i,n.type,e,t),i[Cn]=t}catch(s){Mt(n,n.return,s)}}function hC(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function ev(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||hC(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function mb(n,t,e){var i=n.tag;if(i===5||i===6)n=n.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(n,t):e.insertBefore(n,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(n,e)):(t=e,t.appendChild(n)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=ry));else if(i!==4&&i!==27&&(n=n.child,n!==null))for(mb(n,t,e),n=n.sibling;n!==null;)mb(n,t,e),n=n.sibling}function ng(n,t,e){var i=n.tag;if(i===5||i===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(i!==4&&i!==27&&(n=n.child,n!==null))for(ng(n,t,e),n=n.sibling;n!==null;)ng(n,t,e),n=n.sibling}var sa=!1,Jt=!1,nv=!1,Ew=typeof WeakSet=="function"?WeakSet:Set,Le=null,ww=!1;function IP(n,t){if(n=n.containerInfo,xb=dg,n=e1(n),FA(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else t:{e=(e=n.ownerDocument)&&e.defaultView||window;var i=e.getSelection&&e.getSelection();if(i&&i.rangeCount!==0){e=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{e.nodeType,a.nodeType}catch{e=null;break t}var r=0,o=-1,l=-1,c=0,u=0,d=n,f=null;e:for(;;){for(var p;d!==e||s!==0&&d.nodeType!==3||(o=r+s),d!==a||i!==0&&d.nodeType!==3||(l=r+i),d.nodeType===3&&(r+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===n)break e;if(f===e&&++c===s&&(o=r),f===a&&++u===i&&(l=r),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}e=o===-1||l===-1?null:{start:o,end:l}}else e=null}e=e||{start:0,end:0}}else e=null;for(Tb={focusedElem:n,selectionRange:e},dg=!1,Le=t;Le!==null;)if(t=Le,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,Le=n;else for(;Le!==null;){switch(t=Le,a=t.alternate,n=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&a!==null){n=void 0,e=t,s=a.memoizedProps,a=a.memoizedState,i=e.stateNode;try{var g=dl(e.type,s,e.elementType===e.type);n=i.getSnapshotBeforeUpdate(g,a),i.__reactInternalSnapshotBeforeUpdate=n}catch(v){Mt(e,e.return,v)}}break;case 3:if(n&1024){if(n=t.stateNode.containerInfo,e=n.nodeType,e===9)Cb(n);else if(e===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Cb(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(N(163))}if(n=t.sibling,n!==null){n.return=t.return,Le=n;break}Le=t.return}return g=ww,ww=!1,g}function dC(n,t,e){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Cs(n,e),i&4&&Zf(5,e);break;case 1:if(Cs(n,e),i&4)if(n=e.stateNode,t===null)try{n.componentDidMount()}catch(o){Mt(e,e.return,o)}else{var s=dl(e.type,t.memoizedProps);t=t.memoizedState;try{n.componentDidUpdate(s,t,n.__reactInternalSnapshotBeforeUpdate)}catch(o){Mt(e,e.return,o)}}i&64&&lC(e),i&512&&eo(e,e.return);break;case 3:if(Cs(n,e),i&64&&(i=e.updateQueue,i!==null)){if(n=null,e.child!==null)switch(e.child.tag){case 27:case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}try{oC(i,n)}catch(o){Mt(e,e.return,o)}}break;case 26:Cs(n,e),i&512&&eo(e,e.return);break;case 27:case 5:Cs(n,e),t===null&&i&4&&uC(e),i&512&&eo(e,e.return);break;case 12:Cs(n,e);break;case 13:Cs(n,e),i&4&&mC(n,e);break;case 22:if(s=e.memoizedState!==null||sa,!s){t=t!==null&&t.memoizedState!==null||Jt;var a=sa,r=Jt;sa=s,(Jt=t)&&!r?La(n,e,(e.subtreeFlags&8772)!==0):Cs(n,e),sa=a,Jt=r}i&512&&(e.memoizedProps.mode==="manual"?eo(e,e.return):zn(e,e.return));break;default:Cs(n,e)}}function fC(n){var t=n.alternate;t!==null&&(n.alternate=null,fC(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&DA(t)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var he=null,Bn=!1;function _s(n,t,e){for(e=e.child;e!==null;)pC(n,t,e),e=e.sibling}function pC(n,t,e){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(Gf,e)}catch{}switch(e.tag){case 26:Jt||zn(e,t),_s(n,t,e),e.memoizedState?e.memoizedState.count--:e.stateNode&&(e=e.stateNode,e.parentNode.removeChild(e));break;case 27:Jt||zn(e,t);var i=he,s=Bn;for(he=e.stateNode,_s(n,t,e),e=e.stateNode,t=e.attributes;t.length;)e.removeAttributeNode(t[0]);DA(e),he=i,Bn=s;break;case 5:Jt||zn(e,t);case 6:s=he;var a=Bn;if(he=null,_s(n,t,e),he=s,Bn=a,he!==null)if(Bn)try{n=he,i=e.stateNode,n.nodeType===8?n.parentNode.removeChild(i):n.removeChild(i)}catch(r){Mt(e,t,r)}else try{he.removeChild(e.stateNode)}catch(r){Mt(e,t,r)}break;case 18:he!==null&&(Bn?(t=he,e=e.stateNode,t.nodeType===8?pv(t.parentNode,e):t.nodeType===1&&pv(t,e),yd(t)):pv(he,e.stateNode));break;case 4:i=he,s=Bn,he=e.stateNode.containerInfo,Bn=!0,_s(n,t,e),he=i,Bn=s;break;case 0:case 11:case 14:case 15:Jt||Cr(2,e,t),Jt||Cr(4,e,t),_s(n,t,e);break;case 1:Jt||(zn(e,t),i=e.stateNode,typeof i.componentWillUnmount=="function"&&cC(e,t,i)),_s(n,t,e);break;case 21:_s(n,t,e);break;case 22:Jt||zn(e,t),Jt=(i=Jt)||e.memoizedState!==null,_s(n,t,e),Jt=i;break;default:_s(n,t,e)}}function mC(n,t){if(t.memoizedState===null&&(n=t.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{yd(n)}catch(e){Mt(t,t.return,e)}}function zP(n){switch(n.tag){case 13:case 19:var t=n.stateNode;return t===null&&(t=n.stateNode=new Ew),t;case 22:return n=n.stateNode,t=n._retryCache,t===null&&(t=n._retryCache=new Ew),t;default:throw Error(N(435,n.tag))}}function iv(n,t){var e=zP(n);t.forEach(function(i){var s=e2.bind(null,n,i);e.has(i)||(e.add(i),i.then(s,s))})}function Wn(n,t){var e=t.deletions;if(e!==null)for(var i=0;i<e.length;i++){var s=e[i],a=n,r=t,o=r;t:for(;o!==null;){switch(o.tag){case 27:case 5:he=o.stateNode,Bn=!1;break t;case 3:he=o.stateNode.containerInfo,Bn=!0;break t;case 4:he=o.stateNode.containerInfo,Bn=!0;break t}o=o.return}if(he===null)throw Error(N(160));pC(a,r,s),he=null,Bn=!1,a=s.alternate,a!==null&&(a.return=null),s.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)gC(t,n),t=t.sibling}var ji=null;function gC(n,t){var e=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Wn(t,n),Qn(n),i&4&&(Cr(3,n,n.return),Zf(3,n),Cr(5,n,n.return));break;case 1:Wn(t,n),Qn(n),i&512&&(Jt||e===null||zn(e,e.return)),i&64&&sa&&(n=n.updateQueue,n!==null&&(i=n.callbacks,i!==null&&(e=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=e===null?i:e.concat(i))));break;case 26:var s=ji;if(Wn(t,n),Qn(n),i&512&&(Jt||e===null||zn(e,e.return)),i&4){var a=e!==null?e.memoizedState:null;if(i=n.memoizedState,e===null)if(i===null)if(n.stateNode===null){t:{i=n.type,e=n.memoizedProps,s=s.ownerDocument||s;e:switch(i){case"title":a=s.getElementsByTagName("title")[0],(!a||a[sd]||a[en]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=s.createElement(i),s.head.insertBefore(a,s.querySelector("head > title"))),ze(a,i,e),a[en]=n,Oe(a),i=a;break t;case"link":var r=Uw("link","href",s).get(i+(e.href||""));if(r){for(var o=0;o<r.length;o++)if(a=r[o],a.getAttribute("href")===(e.href==null?null:e.href)&&a.getAttribute("rel")===(e.rel==null?null:e.rel)&&a.getAttribute("title")===(e.title==null?null:e.title)&&a.getAttribute("crossorigin")===(e.crossOrigin==null?null:e.crossOrigin)){r.splice(o,1);break e}}a=s.createElement(i),ze(a,i,e),s.head.appendChild(a);break;case"meta":if(r=Uw("meta","content",s).get(i+(e.content||""))){for(o=0;o<r.length;o++)if(a=r[o],a.getAttribute("content")===(e.content==null?null:""+e.content)&&a.getAttribute("name")===(e.name==null?null:e.name)&&a.getAttribute("property")===(e.property==null?null:e.property)&&a.getAttribute("http-equiv")===(e.httpEquiv==null?null:e.httpEquiv)&&a.getAttribute("charset")===(e.charSet==null?null:e.charSet)){r.splice(o,1);break e}}a=s.createElement(i),ze(a,i,e),s.head.appendChild(a);break;default:throw Error(N(468,i))}a[en]=n,Oe(a),i=a}n.stateNode=i}else Iw(s,n.type,n.stateNode);else n.stateNode=Hw(s,i,n.memoizedProps);else a!==i?(a===null?e.stateNode!==null&&(e=e.stateNode,e.parentNode.removeChild(e)):a.count--,i===null?Iw(s,n.type,n.stateNode):Hw(s,i,n.memoizedProps)):i===null&&n.stateNode!==null&&Sw(n,n.memoizedProps,e.memoizedProps)}break;case 27:if(i&4&&n.alternate===null){s=n.stateNode,a=n.memoizedProps;try{for(var l=s.firstChild;l;){var c=l.nextSibling,u=l.nodeName;l[sd]||u==="HEAD"||u==="BODY"||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&l.rel.toLowerCase()==="stylesheet"||s.removeChild(l),l=c}for(var d=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);ze(s,d,a),s[en]=n,s[Cn]=a}catch(g){Mt(n,n.return,g)}}case 5:if(Wn(t,n),Qn(n),i&512&&(Jt||e===null||zn(e,e.return)),n.flags&32){s=n.stateNode;try{xu(s,"")}catch(g){Mt(n,n.return,g)}}i&4&&n.stateNode!=null&&(s=n.memoizedProps,Sw(n,s,e!==null?e.memoizedProps:s)),i&1024&&(nv=!0);break;case 6:if(Wn(t,n),Qn(n),i&4){if(n.stateNode===null)throw Error(N(162));i=n.memoizedProps,e=n.stateNode;try{e.nodeValue=i}catch(g){Mt(n,n.return,g)}}break;case 3:if(tm=null,s=ji,ji=cg(t.containerInfo),Wn(t,n),ji=s,Qn(n),i&4&&e!==null&&e.memoizedState.isDehydrated)try{yd(t.containerInfo)}catch(g){Mt(n,n.return,g)}nv&&(nv=!1,yC(n));break;case 4:i=ji,ji=cg(n.stateNode.containerInfo),Wn(t,n),Qn(n),ji=i;break;case 12:Wn(t,n),Qn(n);break;case 13:Wn(t,n),Qn(n),n.child.flags&8192&&n.memoizedState!==null!=(e!==null&&e.memoizedState!==null)&&(cS=ms()),i&4&&(i=n.updateQueue,i!==null&&(n.updateQueue=null,iv(n,i)));break;case 22:if(i&512&&(Jt||e===null||zn(e,e.return)),l=n.memoizedState!==null,c=e!==null&&e.memoizedState!==null,u=sa,d=Jt,sa=u||l,Jt=d||c,Wn(t,n),Jt=d,sa=u,Qn(n),t=n.stateNode,t._current=n,t._visibility&=-3,t._visibility|=t._pendingVisibility&2,i&8192&&(t._visibility=l?t._visibility&-2:t._visibility|1,l&&(t=sa||Jt,e===null||c||t||jl(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))t:for(e=null,t=n;;){if(t.tag===5||t.tag===26||t.tag===27){if(e===null){c=e=t;try{if(s=c.stateNode,l)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{r=c.stateNode,o=c.memoizedProps.style;var p=o!=null&&o.hasOwnProperty("display")?o.display:null;r.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(g){Mt(c,c.return,g)}}}else if(t.tag===6){if(e===null){c=t;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(g){Mt(c,c.return,g)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===n)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;e===t&&(e=null),t=t.return}e===t&&(e=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=n.updateQueue,i!==null&&(e=i.retryQueue,e!==null&&(i.retryQueue=null,iv(n,e))));break;case 19:Wn(t,n),Qn(n),i&4&&(i=n.updateQueue,i!==null&&(n.updateQueue=null,iv(n,i)));break;case 21:break;default:Wn(t,n),Qn(n)}}function Qn(n){var t=n.flags;if(t&2){try{if(n.tag!==27){t:{for(var e=n.return;e!==null;){if(hC(e)){var i=e;break t}e=e.return}throw Error(N(160))}switch(i.tag){case 27:var s=i.stateNode,a=ev(n);ng(n,a,s);break;case 5:var r=i.stateNode;i.flags&32&&(xu(r,""),i.flags&=-33);var o=ev(n);ng(n,o,r);break;case 3:case 4:var l=i.stateNode.containerInfo,c=ev(n);mb(n,c,l);break;default:throw Error(N(161))}}}catch(u){Mt(n,n.return,u)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function yC(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var t=n;yC(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),n=n.sibling}}function Cs(n,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)dC(n,t.alternate,t),t=t.sibling}function jl(n){for(n=n.child;n!==null;){var t=n;switch(t.tag){case 0:case 11:case 14:case 15:Cr(4,t,t.return),jl(t);break;case 1:zn(t,t.return);var e=t.stateNode;typeof e.componentWillUnmount=="function"&&cC(t,t.return,e),jl(t);break;case 26:case 27:case 5:zn(t,t.return),jl(t);break;case 22:zn(t,t.return),t.memoizedState===null&&jl(t);break;default:jl(t)}n=n.sibling}}function La(n,t,e){for(e=e&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,s=n,a=t,r=a.flags;switch(a.tag){case 0:case 11:case 15:La(s,a,e),Zf(4,a);break;case 1:if(La(s,a,e),i=a,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(c){Mt(i,i.return,c)}if(i=a,s=i.updateQueue,s!==null){var o=i.stateNode;try{var l=s.shared.hiddenCallbacks;if(l!==null)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)rC(l[s],o)}catch(c){Mt(i,i.return,c)}}e&&r&64&&lC(a),eo(a,a.return);break;case 26:case 27:case 5:La(s,a,e),e&&i===null&&r&4&&uC(a),eo(a,a.return);break;case 12:La(s,a,e);break;case 13:La(s,a,e),e&&r&4&&mC(s,a);break;case 22:a.memoizedState===null&&La(s,a,e),eo(a,a.return);break;default:La(s,a,e)}t=t.sibling}}function sS(n,t){var e=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==e&&(n!=null&&n.refCount++,e!=null&&Kf(e))}function aS(n,t){n=null,t.alternate!==null&&(n=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==n&&(t.refCount++,n!=null&&Kf(n))}function Da(n,t,e,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vC(n,t,e,i),t=t.sibling}function vC(n,t,e,i){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Da(n,t,e,i),s&2048&&Zf(9,t);break;case 3:Da(n,t,e,i),s&2048&&(n=null,t.alternate!==null&&(n=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==n&&(t.refCount++,n!=null&&Kf(n)));break;case 12:if(s&2048){Da(n,t,e,i),n=t.stateNode;try{var a=t.memoizedProps,r=a.id,o=a.onPostCommit;typeof o=="function"&&o(r,t.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(l){Mt(t,t.return,l)}}else Da(n,t,e,i);break;case 23:break;case 22:a=t.stateNode,t.memoizedState!==null?a._visibility&4?Da(n,t,e,i):Xh(n,t):a._visibility&4?Da(n,t,e,i):(a._visibility|=4,Bl(n,t,e,i,(t.subtreeFlags&10256)!==0)),s&2048&&sS(t.alternate,t);break;case 24:Da(n,t,e,i),s&2048&&aS(t.alternate,t);break;default:Da(n,t,e,i)}}function Bl(n,t,e,i,s){for(s=s&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var a=n,r=t,o=e,l=i,c=r.flags;switch(r.tag){case 0:case 11:case 15:Bl(a,r,o,l,s),Zf(8,r);break;case 23:break;case 22:var u=r.stateNode;r.memoizedState!==null?u._visibility&4?Bl(a,r,o,l,s):Xh(a,r):(u._visibility|=4,Bl(a,r,o,l,s)),s&&c&2048&&sS(r.alternate,r);break;case 24:Bl(a,r,o,l,s),s&&c&2048&&aS(r.alternate,r);break;default:Bl(a,r,o,l,s)}t=t.sibling}}function Xh(n,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var e=n,i=t,s=i.flags;switch(i.tag){case 22:Xh(e,i),s&2048&&sS(i.alternate,i);break;case 24:Xh(e,i),s&2048&&aS(i.alternate,i);break;default:Xh(e,i)}t=t.sibling}}var mh=8192;function Pl(n){if(n.subtreeFlags&mh)for(n=n.child;n!==null;)bC(n),n=n.sibling}function bC(n){switch(n.tag){case 26:Pl(n),n.flags&mh&&n.memoizedState!==null&&D2(ji,n.memoizedState,n.memoizedProps);break;case 5:Pl(n);break;case 3:case 4:var t=ji;ji=cg(n.stateNode.containerInfo),Pl(n),ji=t;break;case 22:n.memoizedState===null&&(t=n.alternate,t!==null&&t.memoizedState!==null?(t=mh,mh=16777216,Pl(n),mh=t):Pl(n));break;default:Pl(n)}}function AC(n){var t=n.alternate;if(t!==null&&(n=t.child,n!==null)){t.child=null;do t=n.sibling,n.sibling=null,n=t;while(n!==null)}}function nh(n){var t=n.deletions;if(n.flags&16){if(t!==null)for(var e=0;e<t.length;e++){var i=t[e];Le=i,EC(i,n)}AC(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)SC(n),n=n.sibling}function SC(n){switch(n.tag){case 0:case 11:case 15:nh(n),n.flags&2048&&Cr(9,n,n.return);break;case 3:nh(n);break;case 12:nh(n);break;case 22:var t=n.stateNode;n.memoizedState!==null&&t._visibility&4&&(n.return===null||n.return.tag!==13)?(t._visibility&=-5,Qp(n)):nh(n);break;default:nh(n)}}function Qp(n){var t=n.deletions;if(n.flags&16){if(t!==null)for(var e=0;e<t.length;e++){var i=t[e];Le=i,EC(i,n)}AC(n)}for(n=n.child;n!==null;){switch(t=n,t.tag){case 0:case 11:case 15:Cr(8,t,t.return),Qp(t);break;case 22:e=t.stateNode,e._visibility&4&&(e._visibility&=-5,Qp(t));break;default:Qp(t)}n=n.sibling}}function EC(n,t){for(;Le!==null;){var e=Le;switch(e.tag){case 0:case 11:case 15:Cr(8,e,t);break;case 23:case 22:if(e.memoizedState!==null&&e.memoizedState.cachePool!==null){var i=e.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Kf(e.memoizedState.cache)}if(i=e.child,i!==null)i.return=e,Le=i;else t:for(e=n;Le!==null;){i=Le;var s=i.sibling,a=i.return;if(fC(i),i===e){Le=null;break t}if(s!==null){s.return=a,Le=s;break t}Le=a}}}function VP(n,t,e,i){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(n,t,e,i){return new VP(n,t,e,i)}function rS(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ar(n,t){var e=n.alternate;return e===null?(e=pi(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&31457280,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e.refCleanup=n.refCleanup,e}function wC(n,t){n.flags&=31457282;var e=n.alternate;return e===null?(n.childLanes=0,n.lanes=t,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.type=e.type,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n}function Zp(n,t,e,i,s,a){var r=0;if(i=n,typeof n=="function")rS(n)&&(r=1);else if(typeof n=="string")r=R2(n,e,ps.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case $l:return sl(e.children,s,a,t);case x_:r=8,s|=24;break;case Bv:return n=pi(12,e,t,s|2),n.elementType=Bv,n.lanes=a,n;case Hv:return n=pi(13,e,t,s),n.elementType=Hv,n.lanes=a,n;case Uv:return n=pi(19,e,t,s),n.elementType=Uv,n.lanes=a,n;case __:return xC(e,s,a,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case pk:case la:r=10;break t;case T_:r=9;break t;case CA:r=11;break t;case RA:r=14;break t;case Na:r=16,i=null;break t}r=29,e=Error(N(130,n===null?"null":typeof n,"")),i=null}return t=pi(r,e,t,s),t.elementType=n,t.type=i,t.lanes=a,t}function sl(n,t,e,i){return n=pi(7,n,i,t),n.lanes=e,n}function xC(n,t,e,i){n=pi(22,n,i,t),n.elementType=__,n.lanes=e;var s={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var a=s._current;if(a===null)throw Error(N(456));if(!(s._pendingVisibility&2)){var r=Tr(a,2);r!==null&&(s._pendingVisibility|=2,fn(r,a,2))}},attach:function(){var a=s._current;if(a===null)throw Error(N(456));if(s._pendingVisibility&2){var r=Tr(a,2);r!==null&&(s._pendingVisibility&=-3,fn(r,a,2))}}};return n.stateNode=s,n}function sv(n,t,e){return n=pi(6,n,null,t),n.lanes=e,n}function av(n,t,e){return t=pi(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function Rs(n){n.flags|=4}function xw(n,t){if(t.type!=="stylesheet"||t.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!qC(t)){if(t=yi.current,t!==null&&((ft&4194176)===ft?gs!==null:(ft&62914560)!==ft&&!(ft&536870912)||t!==gs))throw Hh=Jv,u1;n.flags|=8192}}function Rp(n,t){t!==null&&(n.flags|=4),n.flags&16384&&(t=n.tag!==22?k_():536870912,n.lanes|=t,Ru|=t)}function ih(n,t){if(!pt)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function It(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,i=0;if(t)for(var s=n.child;s!==null;)e|=s.lanes|s.childLanes,i|=s.subtreeFlags&31457280,i|=s.flags&31457280,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)e|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=i,n.childLanes=e,t}function GP(n,t,e){var i=t.pendingProps;switch(UA(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(t),null;case 1:return It(t),null;case 3:return e=t.stateNode,i=null,n!==null&&(i=n.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),fa(be),Eu(),e.pendingContext&&(e.context=e.pendingContext,e.pendingContext=null),(n===null||n.child===null)&&(th(t)?Rs(t):n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bi!==null&&(Ab(Bi),Bi=null))),It(t),null;case 26:return e=t.memoizedState,n===null?(Rs(t),e!==null?(It(t),xw(t,e)):(It(t),t.flags&=-16777217)):e?e!==n.memoizedState?(Rs(t),It(t),xw(t,e)):(It(t),t.flags&=-16777217):(n.memoizedProps!==i&&Rs(t),It(t),t.flags&=-16777217),null;case 27:zm(t),e=yr.current;var s=t.type;if(n!==null&&t.stateNode!=null)n.memoizedProps!==i&&Rs(t);else{if(!i){if(t.stateNode===null)throw Error(N(166));return It(t),null}n=ps.current,th(t)?tw(t):(n=zC(s,i,e),t.stateNode=n,Rs(t))}return It(t),null;case 5:if(zm(t),e=t.type,n!==null&&t.stateNode!=null)n.memoizedProps!==i&&Rs(t);else{if(!i){if(t.stateNode===null)throw Error(N(166));return It(t),null}if(n=ps.current,th(t))tw(t);else{switch(s=lg(yr.current),n){case 1:n=s.createElementNS("http://www.w3.org/2000/svg",e);break;case 2:n=s.createElementNS("http://www.w3.org/1998/Math/MathML",e);break;default:switch(e){case"svg":n=s.createElementNS("http://www.w3.org/2000/svg",e);break;case"math":n=s.createElementNS("http://www.w3.org/1998/Math/MathML",e);break;case"script":n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?n.multiple=!0:i.size&&(n.size=i.size);break;default:n=typeof i.is=="string"?s.createElement(e,{is:i.is}):s.createElement(e)}}n[en]=t,n[Cn]=i;t:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)n.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break t;for(;s.sibling===null;){if(s.return===null||s.return===t)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=n;t:switch(ze(n,e,i),e){case"button":case"input":case"select":case"textarea":n=!!i.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Rs(t)}}return It(t),t.flags&=-16777217,null;case 6:if(n&&t.stateNode!=null)n.memoizedProps!==i&&Rs(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(N(166));if(n=yr.current,th(t)){if(n=t.stateNode,e=t.memoizedProps,i=null,s=un,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}n[en]=t,n=!!(n.nodeValue===e||i!==null&&i.suppressHydrationWarning===!0||HC(n.nodeValue,e)),n||cl(t)}else n=lg(n).createTextNode(i),n[en]=t,t.stateNode=n}return It(t),null;case 13:if(i=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(s=th(t),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(N(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[en]=t}else $f(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;It(t),s=!1}else Bi!==null&&(Ab(Bi),Bi=null),s=!0;if(!s)return t.flags&256?(ha(t),t):(ha(t),null)}if(ha(t),t.flags&128)return t.lanes=e,t;if(e=i!==null,n=n!==null&&n.memoizedState!==null,e){i=t.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool);var a=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==s&&(i.flags|=2048)}return e!==n&&e&&(t.child.flags|=8192),Rp(t,t.updateQueue),It(t),null;case 4:return Eu(),n===null&&dS(t.stateNode.containerInfo),It(t),null;case 10:return fa(t.type),It(t),null;case 19:if(Pe(Ae),s=t.memoizedState,s===null)return It(t),null;if(i=(t.flags&128)!==0,a=s.rendering,a===null)if(i)ih(s,!1);else{if(ee!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(a=Wm(n),a!==null){for(t.flags|=128,ih(s,!1),n=a.updateQueue,t.updateQueue=n,Rp(t,n),t.subtreeFlags=0,n=e,e=t.child;e!==null;)wC(e,n),e=e.sibling;return Ut(Ae,Ae.current&1|2),t.child}n=n.sibling}s.tail!==null&&ms()>ig&&(t.flags|=128,i=!0,ih(s,!1),t.lanes=4194304)}else{if(!i)if(n=Wm(a),n!==null){if(t.flags|=128,i=!0,n=n.updateQueue,t.updateQueue=n,Rp(t,n),ih(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!pt)return It(t),null}else 2*ms()-s.renderingStartTime>ig&&e!==536870912&&(t.flags|=128,i=!0,ih(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ms(),t.sibling=null,n=Ae.current,Ut(Ae,i?n&1|2:n&1),t):(It(t),null);case 22:case 23:return ha(t),IA(),i=t.memoizedState!==null,n!==null?n.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?e&536870912&&!(t.flags&128)&&(It(t),t.subtreeFlags&6&&(t.flags|=8192)):It(t),e=t.updateQueue,e!==null&&Rp(t,e.retryQueue),e=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==e&&(t.flags|=2048),n!==null&&Pe(il),null;case 24:return e=null,n!==null&&(e=n.memoizedState.cache),t.memoizedState.cache!==e&&(t.flags|=2048),fa(be),It(t),null;case 25:return null}throw Error(N(156,t.tag))}function qP(n,t){switch(UA(t),t.tag){case 1:return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return fa(be),Eu(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 26:case 27:case 5:return zm(t),null;case 13:if(ha(t),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(N(340));$f()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return Pe(Ae),null;case 4:return Eu(),null;case 10:return fa(t.type),null;case 22:case 23:return ha(t),IA(),n!==null&&Pe(il),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 24:return fa(be),null;case 25:return null;default:return null}}function TC(n,t){switch(UA(t),t.tag){case 3:fa(be),Eu();break;case 26:case 27:case 5:zm(t);break;case 4:Eu();break;case 13:ha(t);break;case 19:Pe(Ae);break;case 10:fa(t.type);break;case 22:case 23:ha(t),IA(),n!==null&&Pe(il);break;case 24:fa(be)}}var XP={getCacheForType:function(n){var t=nn(be),e=t.data.get(n);return e===void 0&&(e=n(),t.data.set(n,e)),e}},YP=typeof WeakMap=="function"?WeakMap:Map,$t=0,kt=null,ct=null,ft=0,Ot=0,Un=null,aa=!1,Hu=!1,oS=!1,wa=0,ee=0,Rr=0,al=0,lS=0,mi=0,Ru=0,Yh=null,ds=null,gb=!1,cS=0,ig=1/0,sg=null,Sr=null,Mp=!1,Qr=null,$h=0,yb=0,vb=null,Kh=0,bb=null;function qn(){if($t&2&&ft!==0)return ft&-ft;if(et.T!==null){var n=_u;return n!==0?n:hS()}return j_()}function _C(){mi===0&&(mi=!(ft&536870912)||pt?O_():536870912);var n=yi.current;return n!==null&&(n.flags|=32),mi}function fn(n,t,e){(n===kt&&Ot===2||n.cancelPendingCommit!==null)&&(Mu(n,0),ra(n,ft,mi,!1)),Xf(n,e),(!($t&2)||n!==kt)&&(n===kt&&(!($t&2)&&(al|=e),ee===4&&ra(n,ft,mi,!1)),Es(n))}function CC(n,t,e){if($t&6)throw Error(N(327));var i=!e&&(t&60)===0&&(t&n.expiredLanes)===0||qf(n,t),s=i?WP(n,t):rv(n,t,!0),a=i;do{if(s===0){Hu&&!i&&ra(n,t,0,!1);break}else if(s===6)ra(n,t,0,!aa);else{if(e=n.current.alternate,a&&!$P(e)){s=rv(n,t,!1),a=!1;continue}if(s===2){if(a=t,n.errorRecoveryDisabledLanes&a)var r=0;else r=n.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;t:{var o=n;s=Yh;var l=o.current.memoizedState.isDehydrated;if(l&&(Mu(o,r).flags|=256),r=rv(o,r,!1),r!==2){if(oS&&!l){o.errorRecoveryDisabledLanes|=a,al|=a,s=4;break t}a=ds,ds=s,a!==null&&Ab(a)}s=r}if(a=!1,s!==2)continue}}if(s===1){Mu(n,0),ra(n,t,0,!0);break}t:{switch(i=n,s){case 0:case 1:throw Error(N(345));case 4:if((t&4194176)===t){ra(i,t,mi,!aa);break t}break;case 2:ds=null;break;case 3:case 5:break;default:throw Error(N(329))}if(i.finishedWork=e,i.finishedLanes=t,(t&62914560)===t&&(a=cS+300-ms(),10<a)){if(ra(i,t,mi,!aa),$g(i,0)!==0)break t;i.timeoutHandle=IC(Tw.bind(null,i,e,ds,sg,gb,t,mi,al,Ru,aa,2,-0,0),a);break t}Tw(i,e,ds,sg,gb,t,mi,al,Ru,aa,0,-0,0)}}break}while(!0);Es(n)}function Ab(n){ds===null?ds=n:ds.push.apply(ds,n)}function Tw(n,t,e,i,s,a,r,o,l,c,u,d,f){var p=t.subtreeFlags;if((p&8192||(p&16785408)===16785408)&&(fd={stylesheets:null,count:0,unsuspend:M2},bC(t),t=L2(),t!==null)){n.cancelPendingCommit=t(Cw.bind(null,n,e,i,s,r,o,l,1,d,f)),ra(n,a,r,!c);return}Cw(n,e,i,s,r,o,l,u,d,f)}function $P(n){for(var t=n;;){var e=t.tag;if((e===0||e===11||e===15)&&t.flags&16384&&(e=t.updateQueue,e!==null&&(e=e.stores,e!==null)))for(var i=0;i<e.length;i++){var s=e[i],a=s.getSnapshot;s=s.value;try{if(!Kn(a(),s))return!1}catch{return!1}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ra(n,t,e,i){t&=~lS,t&=~al,n.suspendedLanes|=t,n.pingedLanes&=~t,i&&(n.warmLanes|=t),i=n.expirationTimes;for(var s=t;0<s;){var a=31-Gn(s),r=1<<a;i[a]=-1,s&=~r}e!==0&&P_(n,e,t)}function sy(){return $t&6?!0:(Jf(0),!1)}function uS(){if(ct!==null){if(Ot===0)var n=ct.return;else n=ct,da=_l=null,$A(n),mc=null,cd=0,n=ct;for(;n!==null;)TC(n.alternate,n),n=n.return;ct=null}}function Mu(n,t){n.finishedWork=null,n.finishedLanes=0;var e=n.timeoutHandle;e!==-1&&(n.timeoutHandle=-1,f2(e)),e=n.cancelPendingCommit,e!==null&&(n.cancelPendingCommit=null,e()),uS(),kt=n,ct=e=Ar(n.current,null),ft=t,Ot=0,Un=null,aa=!1,Hu=qf(n,t),oS=!1,Ru=mi=lS=al=Rr=ee=0,ds=Yh=null,gb=!1,t&8&&(t|=t&32);var i=n.entangledLanes;if(i!==0)for(n=n.entanglements,i&=t;0<i;){var s=31-Gn(i),a=1<<s;t|=n[s],i&=~a}return wa=t,Zg(),e}function RC(n,t){rt=null,et.H=bs,t===Bh?(t=iw(),Ot=3):t===u1?(t=iw(),Ot=4):Ot=t===J1?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Un=t,ct===null&&(ee=1,tg(n,hi(t,n.current)))}function MC(){var n=et.H;return et.H=bs,n===null?bs:n}function DC(){var n=et.A;return et.A=XP,n}function Sb(){ee=4,aa||(ft&4194176)!==ft&&yi.current!==null||(Hu=!0),!(Rr&134217727)&&!(al&134217727)||kt===null||ra(kt,ft,mi,!1)}function rv(n,t,e){var i=$t;$t|=2;var s=MC(),a=DC();(kt!==n||ft!==t)&&(sg=null,Mu(n,t)),t=!1;var r=ee;t:do try{if(Ot!==0&&ct!==null){var o=ct,l=Un;switch(Ot){case 8:uS(),r=6;break t;case 3:case 2:case 6:yi.current===null&&(t=!0);var c=Ot;if(Ot=0,Un=null,sc(n,o,l,c),e&&Hu){r=0;break t}break;default:c=Ot,Ot=0,Un=null,sc(n,o,l,c)}}KP(),r=ee;break}catch(u){RC(n,u)}while(!0);return t&&n.shellSuspendCounter++,da=_l=null,$t=i,et.H=s,et.A=a,ct===null&&(kt=null,ft=0,Zg()),r}function KP(){for(;ct!==null;)LC(ct)}function WP(n,t){var e=$t;$t|=2;var i=MC(),s=DC();kt!==n||ft!==t?(sg=null,ig=ms()+500,Mu(n,t)):Hu=qf(n,t);t:do try{if(Ot!==0&&ct!==null){t=ct;var a=Un;e:switch(Ot){case 1:Ot=0,Un=null,sc(n,t,a,1);break;case 2:if(nw(a)){Ot=0,Un=null,_w(t);break}t=function(){Ot===2&&kt===n&&(Ot=7),Es(n)},a.then(t,t);break t;case 3:Ot=7;break t;case 4:Ot=5;break t;case 7:nw(a)?(Ot=0,Un=null,_w(t)):(Ot=0,Un=null,sc(n,t,a,7));break;case 5:var r=null;switch(ct.tag){case 26:r=ct.memoizedState;case 5:case 27:var o=ct;if(!r||qC(r)){Ot=0,Un=null;var l=o.sibling;if(l!==null)ct=l;else{var c=o.return;c!==null?(ct=c,ay(c)):ct=null}break e}}Ot=0,Un=null,sc(n,t,a,5);break;case 6:Ot=0,Un=null,sc(n,t,a,6);break;case 8:uS(),ee=6;break t;default:throw Error(N(462))}}QP();break}catch(u){RC(n,u)}while(!0);return da=_l=null,et.H=i,et.A=s,$t=e,ct!==null?0:(kt=null,ft=0,Zg(),ee)}function QP(){for(;ct!==null&&!bk();)LC(ct)}function LC(n){var t=sC(n.alternate,n,wa);n.memoizedProps=n.pendingProps,t===null?ay(n):ct=t}function _w(n){var t=n,e=t.alternate;switch(t.tag){case 15:case 0:t=yw(e,t,t.pendingProps,t.type,void 0,ft);break;case 11:t=yw(e,t,t.pendingProps,t.type.render,t.ref,ft);break;case 5:$A(t);default:TC(e,t),t=ct=wC(t,wa),t=sC(e,t,wa)}n.memoizedProps=n.pendingProps,t===null?ay(n):ct=t}function sc(n,t,e,i){da=_l=null,$A(t),mc=null,cd=0;var s=t.return;try{if(HP(n,s,t,e,ft)){ee=1,tg(n,hi(e,n.current)),ct=null;return}}catch(a){if(s!==null)throw ct=s,a;ee=1,tg(n,hi(e,n.current)),ct=null;return}t.flags&32768?(pt||i===1?n=!0:Hu||ft&536870912?n=!1:(aa=n=!0,(i===2||i===3||i===6)&&(i=yi.current,i!==null&&i.tag===13&&(i.flags|=16384))),OC(t,n)):ay(t)}function ay(n){var t=n;do{if(t.flags&32768){OC(t,aa);return}n=t.return;var e=GP(t.alternate,t,wa);if(e!==null){ct=e;return}if(t=t.sibling,t!==null){ct=t;return}ct=t=n}while(t!==null);ee===0&&(ee=5)}function OC(n,t){do{var e=qP(n.alternate,n);if(e!==null){e.flags&=32767,ct=e;return}if(e=n.return,e!==null&&(e.flags|=32768,e.subtreeFlags=0,e.deletions=null),!t&&(n=n.sibling,n!==null)){ct=n;return}ct=n=e}while(n!==null);ee=6,ct=null}function Cw(n,t,e,i,s,a,r,o,l,c){var u=et.T,d=Ft.p;try{Ft.p=2,et.T=null,ZP(n,t,e,i,d,s,a,r,o,l,c)}finally{et.T=u,Ft.p=d}}function ZP(n,t,e,i,s,a,r,o){do bc();while(Qr!==null);if($t&6)throw Error(N(327));var l=n.finishedWork;if(i=n.finishedLanes,l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(N(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var c=l.lanes|l.childLanes;if(c|=jA,Dk(n,i,c,a,r,o),n===kt&&(ct=kt=null,ft=0),!(l.subtreeFlags&10256)&&!(l.flags&10256)||Mp||(Mp=!0,yb=c,vb=e,n2(Vm,function(){return bc(),null})),e=(l.flags&15990)!==0,l.subtreeFlags&15990||e?(e=et.T,et.T=null,a=Ft.p,Ft.p=2,r=$t,$t|=4,IP(n,l),gC(l,n),EP(Tb,n.containerInfo),dg=!!xb,Tb=xb=null,n.current=l,dC(n,l.alternate,l),Ak(),$t=r,Ft.p=a,et.T=e):n.current=l,Mp?(Mp=!1,Qr=n,$h=i):kC(n,c),c=n.pendingLanes,c===0&&(Sr=null),Tk(l.stateNode),Es(n),t!==null)for(s=n.onRecoverableError,l=0;l<t.length;l++)c=t[l],s(c.value,{componentStack:c.stack});return $h&3&&bc(),c=n.pendingLanes,i&4194218&&c&42?n===bb?Kh++:(Kh=0,bb=n):Kh=0,Jf(0),null}function kC(n,t){(n.pooledCacheLanes&=t)===0&&(t=n.pooledCache,t!=null&&(n.pooledCache=null,Kf(t)))}function bc(){if(Qr!==null){var n=Qr,t=yb;yb=0;var e=F_($h),i=et.T,s=Ft.p;try{if(Ft.p=32>e?32:e,et.T=null,Qr===null)var a=!1;else{e=vb,vb=null;var r=Qr,o=$h;if(Qr=null,$h=0,$t&6)throw Error(N(331));var l=$t;if($t|=4,SC(r.current),vC(r,r.current,o,e),$t=l,Jf(0,!1),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(Gf,r)}catch{}a=!0}return a}finally{Ft.p=s,et.T=i,kC(n,t)}}return!1}function Rw(n,t,e){t=hi(e,t),t=rb(n.stateNode,t,2),n=br(n,t,2),n!==null&&(Xf(n,2),Es(n))}function Mt(n,t,e){if(n.tag===3)Rw(n,n,e);else for(;t!==null;){if(t.tag===3){Rw(t,n,e);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Sr===null||!Sr.has(i))){n=hi(e,n),e=Q1(2),i=br(t,e,2),i!==null&&(Z1(e,i,t,n),Xf(i,2),Es(i));break}}t=t.return}}function ov(n,t,e){var i=n.pingCache;if(i===null){i=n.pingCache=new YP;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(e)||(oS=!0,s.add(e),n=JP.bind(null,n,t,e),t.then(n,n))}function JP(n,t,e){var i=n.pingCache;i!==null&&i.delete(t),n.pingedLanes|=n.suspendedLanes&e,n.warmLanes&=~e,kt===n&&(ft&e)===e&&(ee===4||ee===3&&(ft&62914560)===ft&&300>ms()-cS?!($t&2)&&Mu(n,0):lS|=e,Ru===ft&&(Ru=0)),Es(n)}function PC(n,t){t===0&&(t=k_()),n=Tr(n,t),n!==null&&(Xf(n,t),Es(n))}function t2(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),PC(n,e)}function e2(n,t){var e=0;switch(n.tag){case 13:var i=n.stateNode,s=n.memoizedState;s!==null&&(e=s.retryLane);break;case 19:i=n.stateNode;break;case 22:i=n.stateNode._retryCache;break;default:throw Error(N(314))}i!==null&&i.delete(t),PC(n,e)}function n2(n,t){return MA(n,t)}var ag=null,Hl=null,Eb=!1,rg=!1,lv=!1,rl=0;function Es(n){n!==Hl&&n.next===null&&(Hl===null?ag=Hl=n:Hl=Hl.next=n),rg=!0,Eb||(Eb=!0,s2(i2))}function Jf(n,t){if(!lv&&rg){lv=!0;do for(var e=!1,i=ag;i!==null;){if(n!==0){var s=i.pendingLanes;if(s===0)var a=0;else{var r=i.suspendedLanes,o=i.pingedLanes;a=(1<<31-Gn(42|n)+1)-1,a&=s&~(r&~o),a=a&201326677?a&201326677|1:a?a|2:0}a!==0&&(e=!0,Mw(i,a))}else a=ft,a=$g(i,i===kt?a:0),!(a&3)||qf(i,a)||(e=!0,Mw(i,a));i=i.next}while(e);lv=!1}}function i2(){rg=Eb=!1;var n=0;rl!==0&&(d2()&&(n=rl),rl=0);for(var t=ms(),e=null,i=ag;i!==null;){var s=i.next,a=NC(i,t);a===0?(i.next=null,e===null?ag=s:e.next=s,s===null&&(Hl=e)):(e=i,(n!==0||a&3)&&(rg=!0)),i=s}Jf(n)}function NC(n,t){for(var e=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,a=n.pendingLanes&-62914561;0<a;){var r=31-Gn(a),o=1<<r,l=s[r];l===-1?(!(o&e)||o&i)&&(s[r]=Mk(o,t)):l<=t&&(n.expiredLanes|=o),a&=~o}if(t=kt,e=ft,e=$g(n,n===t?e:0),i=n.callbackNode,e===0||n===t&&Ot===2||n.cancelPendingCommit!==null)return i!==null&&i!==null&&By(i),n.callbackNode=null,n.callbackPriority=0;if(!(e&3)||qf(n,e)){if(t=e&-e,t===n.callbackPriority)return t;switch(i!==null&&By(i),F_(e)){case 2:case 8:e=D_;break;case 32:e=Vm;break;case 268435456:e=L_;break;default:e=Vm}return i=FC.bind(null,n),e=MA(e,i),n.callbackPriority=t,n.callbackNode=e,t}return i!==null&&i!==null&&By(i),n.callbackPriority=2,n.callbackNode=null,2}function FC(n,t){var e=n.callbackNode;if(bc()&&n.callbackNode!==e)return null;var i=ft;return i=$g(n,n===kt?i:0),i===0?null:(CC(n,i,t),NC(n,ms()),n.callbackNode!=null&&n.callbackNode===e?FC.bind(null,n):null)}function Mw(n,t){if(bc())return null;CC(n,t,!0)}function s2(n){p2(function(){$t&6?MA(M_,n):n()})}function hS(){return rl===0&&(rl=O_()),rl}function Dw(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:qp(""+n)}function Lw(n,t){var e=t.ownerDocument.createElement("input");return e.name=t.name,e.value=t.value,n.id&&e.setAttribute("form",n.id),t.parentNode.insertBefore(e,t),n=new FormData(n),e.parentNode.removeChild(e),n}function a2(n,t,e,i,s){if(t==="submit"&&e&&e.stateNode===s){var a=Dw((s[Cn]||null).action),r=i.submitter;r&&(t=(t=r[Cn]||null)?Dw(t.formAction):r.getAttribute("formAction"),t!==null&&(a=t,r=null));var o=new Kg("action","action",null,i,s);n.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(rl!==0){var l=r?Lw(s,r):new FormData(s);sb(e,{pending:!0,data:l,method:s.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=r?Lw(s,r):new FormData(s),sb(e,{pending:!0,data:l,method:s.method,action:a},a,l))},currentTarget:s}]})}}for(var cv=0;cv<ZE.length;cv++){var uv=ZE[cv],r2=uv.toLowerCase(),o2=uv[0].toUpperCase()+uv.slice(1);Ii(r2,"on"+o2)}Ii(i1,"onAnimationEnd");Ii(s1,"onAnimationIteration");Ii(a1,"onAnimationStart");Ii("dblclick","onDoubleClick");Ii("focusin","onFocus");Ii("focusout","onBlur");Ii(xP,"onTransitionRun");Ii(TP,"onTransitionStart");Ii(_P,"onTransitionCancel");Ii(r1,"onTransitionEnd");wu("onMouseEnter",["mouseout","mouseover"]);wu("onMouseLeave",["mouseout","mouseover"]);wu("onPointerEnter",["pointerout","pointerover"]);wu("onPointerLeave",["pointerout","pointerover"]);Sl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hd));function jC(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var i=n[e],s=i.event;i=i.listeners;t:{var a=void 0;if(t)for(var r=i.length-1;0<=r;r--){var o=i[r],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break t;a=o,s.currentTarget=c;try{a(s)}catch(u){Jm(u)}s.currentTarget=null,a=l}else for(r=0;r<i.length;r++){if(o=i[r],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break t;a=o,s.currentTarget=c;try{a(s)}catch(u){Jm(u)}s.currentTarget=null,a=l}}}}function ht(n,t){var e=t[qv];e===void 0&&(e=t[qv]=new Set);var i=n+"__bubble";e.has(i)||(BC(t,n,2,!1),e.add(i))}function hv(n,t,e){var i=0;t&&(i|=4),BC(e,n,i,t)}var Dp="_reactListening"+Math.random().toString(36).slice(2);function dS(n){if(!n[Dp]){n[Dp]=!0,B_.forEach(function(e){e!=="selectionchange"&&(l2.has(e)||hv(e,!1,n),hv(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[Dp]||(t[Dp]=!0,hv("selectionchange",!1,t))}}function BC(n,t,e,i){switch(WC(t)){case 2:var s=P2;break;case 8:s=N2;break;default:s=gS}e=s.bind(null,t,e,n),s=void 0,!Kv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?n.addEventListener(t,e,{capture:!0,passive:s}):n.addEventListener(t,e,!0):s!==void 0?n.addEventListener(t,e,{passive:s}):n.addEventListener(t,e,!1)}function dv(n,t,e,i,s){var a=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var o=i.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(r===4)for(r=i.return;r!==null;){var l=r.tag;if((l===3||l===4)&&(l=r.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;r=r.return}for(;o!==null;){if(r=to(o),r===null)return;if(l=r.tag,l===5||l===6||l===26||l===27){i=a=r;continue t}o=o.parentNode}}i=i.return}X_(function(){var c=a,u=OA(e),d=[];t:{var f=o1.get(n);if(f!==void 0){var p=Kg,g=n;switch(n){case"keypress":if(Yp(e)===0)break t;case"keydown":case"keyup":p=eP;break;case"focusin":g="focus",p=Vy;break;case"focusout":g="blur",p=Vy;break;case"beforeblur":case"afterblur":p=Vy;break;case"click":if(e.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=UE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Vk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=sP;break;case i1:case s1:case a1:p=Xk;break;case r1:p=rP;break;case"scroll":case"scrollend":p=Ik;break;case"wheel":p=lP;break;case"copy":case"cut":case"paste":p=$k;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=zE;break;case"toggle":case"beforetoggle":p=uP}var v=(t&4)!==0,A=!v&&(n==="scroll"||n==="scrollend"),m=v?f!==null?f+"Capture":null:f;v=[];for(var y=c,b;y!==null;){var w=y;if(b=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||b===null||m===null||(w=ad(y,m),w!=null&&v.push(dd(y,w,b))),A)break;y=y.return}0<v.length&&(f=new p(f,g,null,e,u),d.push({event:f,listeners:v}))}}if(!(t&7)){t:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&e!==$v&&(g=e.relatedTarget||e.fromElement)&&(to(g)||g[ju]))break t;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=e.relatedTarget||e.toElement,p=c,g=g?to(g):null,g!==null&&(A=Fu(g),v=g.tag,g!==A||v!==5&&v!==27&&v!==6)&&(g=null)):(p=null,g=c),p!==g)){if(v=UE,w="onMouseLeave",m="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(v=zE,w="onPointerLeave",m="onPointerEnter",y="pointer"),A=p==null?f:ph(p),b=g==null?f:ph(g),f=new v(w,y+"leave",p,e,u),f.target=A,f.relatedTarget=b,w=null,to(u)===c&&(v=new v(m,y+"enter",g,e,u),v.target=b,v.relatedTarget=A,w=v),A=w,p&&g)e:{for(v=p,m=g,y=0,b=v;b;b=Nl(b))y++;for(b=0,w=m;w;w=Nl(w))b++;for(;0<y-b;)v=Nl(v),y--;for(;0<b-y;)m=Nl(m),b--;for(;y--;){if(v===m||m!==null&&v===m.alternate)break e;v=Nl(v),m=Nl(m)}v=null}else v=null;p!==null&&Ow(d,f,p,v,!1),g!==null&&A!==null&&Ow(d,A,g,v,!0)}}t:{if(f=c?ph(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var T=XE;else if(qE(f))if(Z_)T=AP;else{T=vP;var R=yP}else p=f.nodeName,!p||p.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?c&&LA(c.elementType)&&(T=XE):T=bP;if(T&&(T=T(n,c))){Q_(d,T,e,u);break t}R&&R(n,f,c),n==="focusout"&&c&&f.type==="number"&&c.memoizedProps.value!=null&&Yv(f,"number",f.value)}switch(R=c?ph(c):window,n){case"focusin":(qE(R)||R.contentEditable==="true")&&(Zl=R,Wv=c,jh=null);break;case"focusout":jh=Wv=Zl=null;break;case"mousedown":Qv=!0;break;case"contextmenu":case"mouseup":case"dragend":Qv=!1,QE(d,e,u);break;case"selectionchange":if(wP)break;case"keydown":case"keyup":QE(d,e,u)}var M;if(NA)t:{switch(n){case"compositionstart":var D="onCompositionStart";break t;case"compositionend":D="onCompositionEnd";break t;case"compositionupdate":D="onCompositionUpdate";break t}D=void 0}else Ql?K_(n,e)&&(D="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(D="onCompositionStart");D&&($_&&e.locale!=="ko"&&(Ql||D!=="onCompositionStart"?D==="onCompositionEnd"&&Ql&&(M=Y_()):(gr=u,kA="value"in gr?gr.value:gr.textContent,Ql=!0)),R=og(c,D),0<R.length&&(D=new IE(D,n,null,e,u),d.push({event:D,listeners:R}),M?D.data=M:(M=W_(e),M!==null&&(D.data=M)))),(M=dP?fP(n,e):pP(n,e))&&(D=og(c,"onBeforeInput"),0<D.length&&(R=new IE("onBeforeInput","beforeinput",null,e,u),d.push({event:R,listeners:D}),R.data=M)),a2(d,n,c,e,u)}jC(d,t)})}function dd(n,t,e){return{instance:n,listener:t,currentTarget:e}}function og(n,t){for(var e=t+"Capture",i=[];n!==null;){var s=n,a=s.stateNode;s=s.tag,s!==5&&s!==26&&s!==27||a===null||(s=ad(n,e),s!=null&&i.unshift(dd(n,s,a)),s=ad(n,t),s!=null&&i.push(dd(n,s,a))),n=n.return}return i}function Nl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Ow(n,t,e,i,s){for(var a=t._reactName,r=[];e!==null&&e!==i;){var o=e,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===i)break;o!==5&&o!==26&&o!==27||c===null||(l=c,s?(c=ad(e,a),c!=null&&r.unshift(dd(e,c,l))):s||(c=ad(e,a),c!=null&&r.push(dd(e,c,l)))),e=e.return}r.length!==0&&n.push({event:t,listeners:r})}var c2=/\r\n?/g,u2=/\u0000|\uFFFD/g;function kw(n){return(typeof n=="string"?n:""+n).replace(c2,`
`).replace(u2,"")}function HC(n,t){return t=kw(t),kw(n)===t}function ry(){}function wt(n,t,e,i,s,a){switch(e){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||xu(n,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&xu(n,""+i);break;case"className":Ep(n,"class",i);break;case"tabIndex":Ep(n,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ep(n,e,i);break;case"style":q_(n,i,a);break;case"data":if(t!=="object"){Ep(n,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||e!=="href")){n.removeAttribute(e);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){n.removeAttribute(e);break}i=qp(""+i),n.setAttribute(e,i);break;case"action":case"formAction":if(typeof i=="function"){n.setAttribute(e,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(e==="formAction"?(t!=="input"&&wt(n,t,"name",s.name,s,null),wt(n,t,"formEncType",s.formEncType,s,null),wt(n,t,"formMethod",s.formMethod,s,null),wt(n,t,"formTarget",s.formTarget,s,null)):(wt(n,t,"encType",s.encType,s,null),wt(n,t,"method",s.method,s,null),wt(n,t,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){n.removeAttribute(e);break}i=qp(""+i),n.setAttribute(e,i);break;case"onClick":i!=null&&(n.onclick=ry);break;case"onScroll":i!=null&&ht("scroll",n);break;case"onScrollEnd":i!=null&&ht("scrollend",n);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(N(61));if(e=i.__html,e!=null){if(s.children!=null)throw Error(N(60));n.innerHTML=e}}break;case"multiple":n.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":n.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){n.removeAttribute("xlink:href");break}e=qp(""+i),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(e,""+i):n.removeAttribute(e);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(e,""):n.removeAttribute(e);break;case"capture":case"download":i===!0?n.setAttribute(e,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(e,i):n.removeAttribute(e);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?n.setAttribute(e,i):n.removeAttribute(e);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?n.removeAttribute(e):n.setAttribute(e,i);break;case"popover":ht("beforetoggle",n),ht("toggle",n),Gp(n,"popover",i);break;case"xlinkActuate":Ts(n,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Ts(n,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Ts(n,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Ts(n,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Ts(n,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Ts(n,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Ts(n,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Ts(n,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Ts(n,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Gp(n,"is",i);break;case"innerText":case"textContent":break;default:(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(e=Hk.get(e)||e,Gp(n,e,i))}}function wb(n,t,e,i,s,a){switch(e){case"style":q_(n,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(N(61));if(e=i.__html,e!=null){if(s.children!=null)throw Error(N(60));n.innerHTML=e}}break;case"children":typeof i=="string"?xu(n,i):(typeof i=="number"||typeof i=="bigint")&&xu(n,""+i);break;case"onScroll":i!=null&&ht("scroll",n);break;case"onScrollEnd":i!=null&&ht("scrollend",n);break;case"onClick":i!=null&&(n.onclick=ry);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!H_.hasOwnProperty(e))t:{if(e[0]==="o"&&e[1]==="n"&&(s=e.endsWith("Capture"),t=e.slice(2,s?e.length-7:void 0),a=n[Cn]||null,a=a!=null?a[e]:null,typeof a=="function"&&n.removeEventListener(t,a,s),typeof i=="function")){typeof a!="function"&&a!==null&&(e in n?n[e]=null:n.hasAttribute(e)&&n.removeAttribute(e)),n.addEventListener(t,i,s);break t}e in n?n[e]=i:i===!0?n.setAttribute(e,""):Gp(n,e,i)}}}function ze(n,t,e){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",n),ht("load",n);var i=!1,s=!1,a;for(a in e)if(e.hasOwnProperty(a)){var r=e[a];if(r!=null)switch(a){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(N(137,t));default:wt(n,t,a,r,e,null)}}s&&wt(n,t,"srcSet",e.srcSet,e,null),i&&wt(n,t,"src",e.src,e,null);return;case"input":ht("invalid",n);var o=a=r=s=null,l=null,c=null;for(i in e)if(e.hasOwnProperty(i)){var u=e[i];if(u!=null)switch(i){case"name":s=u;break;case"type":r=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":a=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(N(137,t));break;default:wt(n,t,i,u,e,null)}}z_(n,a,o,l,c,r,s,!1),Gm(n);return;case"select":ht("invalid",n),i=r=a=null;for(s in e)if(e.hasOwnProperty(s)&&(o=e[s],o!=null))switch(s){case"value":a=o;break;case"defaultValue":r=o;break;case"multiple":i=o;default:wt(n,t,s,o,e,null)}t=a,e=r,n.multiple=!!i,t!=null?fc(n,!!i,t,!1):e!=null&&fc(n,!!i,e,!0);return;case"textarea":ht("invalid",n),a=s=i=null;for(r in e)if(e.hasOwnProperty(r)&&(o=e[r],o!=null))switch(r){case"value":i=o;break;case"defaultValue":s=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(N(91));break;default:wt(n,t,r,o,e,null)}G_(n,i,s,a),Gm(n);return;case"option":for(l in e)if(e.hasOwnProperty(l)&&(i=e[l],i!=null))switch(l){case"selected":n.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:wt(n,t,l,i,e,null)}return;case"dialog":ht("cancel",n),ht("close",n);break;case"iframe":case"object":ht("load",n);break;case"video":case"audio":for(i=0;i<hd.length;i++)ht(hd[i],n);break;case"image":ht("error",n),ht("load",n);break;case"details":ht("toggle",n);break;case"embed":case"source":case"link":ht("error",n),ht("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in e)if(e.hasOwnProperty(c)&&(i=e[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(N(137,t));default:wt(n,t,c,i,e,null)}return;default:if(LA(t)){for(u in e)e.hasOwnProperty(u)&&(i=e[u],i!==void 0&&wb(n,t,u,i,e,void 0));return}}for(o in e)e.hasOwnProperty(o)&&(i=e[o],i!=null&&wt(n,t,o,i,e,null))}function h2(n,t,e,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,r=null,o=null,l=null,c=null,u=null;for(p in e){var d=e[p];if(e.hasOwnProperty(p)&&d!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=d;default:i.hasOwnProperty(p)||wt(n,t,p,null,i,d)}}for(var f in i){var p=i[f];if(d=e[f],i.hasOwnProperty(f)&&(p!=null||d!=null))switch(f){case"type":a=p;break;case"name":s=p;break;case"checked":c=p;break;case"defaultChecked":u=p;break;case"value":r=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(N(137,t));break;default:p!==d&&wt(n,t,f,p,i,d)}}Xv(n,r,o,l,c,u,a,s);return;case"select":p=r=o=f=null;for(a in e)if(l=e[a],e.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":p=l;default:i.hasOwnProperty(a)||wt(n,t,a,null,i,l)}for(s in i)if(a=i[s],l=e[s],i.hasOwnProperty(s)&&(a!=null||l!=null))switch(s){case"value":f=a;break;case"defaultValue":o=a;break;case"multiple":r=a;default:a!==l&&wt(n,t,s,a,i,l)}t=o,e=r,i=p,f!=null?fc(n,!!e,f,!1):!!i!=!!e&&(t!=null?fc(n,!!e,t,!0):fc(n,!!e,e?[]:"",!1));return;case"textarea":p=f=null;for(o in e)if(s=e[o],e.hasOwnProperty(o)&&s!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:wt(n,t,o,null,i,s)}for(r in i)if(s=i[r],a=e[r],i.hasOwnProperty(r)&&(s!=null||a!=null))switch(r){case"value":f=s;break;case"defaultValue":p=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(N(91));break;default:s!==a&&wt(n,t,r,s,i,a)}V_(n,f,p);return;case"option":for(var g in e)if(f=e[g],e.hasOwnProperty(g)&&f!=null&&!i.hasOwnProperty(g))switch(g){case"selected":n.selected=!1;break;default:wt(n,t,g,null,i,f)}for(l in i)if(f=i[l],p=e[l],i.hasOwnProperty(l)&&f!==p&&(f!=null||p!=null))switch(l){case"selected":n.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:wt(n,t,l,f,i,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in e)f=e[v],e.hasOwnProperty(v)&&f!=null&&!i.hasOwnProperty(v)&&wt(n,t,v,null,i,f);for(c in i)if(f=i[c],p=e[c],i.hasOwnProperty(c)&&f!==p&&(f!=null||p!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(N(137,t));break;default:wt(n,t,c,f,i,p)}return;default:if(LA(t)){for(var A in e)f=e[A],e.hasOwnProperty(A)&&f!==void 0&&!i.hasOwnProperty(A)&&wb(n,t,A,void 0,i,f);for(u in i)f=i[u],p=e[u],!i.hasOwnProperty(u)||f===p||f===void 0&&p===void 0||wb(n,t,u,f,i,p);return}}for(var m in e)f=e[m],e.hasOwnProperty(m)&&f!=null&&!i.hasOwnProperty(m)&&wt(n,t,m,null,i,f);for(d in i)f=i[d],p=e[d],!i.hasOwnProperty(d)||f===p||f==null&&p==null||wt(n,t,d,f,i,p)}var xb=null,Tb=null;function lg(n){return n.nodeType===9?n:n.ownerDocument}function Pw(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function UC(n,t){if(n===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&t==="foreignObject"?0:n}function _b(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fv=null;function d2(){var n=window.event;return n&&n.type==="popstate"?n===fv?!1:(fv=n,!0):(fv=null,!1)}var IC=typeof setTimeout=="function"?setTimeout:void 0,f2=typeof clearTimeout=="function"?clearTimeout:void 0,Nw=typeof Promise=="function"?Promise:void 0,p2=typeof queueMicrotask=="function"?queueMicrotask:typeof Nw<"u"?function(n){return Nw.resolve(null).then(n).catch(m2)}:IC;function m2(n){setTimeout(function(){throw n})}function pv(n,t){var e=t,i=0;do{var s=e.nextSibling;if(n.removeChild(e),s&&s.nodeType===8)if(e=s.data,e==="/$"){if(i===0){n.removeChild(s),yd(t);return}i--}else e!=="$"&&e!=="$?"&&e!=="$!"||i++;e=s}while(e);yd(t)}function Cb(n){var t=n.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var e=t;switch(t=t.nextSibling,e.nodeName){case"HTML":case"HEAD":case"BODY":Cb(e),DA(e);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(e.rel.toLowerCase()==="stylesheet")continue}n.removeChild(e)}}function g2(n,t,e,i){for(;n.nodeType===1;){var s=e;if(n.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(i){if(!n[sd])switch(t){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(a=n.getAttribute("rel"),a==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(a!==s.rel||n.getAttribute("href")!==(s.href==null?null:s.href)||n.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||n.getAttribute("title")!==(s.title==null?null:s.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(a=n.getAttribute("src"),(a!==(s.src==null?null:s.src)||n.getAttribute("type")!==(s.type==null?null:s.type)||n.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&a&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(t==="input"&&n.type==="hidden"){var a=s.name==null?null:""+s.name;if(s.type==="hidden"&&n.getAttribute("name")===a)return n}else return n;if(n=Ui(n.nextSibling),n===null)break}return null}function y2(n,t,e){if(t==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!e||(n=Ui(n.nextSibling),n===null))return null;return n}function Ui(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return n}function Fw(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}function zC(n,t,e){switch(t=lg(e),n){case"html":if(n=t.documentElement,!n)throw Error(N(452));return n;case"head":if(n=t.head,!n)throw Error(N(453));return n;case"body":if(n=t.body,!n)throw Error(N(454));return n;default:throw Error(N(451))}}var vi=new Map,jw=new Set;function cg(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var Ra=Ft.d;Ft.d={f:v2,r:b2,D:A2,C:S2,L:E2,m:w2,X:T2,S:x2,M:_2};function v2(){var n=Ra.f(),t=sy();return n||t}function b2(n){var t=Bu(n);t!==null&&t.tag===5&&t.type==="form"?z1(t):Ra.r(n)}var Uu=typeof document>"u"?null:document;function VC(n,t,e){var i=Uu;if(i&&typeof t=="string"&&t){var s=ui(t);s='link[rel="'+n+'"][href="'+s+'"]',typeof e=="string"&&(s+='[crossorigin="'+e+'"]'),jw.has(s)||(jw.add(s),n={rel:n,crossOrigin:e,href:t},i.querySelector(s)===null&&(t=i.createElement("link"),ze(t,"link",n),Oe(t),i.head.appendChild(t)))}}function A2(n){Ra.D(n),VC("dns-prefetch",n,null)}function S2(n,t){Ra.C(n,t),VC("preconnect",n,t)}function E2(n,t,e){Ra.L(n,t,e);var i=Uu;if(i&&n&&t){var s='link[rel="preload"][as="'+ui(t)+'"]';t==="image"&&e&&e.imageSrcSet?(s+='[imagesrcset="'+ui(e.imageSrcSet)+'"]',typeof e.imageSizes=="string"&&(s+='[imagesizes="'+ui(e.imageSizes)+'"]')):s+='[href="'+ui(n)+'"]';var a=s;switch(t){case"style":a=Du(n);break;case"script":a=Iu(n)}vi.has(a)||(n=jt({rel:"preload",href:t==="image"&&e&&e.imageSrcSet?void 0:n,as:t},e),vi.set(a,n),i.querySelector(s)!==null||t==="style"&&i.querySelector(tp(a))||t==="script"&&i.querySelector(ep(a))||(t=i.createElement("link"),ze(t,"link",n),Oe(t),i.head.appendChild(t)))}}function w2(n,t){Ra.m(n,t);var e=Uu;if(e&&n){var i=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+ui(i)+'"][href="'+ui(n)+'"]',a=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Iu(n)}if(!vi.has(a)&&(n=jt({rel:"modulepreload",href:n},t),vi.set(a,n),e.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(e.querySelector(ep(a)))return}i=e.createElement("link"),ze(i,"link",n),Oe(i),e.head.appendChild(i)}}}function x2(n,t,e){Ra.S(n,t,e);var i=Uu;if(i&&n){var s=dc(i).hoistableStyles,a=Du(n);t=t||"default";var r=s.get(a);if(!r){var o={loading:0,preload:null};if(r=i.querySelector(tp(a)))o.loading=5;else{n=jt({rel:"stylesheet",href:n,"data-precedence":t},e),(e=vi.get(a))&&fS(n,e);var l=r=i.createElement("link");Oe(l),ze(l,"link",n),l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Jp(r,t,i)}r={type:"stylesheet",instance:r,count:1,state:o},s.set(a,r)}}}function T2(n,t){Ra.X(n,t);var e=Uu;if(e&&n){var i=dc(e).hoistableScripts,s=Iu(n),a=i.get(s);a||(a=e.querySelector(ep(s)),a||(n=jt({src:n,async:!0},t),(t=vi.get(s))&&pS(n,t),a=e.createElement("script"),Oe(a),ze(a,"link",n),e.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function _2(n,t){Ra.M(n,t);var e=Uu;if(e&&n){var i=dc(e).hoistableScripts,s=Iu(n),a=i.get(s);a||(a=e.querySelector(ep(s)),a||(n=jt({src:n,async:!0,type:"module"},t),(t=vi.get(s))&&pS(n,t),a=e.createElement("script"),Oe(a),ze(a,"link",n),e.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function Bw(n,t,e,i){var s=(s=yr.current)?cg(s):null;if(!s)throw Error(N(446));switch(n){case"meta":case"title":return null;case"style":return typeof e.precedence=="string"&&typeof e.href=="string"?(t=Du(e.href),e=dc(s).hoistableStyles,i=e.get(t),i||(i={type:"style",instance:null,count:0,state:null},e.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(e.rel==="stylesheet"&&typeof e.href=="string"&&typeof e.precedence=="string"){n=Du(e.href);var a=dc(s).hoistableStyles,r=a.get(n);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(n,r),(a=s.querySelector(tp(n)))&&!a._p&&(r.instance=a,r.state.loading=5),vi.has(n)||(e={rel:"preload",as:"style",href:e.href,crossOrigin:e.crossOrigin,integrity:e.integrity,media:e.media,hrefLang:e.hrefLang,referrerPolicy:e.referrerPolicy},vi.set(n,e),a||C2(s,n,e,r.state))),t&&i===null)throw Error(N(528,""));return r}if(t&&i!==null)throw Error(N(529,""));return null;case"script":return t=e.async,e=e.src,typeof e=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Iu(e),e=dc(s).hoistableScripts,i=e.get(t),i||(i={type:"script",instance:null,count:0,state:null},e.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(N(444,n))}}function Du(n){return'href="'+ui(n)+'"'}function tp(n){return'link[rel="stylesheet"]['+n+"]"}function GC(n){return jt({},n,{"data-precedence":n.precedence,precedence:null})}function C2(n,t,e,i){n.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=n.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ze(t,"link",e),Oe(t),n.head.appendChild(t))}function Iu(n){return'[src="'+ui(n)+'"]'}function ep(n){return"script[async]"+n}function Hw(n,t,e){if(t.count++,t.instance===null)switch(t.type){case"style":var i=n.querySelector('style[data-href~="'+ui(e.href)+'"]');if(i)return t.instance=i,Oe(i),i;var s=jt({},e,{"data-href":e.href,"data-precedence":e.precedence,href:null,precedence:null});return i=(n.ownerDocument||n).createElement("style"),Oe(i),ze(i,"style",s),Jp(i,e.precedence,n),t.instance=i;case"stylesheet":s=Du(e.href);var a=n.querySelector(tp(s));if(a)return t.state.loading|=4,t.instance=a,Oe(a),a;i=GC(e),(s=vi.get(s))&&fS(i,s),a=(n.ownerDocument||n).createElement("link"),Oe(a);var r=a;return r._p=new Promise(function(o,l){r.onload=o,r.onerror=l}),ze(a,"link",i),t.state.loading|=4,Jp(a,e.precedence,n),t.instance=a;case"script":return a=Iu(e.src),(s=n.querySelector(ep(a)))?(t.instance=s,Oe(s),s):(i=e,(s=vi.get(a))&&(i=jt({},e),pS(i,s)),n=n.ownerDocument||n,s=n.createElement("script"),Oe(s),ze(s,"link",i),n.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(N(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Jp(i,e.precedence,n));return t.instance}function Jp(n,t,e){for(var i=e.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,a=s,r=0;r<i.length;r++){var o=i[r];if(o.dataset.precedence===t)a=o;else if(a!==s)break}a?a.parentNode.insertBefore(n,a.nextSibling):(t=e.nodeType===9?e.head:e,t.insertBefore(n,t.firstChild))}function fS(n,t){n.crossOrigin==null&&(n.crossOrigin=t.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=t.referrerPolicy),n.title==null&&(n.title=t.title)}function pS(n,t){n.crossOrigin==null&&(n.crossOrigin=t.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=t.referrerPolicy),n.integrity==null&&(n.integrity=t.integrity)}var tm=null;function Uw(n,t,e){if(tm===null){var i=new Map,s=tm=new Map;s.set(e,i)}else s=tm,i=s.get(e),i||(i=new Map,s.set(e,i));if(i.has(n))return i;for(i.set(n,null),e=e.getElementsByTagName(n),s=0;s<e.length;s++){var a=e[s];if(!(a[sd]||a[en]||n==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var r=a.getAttribute(t)||"";r=n+r;var o=i.get(r);o?o.push(a):i.set(r,[a])}}return i}function Iw(n,t,e){n=n.ownerDocument||n,n.head.insertBefore(e,t==="title"?n.querySelector("head > title"):null)}function R2(n,t,e){if(e===1||t.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return n=t.disabled,typeof t.precedence=="string"&&n==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function qC(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var fd=null;function M2(){}function D2(n,t,e){if(fd===null)throw Error(N(475));var i=fd;if(t.type==="stylesheet"&&(typeof e.media!="string"||matchMedia(e.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var s=Du(e.href),a=n.querySelector(tp(s));if(a){n=a._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(i.count++,i=ug.bind(i),n.then(i,i)),t.state.loading|=4,t.instance=a,Oe(a);return}a=n.ownerDocument||n,e=GC(e),(s=vi.get(s))&&fS(e,s),a=a.createElement("link"),Oe(a);var r=a;r._p=new Promise(function(o,l){r.onload=o,r.onerror=l}),ze(a,"link",e),t.instance=a}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,n),(n=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=ug.bind(i),n.addEventListener("load",t),n.addEventListener("error",t))}}function L2(){if(fd===null)throw Error(N(475));var n=fd;return n.stylesheets&&n.count===0&&Rb(n,n.stylesheets),0<n.count?function(t){var e=setTimeout(function(){if(n.stylesheets&&Rb(n,n.stylesheets),n.unsuspend){var i=n.unsuspend;n.unsuspend=null,i()}},6e4);return n.unsuspend=t,function(){n.unsuspend=null,clearTimeout(e)}}:null}function ug(){if(this.count--,this.count===0){if(this.stylesheets)Rb(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var hg=null;function Rb(n,t){n.stylesheets=null,n.unsuspend!==null&&(n.count++,hg=new Map,t.forEach(O2,n),hg=null,ug.call(n))}function O2(n,t){if(!(t.state.loading&4)){var e=hg.get(n);if(e)var i=e.get(null);else{e=new Map,hg.set(n,e);for(var s=n.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<s.length;a++){var r=s[a];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(e.set(r.dataset.precedence,r),i=r)}i&&e.set(null,i)}s=t.instance,r=s.getAttribute("data-precedence"),a=e.get(r)||i,a===i&&e.set(null,s),e.set(r,s),this.count++,i=ug.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),a?a.parentNode.insertBefore(s,a.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(s,n.firstChild)),t.state.loading|=4}}var pd={$$typeof:la,Provider:null,Consumer:null,_currentValue:el,_currentValue2:el,_threadCount:0};function k2(n,t,e,i,s,a,r,o){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hy(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hy(0),this.hiddenUpdates=Hy(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=a,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function XC(n,t,e,i,s,a,r,o,l,c,u,d){return n=new k2(n,t,e,r,o,l,c,d),t=1,a===!0&&(t|=24),a=pi(3,null,null,t),n.current=a,a.stateNode=n,t=zA(),t.refCount++,n.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:e,cache:t},iS(a),n}function YC(n){return n?(n=ec,n):ec}function $C(n,t,e,i,s,a){s=YC(s),i.context===null?i.context=s:i.pendingContext=s,i=vr(t),i.payload={element:e},a=a===void 0?null:a,a!==null&&(i.callback=a),e=br(n,i,t),e!==null&&(fn(e,n,t),Vh(e,n,t))}function zw(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function mS(n,t){zw(n,t),(n=n.alternate)&&zw(n,t)}function KC(n){if(n.tag===13){var t=Tr(n,67108864);t!==null&&fn(t,n,67108864),mS(n,67108864)}}var dg=!0;function P2(n,t,e,i){var s=et.T;et.T=null;var a=Ft.p;try{Ft.p=2,gS(n,t,e,i)}finally{Ft.p=a,et.T=s}}function N2(n,t,e,i){var s=et.T;et.T=null;var a=Ft.p;try{Ft.p=8,gS(n,t,e,i)}finally{Ft.p=a,et.T=s}}function gS(n,t,e,i){if(dg){var s=Mb(i);if(s===null)dv(n,t,i,fg,e),Vw(n,i);else if(j2(s,n,t,e,i))i.stopPropagation();else if(Vw(n,i),t&4&&-1<F2.indexOf(n)){for(;s!==null;){var a=Bu(s);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var r=Gr(a.pendingLanes);if(r!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;r;){var l=1<<31-Gn(r);o.entanglements[1]|=l,r&=~l}Es(a),!($t&6)&&(ig=ms()+500,Jf(0))}}break;case 13:o=Tr(a,2),o!==null&&fn(o,a,2),sy(),mS(a,2)}if(a=Mb(i),a===null&&dv(n,t,i,fg,e),a===s)break;s=a}s!==null&&i.stopPropagation()}else dv(n,t,i,null,e)}}function Mb(n){return n=OA(n),yS(n)}var fg=null;function yS(n){if(fg=null,n=to(n),n!==null){var t=Fu(n);if(t===null)n=null;else{var e=t.tag;if(e===13){if(n=C_(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null)}}return fg=n,null}function WC(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sk()){case M_:return 2;case D_:return 8;case Vm:case Ek:return 32;case L_:return 268435456;default:return 32}default:return 32}}var Db=!1,Er=null,wr=null,xr=null,md=new Map,gd=new Map,Ua=[],F2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vw(n,t){switch(n){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":md.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gd.delete(t.pointerId)}}function sh(n,t,e,i,s,a){return n===null||n.nativeEvent!==a?(n={blockedOn:t,domEventName:e,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Bu(t),t!==null&&KC(t)),n):(n.eventSystemFlags|=i,t=n.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),n)}function j2(n,t,e,i,s){switch(t){case"focusin":return Er=sh(Er,n,t,e,i,s),!0;case"dragenter":return wr=sh(wr,n,t,e,i,s),!0;case"mouseover":return xr=sh(xr,n,t,e,i,s),!0;case"pointerover":var a=s.pointerId;return md.set(a,sh(md.get(a)||null,n,t,e,i,s)),!0;case"gotpointercapture":return a=s.pointerId,gd.set(a,sh(gd.get(a)||null,n,t,e,i,s)),!0}return!1}function QC(n){var t=to(n.target);if(t!==null){var e=Fu(t);if(e!==null){if(t=e.tag,t===13){if(t=C_(e),t!==null){n.blockedOn=t,Lk(n.priority,function(){if(e.tag===13){var i=qn(),s=Tr(e,i);s!==null&&fn(s,e,i),mS(e,i)}});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function em(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=Mb(n.nativeEvent);if(e===null){e=n.nativeEvent;var i=new e.constructor(e.type,e);$v=i,e.target.dispatchEvent(i),$v=null}else return t=Bu(e),t!==null&&KC(t),n.blockedOn=e,!1;t.shift()}return!0}function Gw(n,t,e){em(n)&&e.delete(t)}function B2(){Db=!1,Er!==null&&em(Er)&&(Er=null),wr!==null&&em(wr)&&(wr=null),xr!==null&&em(xr)&&(xr=null),md.forEach(Gw),gd.forEach(Gw)}function Lp(n,t){n.blockedOn===t&&(n.blockedOn=null,Db||(Db=!0,we.unstable_scheduleCallback(we.unstable_NormalPriority,B2)))}var Op=null;function qw(n){Op!==n&&(Op=n,we.unstable_scheduleCallback(we.unstable_NormalPriority,function(){Op===n&&(Op=null);for(var t=0;t<n.length;t+=3){var e=n[t],i=n[t+1],s=n[t+2];if(typeof i!="function"){if(yS(i||e)===null)continue;break}var a=Bu(e);a!==null&&(n.splice(t,3),t-=3,sb(a,{pending:!0,data:s,method:e.method,action:i},i,s))}}))}function yd(n){function t(l){return Lp(l,n)}Er!==null&&Lp(Er,n),wr!==null&&Lp(wr,n),xr!==null&&Lp(xr,n),md.forEach(t),gd.forEach(t);for(var e=0;e<Ua.length;e++){var i=Ua[e];i.blockedOn===n&&(i.blockedOn=null)}for(;0<Ua.length&&(e=Ua[0],e.blockedOn===null);)QC(e),e.blockedOn===null&&Ua.shift();if(e=(n.ownerDocument||n).$$reactFormReplay,e!=null)for(i=0;i<e.length;i+=3){var s=e[i],a=e[i+1],r=s[Cn]||null;if(typeof a=="function")r||qw(e);else if(r){var o=null;if(a&&a.hasAttribute("formAction")){if(s=a,r=a[Cn]||null)o=r.formAction;else if(yS(s)!==null)continue}else o=r.action;typeof o=="function"?e[i+1]=o:(e.splice(i,3),i-=3),qw(e)}}}function vS(n){this._internalRoot=n}oy.prototype.render=vS.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(N(409));var e=t.current,i=qn();$C(e,i,n,t,null,null)};oy.prototype.unmount=vS.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;n.tag===0&&bc(),$C(n.current,2,null,n,null,null),sy(),t[ju]=null}};function oy(n){this._internalRoot=n}oy.prototype.unstable_scheduleHydration=function(n){if(n){var t=j_();n={blockedOn:null,target:n,priority:t};for(var e=0;e<Ua.length&&t!==0&&t<Ua[e].priority;e++);Ua.splice(e,0,n),e===0&&QC(n)}};var Xw=E_.version;if(Xw!=="19.0.0")throw Error(N(527,Xw,"19.0.0"));Ft.findDOMNode=function(n){var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(N(188)):(n=Object.keys(n).join(","),Error(N(268,n)));return n=vk(t),n=n!==null?R_(n):null,n=n===null?null:n.stateNode,n};var H2={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:et,findFiberByHostInstance:to,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kp.isDisabled&&kp.supportsFiber)try{Gf=kp.inject(H2),Vn=kp}catch{}}Xg.createRoot=function(n,t){if(!w_(n))throw Error(N(299));var e=!1,i="",s=$1,a=K1,r=W1,o=null;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=XC(n,1,!1,null,null,e,i,s,a,r,o,null),n[ju]=t.current,dS(n.nodeType===8?n.parentNode:n),new vS(t)};Xg.hydrateRoot=function(n,t,e){if(!w_(n))throw Error(N(299));var i=!1,s="",a=$1,r=K1,o=W1,l=null,c=null;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(a=e.onUncaughtError),e.onCaughtError!==void 0&&(r=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(l=e.unstable_transitionCallbacks),e.formState!==void 0&&(c=e.formState)),t=XC(n,1,!0,t,e??null,i,s,a,r,o,l,c),t.context=YC(null),e=t.current,i=qn(),s=vr(i),s.callback=null,br(e,s,i),t.current.lanes=i,Xf(t,i),Es(t),n[ju]=t.current,dS(n),new oy(t)};Xg.version="19.0.0";function ZC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZC)}catch(n){console.error(n)}}ZC(),g_.exports=Xg;var U2=g_.exports;const I2=SA(U2);var bS={};Object.defineProperty(bS,"__esModule",{value:!0});bS.parse=$2;bS.serialize=K2;const z2=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,V2=/^[\u0021-\u003A\u003C-\u007E]*$/,G2=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,q2=/^[\u0020-\u003A\u003D-\u007E]*$/,X2=Object.prototype.toString,Y2=(()=>{const n=function(){};return n.prototype=Object.create(null),n})();function $2(n,t){const e=new Y2,i=n.length;if(i<2)return e;const s=(t==null?void 0:t.decode)||W2;let a=0;do{const r=n.indexOf("=",a);if(r===-1)break;const o=n.indexOf(";",a),l=o===-1?i:o;if(r>l){a=n.lastIndexOf(";",r-1)+1;continue}const c=Yw(n,a,r),u=$w(n,r,c),d=n.slice(c,u);if(e[d]===void 0){let f=Yw(n,r+1,l),p=$w(n,l,f);const g=s(n.slice(f,p));e[d]=g}a=l+1}while(a<i);return e}function Yw(n,t,e){do{const i=n.charCodeAt(t);if(i!==32&&i!==9)return t}while(++t<e);return e}function $w(n,t,e){for(;t>e;){const i=n.charCodeAt(--t);if(i!==32&&i!==9)return t+1}return e}function K2(n,t,e){const i=(e==null?void 0:e.encode)||encodeURIComponent;if(!z2.test(n))throw new TypeError(`argument name is invalid: ${n}`);const s=i(t);if(!V2.test(s))throw new TypeError(`argument val is invalid: ${t}`);let a=n+"="+s;if(!e)return a;if(e.maxAge!==void 0){if(!Number.isInteger(e.maxAge))throw new TypeError(`option maxAge is invalid: ${e.maxAge}`);a+="; Max-Age="+e.maxAge}if(e.domain){if(!G2.test(e.domain))throw new TypeError(`option domain is invalid: ${e.domain}`);a+="; Domain="+e.domain}if(e.path){if(!q2.test(e.path))throw new TypeError(`option path is invalid: ${e.path}`);a+="; Path="+e.path}if(e.expires){if(!Q2(e.expires)||!Number.isFinite(e.expires.valueOf()))throw new TypeError(`option expires is invalid: ${e.expires}`);a+="; Expires="+e.expires.toUTCString()}if(e.httpOnly&&(a+="; HttpOnly"),e.secure&&(a+="; Secure"),e.partitioned&&(a+="; Partitioned"),e.priority)switch(typeof e.priority=="string"?e.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${e.priority}`)}if(e.sameSite)switch(typeof e.sameSite=="string"?e.sameSite.toLowerCase():e.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${e.sameSite}`)}return a}function W2(n){if(n.indexOf("%")===-1)return n;try{return decodeURIComponent(n)}catch{return n}}function Q2(n){return X2.call(n)==="[object Date]"}/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Kw="popstate";function Z2(n={}){function t(i,s){let{pathname:a,search:r,hash:o}=i.location;return Lb("",{pathname:a,search:r,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(i,s){return typeof s=="string"?s:vd(s)}return tN(t,e,null,n)}function Kt(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function As(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function J2(){return Math.random().toString(36).substring(2,10)}function Ww(n,t){return{usr:n.state,key:n.key,idx:t}}function Lb(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?zu(t):t,state:e,key:t&&t.key||i||J2()}}function vd({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function zu(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function tN(n,t,e,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,r=s.history,o="POP",l=null,c=u();c==null&&(c=0,r.replaceState({...r.state,idx:c},""));function u(){return(r.state||{idx:null}).idx}function d(){o="POP";let A=u(),m=A==null?null:A-c;c=A,l&&l({action:o,location:v.location,delta:m})}function f(A,m){o="PUSH";let y=Lb(v.location,A,m);c=u()+1;let b=Ww(y,c),w=v.createHref(y);try{r.pushState(b,"",w)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(w)}a&&l&&l({action:o,location:v.location,delta:1})}function p(A,m){o="REPLACE";let y=Lb(v.location,A,m);c=u();let b=Ww(y,c),w=v.createHref(y);r.replaceState(b,"",w),a&&l&&l({action:o,location:v.location,delta:0})}function g(A){let m=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof A=="string"?A:vd(A);return y=y.replace(/ $/,"%20"),Kt(m,`No window.location.(origin|href) available to create URL for href: ${y}`),new URL(y,m)}let v={get action(){return o},get location(){return n(s,r)},listen(A){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Kw,d),l=A,()=>{s.removeEventListener(Kw,d),l=null}},createHref(A){return t(s,A)},createURL:g,encodeLocation(A){let m=g(A);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(A){return r.go(A)}};return v}function JC(n,t,e="/"){return eN(n,t,e,!1)}function eN(n,t,e,i){let s=typeof t=="string"?zu(t):t,a=xa(s.pathname||"/",e);if(a==null)return null;let r=tR(n);nN(r);let o=null;for(let l=0;o==null&&l<r.length;++l){let c=fN(a);o=hN(r[l],c,i)}return o}function tR(n,t=[],e=[],i=""){let s=(a,r,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:r,route:a};l.relativePath.startsWith("/")&&(Kt(l.relativePath.startsWith(i),`Absolute route path "${l.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(i.length));let c=pa([i,l.relativePath]),u=e.concat(l);a.children&&a.children.length>0&&(Kt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),tR(a.children,t,u,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:cN(c,a.index),routesMeta:u})};return n.forEach((a,r)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))s(a,r);else for(let l of eR(a.path))s(a,r,l)}),t}function eR(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),a=e.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let r=eR(i.join("/")),o=[];return o.push(...r.map(l=>l===""?a:[a,l].join("/"))),s&&o.push(...r),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function nN(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:uN(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var iN=/^:[\w-]+$/,sN=3,aN=2,rN=1,oN=10,lN=-2,Qw=n=>n==="*";function cN(n,t){let e=n.split("/"),i=e.length;return e.some(Qw)&&(i+=lN),t&&(i+=aN),e.filter(s=>!Qw(s)).reduce((s,a)=>s+(iN.test(a)?sN:a===""?rN:oN),i)}function uN(n,t){return n.length===t.length&&n.slice(0,-1).every((i,s)=>i===t[s])?n[n.length-1]-t[t.length-1]:0}function hN(n,t,e=!1){let{routesMeta:i}=n,s={},a="/",r=[];for(let o=0;o<i.length;++o){let l=i[o],c=o===i.length-1,u=a==="/"?t:t.slice(a.length)||"/",d=pg({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&e&&!i[i.length-1].route.index&&(d=pg({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),r.push({params:s,pathname:pa([a,d.pathname]),pathnameBase:yN(pa([a,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(a=pa([a,d.pathnameBase]))}return r}function pg(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=dN(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let a=s[0],r=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:i.reduce((c,{paramName:u,isOptional:d},f)=>{if(u==="*"){let g=o[f]||"";r=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const p=o[f];return d&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:r,pattern:n}}function dN(n,t=!1,e=!0){As(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function fN(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return As(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function xa(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function pN(n,t="/"){let{pathname:e,search:i="",hash:s=""}=typeof n=="string"?zu(n):n;return{pathname:e?e.startsWith("/")?e:mN(e,t):t,search:vN(i),hash:bN(s)}}function mN(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function mv(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gN(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function nR(n){let t=gN(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function iR(n,t,e,i=!1){let s;typeof n=="string"?s=zu(n):(s={...n},Kt(!s.pathname||!s.pathname.includes("?"),mv("?","pathname","search",s)),Kt(!s.pathname||!s.pathname.includes("#"),mv("#","pathname","hash",s)),Kt(!s.search||!s.search.includes("#"),mv("#","search","hash",s)));let a=n===""||s.pathname==="",r=a?"/":s.pathname,o;if(r==null)o=e;else{let d=t.length-1;if(!i&&r.startsWith("..")){let f=r.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}o=d>=0?t[d]:"/"}let l=pN(s,o),c=r&&r!=="/"&&r.endsWith("/"),u=(a||r===".")&&e.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var pa=n=>n.join("/").replace(/\/\/+/g,"/"),yN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),vN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,bN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function AN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var sR=["POST","PUT","PATCH","DELETE"];new Set(sR);var SN=["GET",...sR];new Set(SN);var Vu=C.createContext(null);Vu.displayName="DataRouter";var ly=C.createContext(null);ly.displayName="DataRouterState";var aR=C.createContext({isTransitioning:!1});aR.displayName="ViewTransition";var EN=C.createContext(new Map);EN.displayName="Fetchers";var wN=C.createContext(null);wN.displayName="Await";var ws=C.createContext(null);ws.displayName="Navigation";var np=C.createContext(null);np.displayName="Location";var xs=C.createContext({outlet:null,matches:[],isDataRoute:!1});xs.displayName="Route";var AS=C.createContext(null);AS.displayName="RouteError";function xN(n,{relative:t}={}){Kt(ip(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=C.useContext(ws),{hash:s,pathname:a,search:r}=sp(n,{relative:t}),o=a;return e!=="/"&&(o=a==="/"?e:pa([e,a])),i.createHref({pathname:o,search:r,hash:s})}function ip(){return C.useContext(np)!=null}function jr(){return Kt(ip(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(np).location}var rR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oR(n){C.useContext(ws).static||C.useLayoutEffect(n)}function Cl(){let{isDataRoute:n}=C.useContext(xs);return n?BN():TN()}function TN(){Kt(ip(),"useNavigate() may be used only in the context of a <Router> component.");let n=C.useContext(Vu),{basename:t,navigator:e}=C.useContext(ws),{matches:i}=C.useContext(xs),{pathname:s}=jr(),a=JSON.stringify(nR(i)),r=C.useRef(!1);return oR(()=>{r.current=!0}),C.useCallback((l,c={})=>{if(As(r.current,rR),!r.current)return;if(typeof l=="number"){e.go(l);return}let u=iR(l,JSON.parse(a),s,c.relative==="path");n==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:pa([t,u.pathname])),(c.replace?e.replace:e.push)(u,c.state,c)},[t,e,a,s,n])}C.createContext(null);function _N(){let{matches:n}=C.useContext(xs),t=n[n.length-1];return t?t.params:{}}function sp(n,{relative:t}={}){let{matches:e}=C.useContext(xs),{pathname:i}=jr(),s=JSON.stringify(nR(e));return C.useMemo(()=>iR(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function CN(n,t){return lR(n,t)}function lR(n,t,e,i){var y;Kt(ip(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=C.useContext(ws),{matches:r}=C.useContext(xs),o=r[r.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let b=d&&d.path||"";cR(c,!d||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let f=jr(),p;if(t){let b=typeof t=="string"?zu(t):t;Kt(u==="/"||((y=b.pathname)==null?void 0:y.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${b.pathname}" was given in the \`location\` prop.`),p=b}else p=f;let g=p.pathname||"/",v=g;if(u!=="/"){let b=u.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let A=!a&&e&&e.matches&&e.matches.length>0?e.matches:JC(n,{pathname:v});As(d||A!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),As(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=ON(A&&A.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:pa([u,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:pa([u,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),r,e,i);return t&&m?C.createElement(np.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},m):m}function RN(){let n=jN(),t=AN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},r=null;return console.error("Error handled by React Router default ErrorBoundary:",n),r=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:a},"ErrorBoundary")," or"," ",C.createElement("code",{style:a},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),e?C.createElement("pre",{style:s},e):null,r)}var MN=C.createElement(RN,null),DN=class extends C.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?C.createElement(xs.Provider,{value:this.props.routeContext},C.createElement(AS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LN({routeContext:n,match:t,children:e}){let i=C.useContext(Vu);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(xs.Provider,{value:n},e)}function ON(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let s=n,a=e==null?void 0:e.errors;if(a!=null){let l=s.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id])!==void 0);Kt(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let r=!1,o=-1;if(e)for(let l=0;l<s.length;l++){let c=s[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(o=l),c.route.id){let{loaderData:u,errors:d}=e,f=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||f){r=!0,o>=0?s=s.slice(0,o+1):s=[s[0]];break}}}return s.reduceRight((l,c,u)=>{let d,f=!1,p=null,g=null;e&&(d=a&&c.route.id?a[c.route.id]:void 0,p=c.route.errorElement||MN,r&&(o<0&&u===0?(cR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,g=null):o===u&&(f=!0,g=c.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,u+1)),A=()=>{let m;return d?m=p:f?m=g:c.route.Component?m=C.createElement(c.route.Component,null):c.route.element?m=c.route.element:m=l,C.createElement(LN,{match:c,routeContext:{outlet:l,matches:v,isDataRoute:e!=null},children:m})};return e&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?C.createElement(DN,{location:e.location,revalidation:e.revalidation,component:p,error:d,children:A(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):A()},null)}function SS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kN(n){let t=C.useContext(Vu);return Kt(t,SS(n)),t}function PN(n){let t=C.useContext(ly);return Kt(t,SS(n)),t}function NN(n){let t=C.useContext(xs);return Kt(t,SS(n)),t}function ES(n){let t=NN(n),e=t.matches[t.matches.length-1];return Kt(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function FN(){return ES("useRouteId")}function jN(){var i;let n=C.useContext(AS),t=PN("useRouteError"),e=ES("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[e]}function BN(){let{router:n}=kN("useNavigate"),t=ES("useNavigate"),e=C.useRef(!1);return oR(()=>{e.current=!0}),C.useCallback(async(s,a={})=>{As(e.current,rR),e.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:t,...a}))},[n,t])}var Zw={};function cR(n,t,e){!t&&!Zw[n]&&(Zw[n]=!0,As(!1,e))}C.memo(HN);function HN({routes:n,future:t,state:e}){return lR(n,void 0,e,t)}function Xi(n){Kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UN({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:s,static:a=!1}){Kt(!ip(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let r=n.replace(/^\/*/,"/"),o=C.useMemo(()=>({basename:r,navigator:s,static:a,future:{}}),[r,s,a]);typeof e=="string"&&(e=zu(e));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:f="default"}=e,p=C.useMemo(()=>{let g=xa(l,r);return g==null?null:{location:{pathname:g,search:c,hash:u,state:d,key:f},navigationType:i}},[r,l,c,u,d,f,i]);return As(p!=null,`<Router basename="${r}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:C.createElement(ws.Provider,{value:o},C.createElement(np.Provider,{children:t,value:p}))}function IN({children:n,location:t}){return CN(Ob(n),t)}function Ob(n,t=[]){let e=[];return C.Children.forEach(n,(i,s)=>{if(!C.isValidElement(i))return;let a=[...t,s];if(i.type===C.Fragment){e.push.apply(e,Ob(i.props.children,a));return}Kt(i.type===Xi,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Kt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let r={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(r.children=Ob(i.props.children,a)),e.push(r)}),e}var nm="get",im="application/x-www-form-urlencoded";function cy(n){return n!=null&&typeof n.tagName=="string"}function zN(n){return cy(n)&&n.tagName.toLowerCase()==="button"}function VN(n){return cy(n)&&n.tagName.toLowerCase()==="form"}function GN(n){return cy(n)&&n.tagName.toLowerCase()==="input"}function qN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function XN(n,t){return n.button===0&&(!t||t==="_self")&&!qN(n)}var Pp=null;function YN(){if(Pp===null)try{new FormData(document.createElement("form"),0),Pp=!1}catch{Pp=!0}return Pp}var $N=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gv(n){return n!=null&&!$N.has(n)?(As(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${im}"`),null):n}function KN(n,t){let e,i,s,a,r;if(VN(n)){let o=n.getAttribute("action");i=o?xa(o,t):null,e=n.getAttribute("method")||nm,s=gv(n.getAttribute("enctype"))||im,a=new FormData(n)}else if(zN(n)||GN(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||o.getAttribute("action");if(i=l?xa(l,t):null,e=n.getAttribute("formmethod")||o.getAttribute("method")||nm,s=gv(n.getAttribute("formenctype"))||gv(o.getAttribute("enctype"))||im,a=new FormData(o,n),!YN()){let{name:c,type:u,value:d}=n;if(u==="image"){let f=c?`${c}.`:"";a.append(`${f}x`,"0"),a.append(`${f}y`,"0")}else c&&a.append(c,d)}}else{if(cy(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=nm,i=null,s=im,r=n}return a&&s==="text/plain"&&(r=a,a=void 0),{action:i,method:e.toLowerCase(),encType:s,formData:a,body:r}}function wS(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function WN(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function ZN(n,t,e){let i=await Promise.all(n.map(async s=>{let a=t.routes[s.route.id];if(a){let r=await WN(a,e);return r.links?r.links():[]}return[]}));return nF(i.flat(1).filter(QN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Jw(n,t,e,i,s,a){let r=(l,c)=>e[c]?l.route.id!==e[c].route.id:!0,o=(l,c)=>{var u;return e[c].pathname!==l.pathname||((u=e[c].route.path)==null?void 0:u.endsWith("*"))&&e[c].params["*"]!==l.params["*"]};return a==="assets"?t.filter((l,c)=>r(l,c)||o(l,c)):a==="data"?t.filter((l,c)=>{var d;let u=i.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(r(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((d=e[0])==null?void 0:d.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function JN(n,t,{includeHydrateFallback:e}={}){return tF(n.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function tF(n){return[...new Set(n)]}function eF(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function nF(n,t){let e=new Set;return new Set(t),n.reduce((i,s)=>{let a=JSON.stringify(eF(s));return e.has(a)||(e.add(a),i.push({key:a,link:s})),i},[])}function iF(n,t){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":t&&xa(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function uR(){let n=C.useContext(Vu);return wS(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function sF(){let n=C.useContext(ly);return wS(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var xS=C.createContext(void 0);xS.displayName="FrameworkContext";function hR(){let n=C.useContext(xS);return wS(n,"You must render this element inside a <HydratedRouter> element"),n}function aF(n,t){let e=C.useContext(xS),[i,s]=C.useState(!1),[a,r]=C.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=t,f=C.useRef(null);C.useEffect(()=>{if(n==="render"&&r(!0),n==="viewport"){let v=m=>{m.forEach(y=>{r(y.isIntersecting)})},A=new IntersectionObserver(v,{threshold:.5});return f.current&&A.observe(f.current),()=>{A.disconnect()}}},[n]),C.useEffect(()=>{if(i){let v=setTimeout(()=>{r(!0)},100);return()=>{clearTimeout(v)}}},[i]);let p=()=>{s(!0)},g=()=>{s(!1),r(!1)};return e?n!=="intent"?[a,f,{}]:[a,f,{onFocus:ah(o,p),onBlur:ah(l,g),onMouseEnter:ah(c,p),onMouseLeave:ah(u,g),onTouchStart:ah(d,p)}]:[!1,f,{}]}function ah(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function rF({page:n,...t}){let{router:e}=uR(),i=C.useMemo(()=>JC(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?C.createElement(lF,{page:n,matches:i,...t}):null}function oF(n){let{manifest:t,routeModules:e}=hR(),[i,s]=C.useState([]);return C.useEffect(()=>{let a=!1;return ZN(n,t,e).then(r=>{a||s(r)}),()=>{a=!0}},[n,t,e]),i}function lF({page:n,matches:t,...e}){let i=jr(),{manifest:s,routeModules:a}=hR(),{basename:r}=uR(),{loaderData:o,matches:l}=sF(),c=C.useMemo(()=>Jw(n,t,l,s,i,"data"),[n,t,l,s,i]),u=C.useMemo(()=>Jw(n,t,l,s,i,"assets"),[n,t,l,s,i]),d=C.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let g=new Set,v=!1;if(t.forEach(m=>{var b;let y=s.routes[m.route.id];!y||!y.hasLoader||(!c.some(w=>w.route.id===m.route.id)&&m.route.id in o&&((b=a[m.route.id])!=null&&b.shouldRevalidate)||y.hasClientLoader?v=!0:g.add(m.route.id))}),g.size===0)return[];let A=iF(n,r);return v&&g.size>0&&A.searchParams.set("_routes",t.filter(m=>g.has(m.route.id)).map(m=>m.route.id).join(",")),[A.pathname+A.search]},[r,o,i,s,c,t,n,a]),f=C.useMemo(()=>JN(u,s),[u,s]),p=oF(u);return C.createElement(C.Fragment,null,d.map(g=>C.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...e})),f.map(g=>C.createElement("link",{key:g,rel:"modulepreload",href:g,...e})),p.map(({key:g,link:v})=>C.createElement("link",{key:g,...v})))}function cF(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var dR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dR&&(window.__reactRouterVersion="7.3.0")}catch{}function uF({basename:n,children:t,window:e}){let i=C.useRef();i.current==null&&(i.current=Z2({window:e,v5Compat:!0}));let s=i.current,[a,r]=C.useState({action:s.action,location:s.location}),o=C.useCallback(l=>{C.startTransition(()=>r(l))},[r]);return C.useLayoutEffect(()=>s.listen(o),[s,o]),C.createElement(UN,{basename:n,children:t,location:a.location,navigationType:a.action,navigator:s})}var fR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fs=C.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:s,reloadDocument:a,replace:r,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d,...f},p){let{basename:g}=C.useContext(ws),v=typeof c=="string"&&fR.test(c),A,m=!1;if(typeof c=="string"&&v&&(A=c,dR))try{let O=new URL(window.location.href),k=c.startsWith("//")?new URL(O.protocol+c):new URL(c),B=xa(k.pathname,g);k.origin===O.origin&&B!=null?c=B+k.search+k.hash:m=!0}catch{As(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=xN(c,{relative:s}),[b,w,T]=aF(i,f),R=pF(c,{replace:r,state:o,target:l,preventScrollReset:u,relative:s,viewTransition:d});function M(O){t&&t(O),O.defaultPrevented||R(O)}let D=C.createElement("a",{...f,...T,href:A||y,onClick:m||a?t:M,ref:cF(p,w),target:l,"data-discover":!v&&e==="render"?"true":void 0});return b&&!v?C.createElement(C.Fragment,null,D,C.createElement(rF,{page:y})):D});fs.displayName="Link";var hF=C.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:s=!1,style:a,to:r,viewTransition:o,children:l,...c},u){let d=sp(r,{relative:c.relative}),f=jr(),p=C.useContext(ly),{navigator:g,basename:v}=C.useContext(ws),A=p!=null&&bF(d)&&o===!0,m=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,y=f.pathname,b=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;e||(y=y.toLowerCase(),b=b?b.toLowerCase():null,m=m.toLowerCase()),b&&v&&(b=xa(b,v)||b);const w=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let T=y===m||!s&&y.startsWith(m)&&y.charAt(w)==="/",R=b!=null&&(b===m||!s&&b.startsWith(m)&&b.charAt(m.length)==="/"),M={isActive:T,isPending:R,isTransitioning:A},D=T?t:void 0,O;typeof i=="function"?O=i(M):O=[i,T?"active":null,R?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(M):a;return C.createElement(fs,{...c,"aria-current":D,className:O,ref:u,style:k,to:r,viewTransition:o},typeof l=="function"?l(M):l)});hF.displayName="NavLink";var dF=C.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:s,state:a,method:r=nm,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...f},p)=>{let g=yF(),v=vF(o,{relative:c}),A=r.toLowerCase()==="get"?"get":"post",m=typeof o=="string"&&fR.test(o),y=b=>{if(l&&l(b),b.defaultPrevented)return;b.preventDefault();let w=b.nativeEvent.submitter,T=(w==null?void 0:w.getAttribute("formmethod"))||r;g(w||b.currentTarget,{fetcherKey:t,method:T,navigate:e,replace:s,state:a,relative:c,preventScrollReset:u,viewTransition:d})};return C.createElement("form",{ref:p,method:A,action:v,onSubmit:i?l:y,...f,"data-discover":!m&&n==="render"?"true":void 0})});dF.displayName="Form";function fF(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pR(n){let t=C.useContext(Vu);return Kt(t,fF(n)),t}function pF(n,{target:t,replace:e,state:i,preventScrollReset:s,relative:a,viewTransition:r}={}){let o=Cl(),l=jr(),c=sp(n,{relative:a});return C.useCallback(u=>{if(XN(u,t)){u.preventDefault();let d=e!==void 0?e:vd(l)===vd(c);o(n,{replace:d,state:i,preventScrollReset:s,relative:a,viewTransition:r})}},[l,o,c,e,i,t,n,s,a,r])}var mF=0,gF=()=>`__${String(++mF)}__`;function yF(){let{router:n}=pR("useSubmit"),{basename:t}=C.useContext(ws),e=FN();return C.useCallback(async(i,s={})=>{let{action:a,method:r,encType:o,formData:l,body:c}=KN(i,t);if(s.navigate===!1){let u=s.fetcherKey||gF();await n.fetch(u,e,s.action||a,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||r,formEncType:s.encType||o,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||r,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,t,e])}function vF(n,{relative:t}={}){let{basename:e}=C.useContext(ws),i=C.useContext(xs);Kt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...sp(n||".",{relative:t})},r=jr();if(n==null){a.search=r.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(u=>u==="")){o.delete("index"),l.filter(d=>d).forEach(d=>o.append("index",d));let u=o.toString();a.search=u?`?${u}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(a.pathname=a.pathname==="/"?e:pa([e,a.pathname])),vd(a)}function bF(n,t={}){let e=C.useContext(aR);Kt(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=pR("useViewTransitionState"),s=sp(n,{relative:t.relative});if(!e.isTransitioning)return!1;let a=xa(e.currentLocation.pathname,i)||e.currentLocation.pathname,r=xa(e.nextLocation.pathname,i)||e.nextLocation.pathname;return pg(s.pathname,r)!=null||pg(s.pathname,a)!=null}new TextEncoder;const mR=C.createContext({});function AF(n){const t=C.useRef(null);return t.current===null&&(t.current=n()),t.current}const TS=C.createContext(null),gR=C.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function SF(n=!0){const t=C.useContext(TS);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:s}=t,a=C.useId();C.useEffect(()=>{if(n)return s(a)},[n]);const r=C.useCallback(()=>n&&i&&i(a),[a,i,n]);return!e&&i?[!1,r]:[!0]}const _S=typeof window<"u",EF=_S?C.useLayoutEffect:C.useEffect,Xn=n=>n;let yR=Xn;function CS(n){let t;return()=>(t===void 0&&(t=n()),t)}const Lu=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i},ma=n=>n*1e3,ga=n=>n/1e3,wF={useManualTiming:!1},Np=["read","resolveKeyframes","update","preRender","render","postRender"],tx={value:null};function xF(n,t){let e=new Set,i=new Set,s=!1,a=!1;const r=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(d){r.has(d)&&(u.schedule(d),n()),l++,d(o)}const u={schedule:(d,f=!1,p=!1)=>{const v=p&&s?e:i;return f&&r.add(d),v.has(d)||v.add(d),d},cancel:d=>{i.delete(d),r.delete(d)},process:d=>{if(o=d,s){a=!0;return}s=!0,[e,i]=[i,e],e.forEach(c),t&&tx.value&&tx.value.frameloop[t].push(l),l=0,e.clear(),s=!1,a&&(a=!1,u.process(d))}};return u}const TF=40;function vR(n,t){let e=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>e=!0,r=Np.reduce((m,y)=>(m[y]=xF(a,t?y:void 0),m),{}),{read:o,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:f}=r,p=()=>{const m=performance.now();e=!1,s.delta=i?1e3/60:Math.max(Math.min(m-s.timestamp,TF),1),s.timestamp=m,s.isProcessing=!0,o.process(s),l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),s.isProcessing=!1,e&&t&&(i=!1,n(p))},g=()=>{e=!0,i=!0,s.isProcessing||n(p)};return{schedule:Np.reduce((m,y)=>{const b=r[y];return m[y]=(w,T=!1,R=!1)=>(e||g(),b.schedule(w,T,R)),m},{}),cancel:m=>{for(let y=0;y<Np.length;y++)r[Np[y]].cancel(m)},state:s,steps:r}}const{schedule:Pt,cancel:Mr,state:He,steps:yv}=vR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xn,!0),bR=C.createContext({strict:!1}),ex={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ou={};for(const n in ex)Ou[n]={isEnabled:t=>ex[n].some(e=>!!t[e])};function _F(n){for(const t in n)Ou[t]={...Ou[t],...n[t]}}const CF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mg(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||CF.has(n)}let AR=n=>!mg(n);function RF(n){n&&(AR=t=>t.startsWith("on")?!mg(t):n(t))}try{RF(require("@emotion/is-prop-valid").default)}catch{}function MF(n,t,e){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(AR(s)||e===!0&&mg(s)||!t&&!mg(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function DF(n){if(typeof Proxy>"u")return n;const t=new Map,e=(...i)=>n(...i);return new Proxy(e,{get:(i,s)=>s==="create"?n:(t.has(s)||t.set(s,n(s)),t.get(s))})}const uy=C.createContext({});function hy(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function bd(n){return typeof n=="string"||Array.isArray(n)}const RS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],MS=["initial",...RS];function dy(n){return hy(n.animate)||MS.some(t=>bd(n[t]))}function SR(n){return!!(dy(n)||n.variants)}function LF(n,t){if(dy(n)){const{initial:e,animate:i}=n;return{initial:e===!1||bd(e)?e:void 0,animate:bd(i)?i:void 0}}return n.inherit!==!1?t:{}}function OF(n){const{initial:t,animate:e}=LF(n,C.useContext(uy));return C.useMemo(()=>({initial:t,animate:e}),[nx(t),nx(e)])}function nx(n){return Array.isArray(n)?n.join(" "):n}const kF=Symbol.for("motionComponentSymbol");function ac(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function PF(n,t,e){return C.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):ac(e)&&(e.current=i))},[t])}const DS=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),NF="framerAppearId",ER="data-"+DS(NF),{schedule:LS}=vR(queueMicrotask,!1),wR=C.createContext({});function FF(n,t,e,i,s){var a,r;const{visualElement:o}=C.useContext(uy),l=C.useContext(bR),c=C.useContext(TS),u=C.useContext(gR).reducedMotion,d=C.useRef(null);i=i||l.renderer,!d.current&&i&&(d.current=i(n,{visualState:t,parent:o,props:e,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const f=d.current,p=C.useContext(wR);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&jF(d.current,e,s,p);const g=C.useRef(!1);C.useInsertionEffect(()=>{f&&g.current&&f.update(e,c)});const v=e[ER],A=C.useRef(!!v&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,v))&&((r=window.MotionHasOptimisedAnimation)===null||r===void 0?void 0:r.call(window,v)));return EF(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),LS.render(f.render),A.current&&f.animationState&&f.animationState.animateChanges())}),C.useEffect(()=>{f&&(!A.current&&f.animationState&&f.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,v)}),A.current=!1))}),f}function jF(n,t,e,i){const{layoutId:s,layout:a,drag:r,dragConstraints:o,layoutScroll:l,layoutRoot:c}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:xR(n.parent)),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!r||o&&ac(o),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}function xR(n){if(n)return n.options.allowProjection!==!1?n.projection:xR(n.parent)}function BF({preloadedFeatures:n,createVisualElement:t,useRender:e,useVisualState:i,Component:s}){var a,r;n&&_F(n);function o(c,u){let d;const f={...C.useContext(gR),...c,layoutId:HF(c)},{isStatic:p}=f,g=OF(c),v=i(c,p);if(!p&&_S){UF();const A=IF(f);d=A.MeasureLayout,g.visualElement=FF(s,v,f,t,A.ProjectionNode)}return _.jsxs(uy.Provider,{value:g,children:[d&&g.visualElement?_.jsx(d,{visualElement:g.visualElement,...f}):null,e(s,c,PF(v,g.visualElement,u),v,p,g.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${(r=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&r!==void 0?r:""})`}`;const l=C.forwardRef(o);return l[kF]=s,l}function HF({layoutId:n}){const t=C.useContext(mR).id;return t&&n!==void 0?t+"-"+n:n}function UF(n,t){C.useContext(bR).strict}function IF(n){const{drag:t,layout:e}=Ou;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(n)||e!=null&&e.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const TR=n=>t=>typeof t=="string"&&t.startsWith(n),OS=TR("--"),zF=TR("var(--"),kS=n=>zF(n)?VF.test(n.split("/*")[0].trim()):!1,VF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ad={};function GF(n){for(const t in n)Ad[t]=n[t],OS(t)&&(Ad[t].isCSSVariable=!0)}const Gu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rl=new Set(Gu);function _R(n,{layout:t,layoutId:e}){return Rl.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Ad[n]||n==="opacity")}const sn=n=>!!(n&&n.getVelocity),CR=(n,t)=>t&&typeof n=="number"?t.transform(n):n,Ta=(n,t,e)=>e>t?t:e<n?n:e,qu={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Sd={...qu,transform:n=>Ta(0,1,n)},Fp={...qu,default:1},ap=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Oa=ap("deg"),ys=ap("%"),q=ap("px"),qF=ap("vh"),XF=ap("vw"),ix={...ys,parse:n=>ys.parse(n)/100,transform:n=>ys.transform(n*100)},YF={borderWidth:q,borderTopWidth:q,borderRightWidth:q,borderBottomWidth:q,borderLeftWidth:q,borderRadius:q,radius:q,borderTopLeftRadius:q,borderTopRightRadius:q,borderBottomRightRadius:q,borderBottomLeftRadius:q,width:q,maxWidth:q,height:q,maxHeight:q,top:q,right:q,bottom:q,left:q,padding:q,paddingTop:q,paddingRight:q,paddingBottom:q,paddingLeft:q,margin:q,marginTop:q,marginRight:q,marginBottom:q,marginLeft:q,backgroundPositionX:q,backgroundPositionY:q},$F={rotate:Oa,rotateX:Oa,rotateY:Oa,rotateZ:Oa,scale:Fp,scaleX:Fp,scaleY:Fp,scaleZ:Fp,skew:Oa,skewX:Oa,skewY:Oa,distance:q,translateX:q,translateY:q,translateZ:q,x:q,y:q,z:q,perspective:q,transformPerspective:q,opacity:Sd,originX:ix,originY:ix,originZ:q},sx={...qu,transform:Math.round},PS={...YF,...$F,zIndex:sx,size:q,fillOpacity:Sd,strokeOpacity:Sd,numOctaves:sx},KF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},WF=Gu.length;function QF(n,t,e){let i="",s=!0;for(let a=0;a<WF;a++){const r=Gu[a],o=n[r];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(r.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||e){const c=CR(o,PS[r]);if(!l){s=!1;const u=KF[r]||r;i+=`${u}(${c}) `}e&&(t[r]=c)}}return i=i.trim(),e?i=e(t,s?"":i):s&&(i="none"),i}function NS(n,t,e){const{style:i,vars:s,transformOrigin:a}=n;let r=!1,o=!1;for(const l in t){const c=t[l];if(Rl.has(l)){r=!0;continue}else if(OS(l)){s[l]=c;continue}else{const u=CR(c,PS[l]);l.startsWith("origin")?(o=!0,a[l]=u):i[l]=u}}if(t.transform||(r||e?i.transform=QF(t,n.transform,e):i.transform&&(i.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=a;i.transformOrigin=`${l} ${c} ${u}`}}const FS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function RR(n,t,e){for(const i in t)!sn(t[i])&&!_R(i,e)&&(n[i]=t[i])}function ZF({transformTemplate:n},t){return C.useMemo(()=>{const e=FS();return NS(e,t,n),Object.assign({},e.vars,e.style)},[t])}function JF(n,t){const e=n.style||{},i={};return RR(i,e,n),Object.assign(i,ZF(n,t)),i}function tj(n,t){const e={},i=JF(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const ej=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jS(n){return typeof n!="string"||n.includes("-")?!1:!!(ej.indexOf(n)>-1||/[A-Z]/u.test(n))}const nj={offset:"stroke-dashoffset",array:"stroke-dasharray"},ij={offset:"strokeDashoffset",array:"strokeDasharray"};function sj(n,t,e=1,i=0,s=!0){n.pathLength=1;const a=s?nj:ij;n[a.offset]=q.transform(-i);const r=q.transform(t),o=q.transform(e);n[a.array]=`${r} ${o}`}function ax(n,t,e){return typeof n=="string"?n:q.transform(t+e*n)}function aj(n,t,e){const i=ax(t,n.x,n.width),s=ax(e,n.y,n.height);return`${i} ${s}`}function BS(n,{attrX:t,attrY:e,attrScale:i,originX:s,originY:a,pathLength:r,pathSpacing:o=1,pathOffset:l=0,...c},u,d){if(NS(n,c,d),u){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:f,style:p,dimensions:g}=n;f.transform&&(g&&(p.transform=f.transform),delete f.transform),g&&(s!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=aj(g,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(f.x=t),e!==void 0&&(f.y=e),i!==void 0&&(f.scale=i),r!==void 0&&sj(f,r,o,l,!1)}const MR=()=>({...FS(),attrs:{}}),HS=n=>typeof n=="string"&&n.toLowerCase()==="svg";function rj(n,t,e,i){const s=C.useMemo(()=>{const a=MR();return BS(a,t,HS(i),n.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(n.style){const a={};RR(a,n.style,n),s.style={...a,...s.style}}return s}function oj(n=!1){return(e,i,s,{latestValues:a},r)=>{const l=(jS(e)?rj:tj)(i,a,r,e),c=MF(i,typeof e=="string",n),u=e!==C.Fragment?{...c,...l,ref:s}:{},{children:d}=i,f=C.useMemo(()=>sn(d)?d.get():d,[d]);return C.createElement(e,{...u,children:f})}}function rx(n){const t=[{},{}];return n==null||n.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function US(n,t,e,i){if(typeof t=="function"){const[s,a]=rx(i);t=t(e!==void 0?e:n.custom,s,a)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[s,a]=rx(i);t=t(e!==void 0?e:n.custom,s,a)}return t}const kb=n=>Array.isArray(n),lj=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),cj=n=>kb(n)?n[n.length-1]||0:n;function sm(n){const t=sn(n)?n.get():n;return lj(t)?t.toValue():t}function uj({scrapeMotionValuesFromProps:n,createRenderState:t,onUpdate:e},i,s,a){const r={latestValues:hj(i,s,a,n),renderState:t()};return e&&(r.onMount=o=>e({props:i,current:o,...r}),r.onUpdate=o=>e(o)),r}const DR=n=>(t,e)=>{const i=C.useContext(uy),s=C.useContext(TS),a=()=>uj(n,t,i,s);return e?a():AF(a)};function hj(n,t,e,i){const s={},a=i(n,{});for(const f in a)s[f]=sm(a[f]);let{initial:r,animate:o}=n;const l=dy(n),c=SR(n);t&&c&&!l&&n.inherit!==!1&&(r===void 0&&(r=t.initial),o===void 0&&(o=t.animate));let u=e?e.initial===!1:!1;u=u||r===!1;const d=u?o:r;if(d&&typeof d!="boolean"&&!hy(d)){const f=Array.isArray(d)?d:[d];for(let p=0;p<f.length;p++){const g=US(n,f[p]);if(g){const{transitionEnd:v,transition:A,...m}=g;for(const y in m){let b=m[y];if(Array.isArray(b)){const w=u?b.length-1:0;b=b[w]}b!==null&&(s[y]=b)}for(const y in v)s[y]=v[y]}}}return s}function IS(n,t,e){var i;const{style:s}=n,a={};for(const r in s)(sn(s[r])||t.style&&sn(t.style[r])||_R(r,n)||((i=e==null?void 0:e.getValue(r))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(a[r]=s[r]);return a}const dj={useVisualState:DR({scrapeMotionValuesFromProps:IS,createRenderState:FS})};function LR(n,t){try{t.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function OR(n,{style:t,vars:e},i,s){Object.assign(n.style,t,s&&s.getProjectionStyles(i));for(const a in e)n.style.setProperty(a,e[a])}const kR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PR(n,t,e,i){OR(n,t,void 0,i);for(const s in t.attrs)n.setAttribute(kR.has(s)?s:DS(s),t.attrs[s])}function NR(n,t,e){const i=IS(n,t,e);for(const s in n)if(sn(n[s])||sn(t[s])){const a=Gu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=n[s]}return i}const ox=["x","y","width","height","cx","cy","r"],fj={useVisualState:DR({scrapeMotionValuesFromProps:NR,createRenderState:MR,onUpdate:({props:n,prevProps:t,current:e,renderState:i,latestValues:s})=>{if(!e)return;let a=!!n.drag;if(!a){for(const o in s)if(Rl.has(o)){a=!0;break}}if(!a)return;let r=!t;if(t)for(let o=0;o<ox.length;o++){const l=ox[o];n[l]!==t[l]&&(r=!0)}r&&Pt.read(()=>{LR(e,i),Pt.render(()=>{BS(i,s,HS(e.tagName),n.transformTemplate),PR(e,i)})})}})};function pj(n,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const r={...jS(i)?fj:dj,preloadedFeatures:n,useRender:oj(s),createVisualElement:t,Component:i};return BF(r)}}function Ed(n,t,e){const i=n.getProps();return US(i,t,e!==void 0?e:i.custom,n)}const mj=CS(()=>window.ScrollTimeline!==void 0);class gj{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,e){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=e}attachTimeline(t,e){const i=this.animations.map(s=>{if(mj()&&s.attachTimeline)return s.attachTimeline(t);if(typeof e=="function")return e(s)});return()=>{i.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach(e=>e[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class yj extends gj{then(t,e){return Promise.all(this.animations).then(t).catch(e)}}function zS(n,t){return n?n[t]||n.default||n:void 0}const Pb=2e4;function FR(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<Pb;)t+=e,i=n.next(t);return t>=Pb?1/0:t}function VS(n){return typeof n=="function"}function lx(n,t){n.timeline=t,n.onfinish=null}const GS=n=>Array.isArray(n)&&typeof n[0]=="number",vj={linearEasing:void 0};function bj(n,t){const e=CS(n);return()=>{var i;return(i=vj[t])!==null&&i!==void 0?i:e()}}const gg=bj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jR=(n,t,e=10)=>{let i="";const s=Math.max(Math.round(t/e),2);for(let a=0;a<s;a++)i+=n(Lu(0,s-1,a))+", ";return`linear(${i.substring(0,i.length-2)})`};function BR(n){return!!(typeof n=="function"&&gg()||!n||typeof n=="string"&&(n in Nb||gg())||GS(n)||Array.isArray(n)&&n.every(BR))}const gh=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,Nb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gh([0,.65,.55,1]),circOut:gh([.55,0,1,.45]),backIn:gh([.31,.01,.66,-.59]),backOut:gh([.33,1.53,.69,.99])};function HR(n,t){if(n)return typeof n=="function"&&gg()?jR(n,t):GS(n)?gh(n):Array.isArray(n)?n.map(e=>HR(e,t)||Nb.easeOut):Nb[n]}const Si={x:!1,y:!1};function UR(){return Si.x||Si.y}function Aj(n,t,e){var i;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const a=(i=void 0)!==null&&i!==void 0?i:s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function IR(n,t){const e=Aj(n),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[e,s,()=>i.abort()]}function cx(n){return!(n.pointerType==="touch"||UR())}function Sj(n,t,e={}){const[i,s,a]=IR(n,e),r=o=>{if(!cx(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=d=>{cx(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,s)};return i.forEach(o=>{o.addEventListener("pointerenter",r,s)}),a}function Wh(n,t){const e=`${t}PointerCapture`;if(n.target instanceof Element&&e in n.target&&n.pointerId!==void 0)try{n.target[e](n.pointerId)}catch{}}const zR=(n,t)=>t?n===t?!0:zR(n,t.parentElement):!1,qS=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Ej=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function wj(n){return Ej.has(n.tagName)||n.tabIndex!==-1}const yh=new WeakSet;function ux(n){return t=>{t.key==="Enter"&&n(t)}}function vv(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const xj=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=ux(()=>{if(yh.has(e))return;vv(e,"down");const s=ux(()=>{vv(e,"up")}),a=()=>vv(e,"cancel");e.addEventListener("keyup",s,t),e.addEventListener("blur",a,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function hx(n){return qS(n)&&!UR()}function Tj(n,t,e={}){const[i,s,a]=IR(n,e),r=o=>{const l=o.currentTarget;if(!l||!hx(o)||yh.has(l))return;yh.add(l),Wh(o,"set");const c=t(l,o),u=(p,g)=>{l.removeEventListener("pointerup",d),l.removeEventListener("pointercancel",f),Wh(p,"release"),!(!hx(p)||!yh.has(l))&&(yh.delete(l),typeof c=="function"&&c(p,{success:g}))},d=p=>{(p.isTrusted?_j(p,l instanceof Element?l.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?u(p,!1):u(p,!(l instanceof Element)||zR(l,p.target))},f=p=>{u(p,!1)};l.addEventListener("pointerup",d,s),l.addEventListener("pointercancel",f,s),l.addEventListener("lostpointercapture",f,s)};return i.forEach(o=>{o=e.useGlobalTarget?window:o;let l=!1;o instanceof HTMLElement&&(l=!0,!wj(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0)),o.addEventListener("pointerdown",r,s),l&&o.addEventListener("focus",c=>xj(c,s),s)}),a}function _j(n,t){return n.clientX<t.left||n.clientX>t.right||n.clientY<t.top||n.clientY>t.bottom}function Cj(n){return n==="x"||n==="y"?Si[n]?null:(Si[n]=!0,()=>{Si[n]=!1}):Si.x||Si.y?null:(Si.x=Si.y=!0,()=>{Si.x=Si.y=!1})}const VR=new Set(["width","height","top","left","right","bottom",...Gu]);let am;function Rj(){am=void 0}const vs={now:()=>(am===void 0&&vs.set(He.isProcessing||wF.useManualTiming?He.timestamp:performance.now()),am),set:n=>{am=n,queueMicrotask(Rj)}};function XS(n,t){n.indexOf(t)===-1&&n.push(t)}function YS(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}class $S{constructor(){this.subscriptions=[]}add(t){return XS(this.subscriptions,t),()=>YS(this.subscriptions,t)}notify(t,e,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,e,i);else for(let a=0;a<s;a++){const r=this.subscriptions[a];r&&r(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function GR(n,t){return t?n*(1e3/t):0}const dx=30,Mj=n=>!isNaN(parseFloat(n));class Dj{constructor(t,e={}){this.version="12.4.11",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const a=vs.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=vs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Mj(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new $S);const i=this.events[t].add(e);return t==="change"?()=>{i(),Pt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=vs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>dx)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,dx);return GR(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wd(n,t){return new Dj(n,t)}function Lj(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,wd(e))}function Oj(n,t){const e=Ed(n,t);let{transitionEnd:i={},transition:s={},...a}=e||{};a={...a,...i};for(const r in a){const o=cj(a[r]);Lj(n,r,o)}}function kj(n){return!!(sn(n)&&n.add)}function Fb(n,t){const e=n.getValue("willChange");if(kj(e))return e.add(t)}function qR(n){return n.props[ER]}const XR=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,Pj=1e-7,Nj=12;function Fj(n,t,e,i,s){let a,r,o=0;do r=t+(e-t)/2,a=XR(r,i,s)-n,a>0?e=r:t=r;while(Math.abs(a)>Pj&&++o<Nj);return r}function rp(n,t,e,i){if(n===t&&e===i)return Xn;const s=a=>Fj(a,0,1,n,e);return a=>a===0||a===1?a:XR(s(a),t,i)}const YR=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,$R=n=>t=>1-n(1-t),KR=rp(.33,1.53,.69,.99),KS=$R(KR),WR=YR(KS),QR=n=>(n*=2)<1?.5*KS(n):.5*(2-Math.pow(2,-10*(n-1))),WS=n=>1-Math.sin(Math.acos(n)),ZR=$R(WS),JR=YR(WS),tM=n=>/^0[^.\s]+$/u.test(n);function jj(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||tM(n):!0}const Qh=n=>Math.round(n*1e5)/1e5,QS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Bj(n){return n==null}const Hj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ZS=(n,t)=>e=>!!(typeof e=="string"&&Hj.test(e)&&e.startsWith(n)||t&&!Bj(e)&&Object.prototype.hasOwnProperty.call(e,t)),eM=(n,t,e)=>i=>{if(typeof i!="string")return i;const[s,a,r,o]=i.match(QS);return{[n]:parseFloat(s),[t]:parseFloat(a),[e]:parseFloat(r),alpha:o!==void 0?parseFloat(o):1}},Uj=n=>Ta(0,255,n),bv={...qu,transform:n=>Math.round(Uj(n))},no={test:ZS("rgb","red"),parse:eM("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+bv.transform(n)+", "+bv.transform(t)+", "+bv.transform(e)+", "+Qh(Sd.transform(i))+")"};function Ij(n){let t="",e="",i="",s="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),t+=t,e+=e,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const jb={test:ZS("#"),parse:Ij,transform:no.transform},rc={test:ZS("hsl","hue"),parse:eM("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+ys.transform(Qh(t))+", "+ys.transform(Qh(e))+", "+Qh(Sd.transform(i))+")"},Ze={test:n=>no.test(n)||jb.test(n)||rc.test(n),parse:n=>no.test(n)?no.parse(n):rc.test(n)?rc.parse(n):jb.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?no.transform(n):rc.transform(n)},zj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Vj(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(QS))===null||t===void 0?void 0:t.length)||0)+(((e=n.match(zj))===null||e===void 0?void 0:e.length)||0)>0}const nM="number",iM="color",Gj="var",qj="var(",fx="${}",Xj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xd(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},s=[];let a=0;const o=t.replace(Xj,l=>(Ze.test(l)?(i.color.push(a),s.push(iM),e.push(Ze.parse(l))):l.startsWith(qj)?(i.var.push(a),s.push(Gj),e.push(l)):(i.number.push(a),s.push(nM),e.push(parseFloat(l))),++a,fx)).split(fx);return{values:e,split:o,indexes:i,types:s}}function sM(n){return xd(n).values}function aM(n){const{split:t,types:e}=xd(n),i=t.length;return s=>{let a="";for(let r=0;r<i;r++)if(a+=t[r],s[r]!==void 0){const o=e[r];o===nM?a+=Qh(s[r]):o===iM?a+=Ze.transform(s[r]):a+=s[r]}return a}}const Yj=n=>typeof n=="number"?0:n;function $j(n){const t=sM(n);return aM(n)(t.map(Yj))}const Dr={test:Vj,parse:sM,createTransformer:aM,getAnimatableNone:$j},Kj=new Set(["brightness","contrast","saturate","opacity"]);function Wj(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(QS)||[];if(!i)return n;const s=e.replace(i,"");let a=Kj.has(t)?1:0;return i!==e&&(a*=100),t+"("+a+s+")"}const Qj=/\b([a-z-]*)\(.*?\)/gu,Bb={...Dr,getAnimatableNone:n=>{const t=n.match(Qj);return t?t.map(Wj).join(" "):n}},Zj={...PS,color:Ze,backgroundColor:Ze,outlineColor:Ze,fill:Ze,stroke:Ze,borderColor:Ze,borderTopColor:Ze,borderRightColor:Ze,borderBottomColor:Ze,borderLeftColor:Ze,filter:Bb,WebkitFilter:Bb},JS=n=>Zj[n];function rM(n,t){let e=JS(n);return e!==Bb&&(e=Dr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const Jj=new Set(["auto","none","0"]);function tB(n,t,e){let i=0,s;for(;i<n.length&&!s;){const a=n[i];typeof a=="string"&&!Jj.has(a)&&xd(a).values.length&&(s=n[i]),i++}if(s&&e)for(const a of t)n[a]=rM(e,s)}const px=n=>n===qu||n===q,mx=(n,t)=>parseFloat(n.split(", ")[t]),gx=(n,t)=>(e,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return mx(s[1],t);{const a=i.match(/^matrix\((.+)\)$/u);return a?mx(a[1],n):0}},eB=new Set(["x","y","z"]),nB=Gu.filter(n=>!eB.has(n));function iB(n){const t=[];return nB.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const ku={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:gx(4,13),y:gx(5,14)};ku.translateX=ku.x;ku.translateY=ku.y;const ol=new Set;let Hb=!1,Ub=!1;function oM(){if(Ub){const n=Array.from(ol).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const s=iB(i);s.length&&(e.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=e.get(i);s&&s.forEach(([a,r])=>{var o;(o=i.getValue(a))===null||o===void 0||o.set(r)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Ub=!1,Hb=!1,ol.forEach(n=>n.complete()),ol.clear()}function lM(){ol.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Ub=!0)})}function sB(){lM(),oM()}class tE{constructor(t,e,i,s,a,r=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=s,this.element=a,this.isAsync=r}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ol.add(this),Hb||(Hb=!0,Pt.read(lM),Pt.resolveKeyframes(oM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:s}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const r=s==null?void 0:s.get(),o=t[t.length-1];if(r!==void 0)t[0]=r;else if(i&&e){const l=i.readValue(e,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),s&&r===void 0&&s.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ol.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ol.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const cM=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),aB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rB(n){const t=aB.exec(n);if(!t)return[,];const[,e,i,s]=t;return[`--${e??i}`,s]}function uM(n,t,e=1){const[i,s]=rB(n);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const r=a.trim();return cM(r)?parseFloat(r):r}return kS(s)?uM(s,t,e+1):s}const hM=n=>t=>t.test(n),oB={test:n=>n==="auto",parse:n=>n},dM=[qu,q,ys,Oa,XF,qF,oB],yx=n=>dM.find(hM(n));class fM extends tE{constructor(t,e,i,s,a){super(t,e,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),kS(c))){const u=uM(c,e.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!VR.has(i)||t.length!==2)return;const[s,a]=t,r=yx(s),o=yx(a);if(r!==o)if(px(r)&&px(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let s=0;s<t.length;s++)jj(t[s])&&i.push(s);i.length&&tB(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ku[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var t;const{element:e,name:i,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(i);a&&a.jump(this.measuredOrigin,!1);const r=s.length-1,o=s[r];s[r]=ku[i](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const vx=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Dr.test(n)||n==="0")&&!n.startsWith("url("));function lB(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function cB(n,t,e,i){const s=n[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=n[n.length-1],r=vx(s,t),o=vx(a,t);return!r||!o?!1:lB(n)||(e==="spring"||VS(e))&&i}const uB=n=>n!==null;function fy(n,{repeat:t,repeatType:e="loop"},i){const s=n.filter(uB),a=t&&e!=="loop"&&t%2===1?0:s.length-1;return!a||i===void 0?s[a]:i}const hB=40;class pM{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:r="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=vs.now(),this.options={autoplay:t,delay:e,type:i,repeat:s,repeatDelay:a,repeatType:r,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>hB?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&sB(),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=vs.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:a,delay:r,onComplete:o,onUpdate:l,isGenerator:c}=this.options;if(!c&&!cB(t,i,s,a))if(r)this.options.duration=0;else{l&&l(fy(t,this.options,e)),o&&o(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,e);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:e,...u},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Xt=(n,t,e)=>n+(t-n)*e;function Av(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function dB({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let s=0,a=0,r=0;if(!t)s=a=r=e;else{const o=e<.5?e*(1+t):e+t-e*t,l=2*e-o;s=Av(l,o,n+1/3),a=Av(l,o,n),r=Av(l,o,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(r*255),alpha:i}}function yg(n,t){return e=>e>0?t:n}const Sv=(n,t,e)=>{const i=n*n,s=e*(t*t-i)+i;return s<0?0:Math.sqrt(s)},fB=[jb,no,rc],pB=n=>fB.find(t=>t.test(n));function bx(n){const t=pB(n);if(!t)return!1;let e=t.parse(n);return t===rc&&(e=dB(e)),e}const Ax=(n,t)=>{const e=bx(n),i=bx(t);if(!e||!i)return yg(n,t);const s={...e};return a=>(s.red=Sv(e.red,i.red,a),s.green=Sv(e.green,i.green,a),s.blue=Sv(e.blue,i.blue,a),s.alpha=Xt(e.alpha,i.alpha,a),no.transform(s))},mB=(n,t)=>e=>t(n(e)),op=(...n)=>n.reduce(mB),Ib=new Set(["none","hidden"]);function gB(n,t){return Ib.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function yB(n,t){return e=>Xt(n,t,e)}function eE(n){return typeof n=="number"?yB:typeof n=="string"?kS(n)?yg:Ze.test(n)?Ax:AB:Array.isArray(n)?mM:typeof n=="object"?Ze.test(n)?Ax:vB:yg}function mM(n,t){const e=[...n],i=e.length,s=n.map((a,r)=>eE(a)(a,t[r]));return a=>{for(let r=0;r<i;r++)e[r]=s[r](a);return e}}function vB(n,t){const e={...n,...t},i={};for(const s in e)n[s]!==void 0&&t[s]!==void 0&&(i[s]=eE(n[s])(n[s],t[s]));return s=>{for(const a in i)e[a]=i[a](s);return e}}function bB(n,t){var e;const i=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const r=t.types[a],o=n.indexes[r][s[r]],l=(e=n.values[o])!==null&&e!==void 0?e:0;i[a]=l,s[r]++}return i}const AB=(n,t)=>{const e=Dr.createTransformer(t),i=xd(n),s=xd(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Ib.has(n)&&!s.values.length||Ib.has(t)&&!i.values.length?gB(n,t):op(mM(bB(i,s),s.values),e):yg(n,t)};function gM(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?Xt(n,t,e):eE(n)(n,t)}const SB=5;function yM(n,t,e){const i=Math.max(t-SB,0);return GR(e-n(i),t-i)}const te={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sx=.001;function EB({duration:n=te.duration,bounce:t=te.bounce,velocity:e=te.velocity,mass:i=te.mass}){let s,a,r=1-t;r=Ta(te.minDamping,te.maxDamping,r),n=Ta(te.minDuration,te.maxDuration,ga(n)),r<1?(s=c=>{const u=c*r,d=u*n,f=u-e,p=zb(c,r),g=Math.exp(-d);return Sx-f/p*g},a=c=>{const d=c*r*n,f=d*e+e,p=Math.pow(r,2)*Math.pow(c,2)*n,g=Math.exp(-d),v=zb(Math.pow(c,2),r);return(-s(c)+Sx>0?-1:1)*((f-p)*g)/v}):(s=c=>{const u=Math.exp(-c*n),d=(c-e)*n+1;return-.001+u*d},a=c=>{const u=Math.exp(-c*n),d=(e-c)*(n*n);return u*d});const o=5/n,l=xB(s,a,o);if(n=ma(n),isNaN(l))return{stiffness:te.stiffness,damping:te.damping,duration:n};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:r*2*Math.sqrt(i*c),duration:n}}}const wB=12;function xB(n,t,e){let i=e;for(let s=1;s<wB;s++)i=i-n(i)/t(i);return i}function zb(n,t){return n*Math.sqrt(1-t*t)}const TB=["duration","bounce"],_B=["stiffness","damping","mass"];function Ex(n,t){return t.some(e=>n[e]!==void 0)}function CB(n){let t={velocity:te.velocity,stiffness:te.stiffness,damping:te.damping,mass:te.mass,isResolvedFromDuration:!1,...n};if(!Ex(n,_B)&&Ex(n,TB))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),s=i*i,a=2*Ta(.05,1,1-(n.bounce||0))*Math.sqrt(s);t={...t,mass:te.mass,stiffness:s,damping:a}}else{const e=EB(n);t={...t,...e,mass:te.mass},t.isResolvedFromDuration=!0}return t}function vM(n=te.visualDuration,t=te.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:s}=e;const a=e.keyframes[0],r=e.keyframes[e.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=CB({...e,velocity:-ga(e.velocity||0)}),g=f||0,v=c/(2*Math.sqrt(l*u)),A=r-a,m=ga(Math.sqrt(l/u)),y=Math.abs(A)<5;i||(i=y?te.restSpeed.granular:te.restSpeed.default),s||(s=y?te.restDelta.granular:te.restDelta.default);let b;if(v<1){const T=zb(m,v);b=R=>{const M=Math.exp(-v*m*R);return r-M*((g+v*m*A)/T*Math.sin(T*R)+A*Math.cos(T*R))}}else if(v===1)b=T=>r-Math.exp(-m*T)*(A+(g+m*A)*T);else{const T=m*Math.sqrt(v*v-1);b=R=>{const M=Math.exp(-v*m*R),D=Math.min(T*R,300);return r-M*((g+v*m*A)*Math.sinh(D)+T*A*Math.cosh(D))/T}}const w={calculatedDuration:p&&d||null,next:T=>{const R=b(T);if(p)o.done=T>=d;else{let M=0;v<1&&(M=T===0?ma(g):yM(b,T,R));const D=Math.abs(M)<=i,O=Math.abs(r-R)<=s;o.done=D&&O}return o.value=o.done?r:R,o},toString:()=>{const T=Math.min(FR(w),Pb),R=jR(M=>w.next(T*M).value,T,30);return T+"ms "+R}};return w}function wx({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:r,min:o,max:l,restDelta:c=.5,restSpeed:u}){const d=n[0],f={done:!1,value:d},p=D=>o!==void 0&&D<o||l!==void 0&&D>l,g=D=>o===void 0?l:l===void 0||Math.abs(o-D)<Math.abs(l-D)?o:l;let v=e*t;const A=d+v,m=r===void 0?A:r(A);m!==A&&(v=m-d);const y=D=>-v*Math.exp(-D/i),b=D=>m+y(D),w=D=>{const O=y(D),k=b(D);f.done=Math.abs(O)<=c,f.value=f.done?m:k};let T,R;const M=D=>{p(f.value)&&(T=D,R=vM({keyframes:[f.value,g(f.value)],velocity:yM(b,D,f.value),damping:s,stiffness:a,restDelta:c,restSpeed:u}))};return M(0),{calculatedDuration:null,next:D=>{let O=!1;return!R&&T===void 0&&(O=!0,w(D),M(D)),T!==void 0&&D>=T?R.next(D-T):(!O&&w(D),f)}}}const RB=rp(.42,0,1,1),MB=rp(0,0,.58,1),bM=rp(.42,0,.58,1),DB=n=>Array.isArray(n)&&typeof n[0]!="number",LB={linear:Xn,easeIn:RB,easeInOut:bM,easeOut:MB,circIn:WS,circInOut:JR,circOut:ZR,backIn:KS,backInOut:WR,backOut:KR,anticipate:QR},xx=n=>{if(GS(n)){yR(n.length===4);const[t,e,i,s]=n;return rp(t,e,i,s)}else if(typeof n=="string")return LB[n];return n};function OB(n,t,e){const i=[],s=e||gM,a=n.length-1;for(let r=0;r<a;r++){let o=s(n[r],n[r+1]);if(t){const l=Array.isArray(t)?t[r]||Xn:t;o=op(l,o)}i.push(o)}return i}function kB(n,t,{clamp:e=!0,ease:i,mixer:s}={}){const a=n.length;if(yR(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const r=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),t=[...t].reverse());const o=OB(t,i,s),l=o.length,c=u=>{if(r&&u<n[0])return t[0];let d=0;if(l>1)for(;d<n.length-2&&!(u<n[d+1]);d++);const f=Lu(n[d],n[d+1],u);return o[d](f)};return e?u=>c(Ta(n[0],n[a-1],u)):c}function PB(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const s=Lu(0,t,i);n.push(Xt(e,1,s))}}function NB(n){const t=[0];return PB(t,n.length-1),t}function FB(n,t){return n.map(e=>e*t)}function jB(n,t){return n.map(()=>t||bM).splice(0,n.length-1)}function vg({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const s=DB(i)?i.map(xx):xx(i),a={done:!1,value:t[0]},r=FB(e&&e.length===t.length?e:NB(t),n),o=kB(r,t,{ease:Array.isArray(s)?s:jB(t,s)});return{calculatedDuration:n,next:l=>(a.value=o(l),a.done=l>=n,a)}}const BB=n=>{const t=({timestamp:e})=>n(e);return{start:()=>Pt.update(t,!0),stop:()=>Mr(t),now:()=>He.isProcessing?He.timestamp:vs.now()}},HB={decay:wx,inertia:wx,tween:vg,keyframes:vg,spring:vM},UB=n=>n/100;class nE extends pM{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:e,motionValue:i,element:s,keyframes:a}=this.options,r=(s==null?void 0:s.KeyframeResolver)||tE,o=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new r(a,o,e,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:e="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:r=0}=this.options,o=VS(e)?e:HB[e]||vg;let l,c;o!==vg&&typeof t[0]!="number"&&(l=op(UB,gM(t[0],t[1])),t=[0,100]);const u=o({...this.options,keyframes:t});a==="mirror"&&(c=o({...this.options,keyframes:[...t].reverse(),velocity:-r})),u.calculatedDuration===null&&(u.calculatedDuration=FR(u));const{calculatedDuration:d}=u,f=d+s,p=f*(i+1)-s;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,e=!1){const{resolved:i}=this;if(!i){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:r,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=i;if(this.startTime===null)return a.next(0);const{delay:f,repeat:p,repeatType:g,repeatDelay:v,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),e?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?m<0:m>u;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let b=this.currentTime,w=a;if(p){const D=Math.min(this.currentTime,u)/d;let O=Math.floor(D),k=D%1;!k&&D>=1&&(k=1),k===1&&O--,O=Math.min(O,p+1),!!(O%2)&&(g==="reverse"?(k=1-k,v&&(k-=v/d)):g==="mirror"&&(w=r)),b=Ta(0,1,k)*d}const T=y?{done:!1,value:l[0]}:w.next(b);o&&(T.value=o(T.value));let{done:R}=T;!y&&c!==null&&(R=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return M&&s!==void 0&&(T.value=fy(l,this.options,s)),A&&A(T.value),M&&this.finish(),T}get duration(){const{resolved:t}=this;return t?ga(t.calculatedDuration):0}get time(){return ga(this.currentTime)}set time(t){t=ma(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=ga(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=BB,onPlay:e,startTime:i}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),e&&e();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const IB=new Set(["opacity","clipPath","filter","transform"]);function zB(n,t,e,{delay:i=0,duration:s=300,repeat:a=0,repeatType:r="loop",ease:o="easeInOut",times:l}={}){const c={[t]:e};l&&(c.offset=l);const u=HR(o,s);return Array.isArray(u)&&(c.easing=u),n.animate(c,{delay:i,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:r==="reverse"?"alternate":"normal"})}const VB=CS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),bg=10,GB=2e4;function qB(n){return VS(n.type)||n.type==="spring"||!BR(n.ease)}function XB(n,t){const e=new nE({...t,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const s=[];let a=0;for(;!i.done&&a<GB;)i=e.sample(a),s.push(i.value),a+=bg;return{times:void 0,keyframes:s,duration:a-bg,ease:"linear"}}const AM={anticipate:QR,backInOut:WR,circInOut:JR};function YB(n){return n in AM}class Tx extends pM{constructor(t){super(t);const{name:e,motionValue:i,element:s,keyframes:a}=this.options;this.resolver=new fM(a,(r,o)=>this.onKeyframesResolved(r,o),e,i,s),this.resolver.scheduleResolve()}initPlayback(t,e){let{duration:i=300,times:s,ease:a,type:r,motionValue:o,name:l,startTime:c}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof a=="string"&&gg()&&YB(a)&&(a=AM[a]),qB(this.options)){const{onComplete:d,onUpdate:f,motionValue:p,element:g,...v}=this.options,A=XB(t,v);t=A.keyframes,t.length===1&&(t[1]=t[0]),i=A.duration,s=A.times,a=A.ease,r="keyframes"}const u=zB(o.owner.current,l,t,{...this.options,duration:i,times:s,ease:a});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(lx(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:d}=this.options;o.set(fy(t,this.options,e)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:i,times:s,type:r,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return ga(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return ga(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:i}=e;i.currentTime=ma(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:i}=e;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:e}=t;return e.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:e}=t;return e.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:e}=this;if(!e)return Xn;const{animation:i}=e;lx(i,t)}return Xn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.playState==="finished"&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:i,duration:s,type:a,ease:r,times:o}=t;if(e.playState==="idle"||e.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:f,...p}=this.options,g=new nE({...p,keyframes:i,duration:s,type:a,ease:r,times:o,isGenerator:!0}),v=ma(this.time);c.setWithVelocity(g.sample(v-bg).value,g.sample(v).value,bg)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:i,repeatDelay:s,repeatType:a,damping:r,type:o}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return VB()&&i&&IB.has(i)&&!l&&!c&&!s&&a!=="mirror"&&r!==0&&o!=="inertia"}}const $B={type:"spring",stiffness:500,damping:25,restSpeed:10},KB=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),WB={type:"keyframes",duration:.8},QB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZB=(n,{keyframes:t})=>t.length>2?WB:Rl.has(n)?n.startsWith("scale")?KB(t[1]):$B:QB;function JB({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:r,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const iE=(n,t,e,i={},s,a)=>r=>{const o=zS(i,n)||{},l=o.delay||i.delay||0;let{elapsed:c=0}=i;c=c-ma(l);let u={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:f=>{t.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{r(),o.onComplete&&o.onComplete()},name:n,motionValue:t,element:a?void 0:s};JB(o)||(u={...u,...ZB(n,u)}),u.duration&&(u.duration=ma(u.duration)),u.repeatDelay&&(u.repeatDelay=ma(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),u.allowFlatten=!o.type&&!o.ease,d&&!a&&t.get()!==void 0){const f=fy(u.keyframes,o);if(f!==void 0)return Pt.update(()=>{u.onUpdate(f),u.onComplete()}),new yj([])}return!a&&Tx.supports(u)?new Tx(u):new nE(u)};function tH({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function SM(n,t,{delay:e=0,transitionOverride:i,type:s}={}){var a;let{transition:r=n.getDefaultTransition(),transitionEnd:o,...l}=t;i&&(r=i);const c=[],u=s&&n.animationState&&n.animationState.getState()[s];for(const d in l){const f=n.getValue(d,(a=n.latestValues[d])!==null&&a!==void 0?a:null),p=l[d];if(p===void 0||u&&tH(u,d))continue;const g={delay:e,...zS(r||{},d)};let v=!1;if(window.MotionHandoffAnimation){const m=qR(n);if(m){const y=window.MotionHandoffAnimation(m,d,Pt);y!==null&&(g.startTime=y,v=!0)}}Fb(n,d),f.start(iE(d,f,p,n.shouldReduceMotion&&VR.has(d)?{type:!1}:g,n,v));const A=f.animation;A&&c.push(A)}return o&&Promise.all(c).then(()=>{Pt.update(()=>{o&&Oj(n,o)})}),c}function Vb(n,t,e={}){var i;const s=Ed(n,t,e.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(a=e.transitionOverride);const r=s?()=>Promise.all(SM(n,s,e)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=a;return eH(n,t,u+c,d,f,e)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[r,o]:[o,r];return c().then(()=>u())}else return Promise.all([r(),o(e.delay)])}function eH(n,t,e=0,i=0,s=1,a){const r=[],o=(n.variantChildren.size-1)*i,l=s===1?(c=0)=>c*i:(c=0)=>o-c*i;return Array.from(n.variantChildren).sort(nH).forEach((c,u)=>{c.notify("AnimationStart",t),r.push(Vb(c,t,{...a,delay:e+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(r)}function nH(n,t){return n.sortNodePosition(t)}function iH(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(a=>Vb(n,a,e));i=Promise.all(s)}else if(typeof t=="string")i=Vb(n,t,e);else{const s=typeof t=="function"?Ed(n,t,e.custom):t;i=Promise.all(SM(n,s,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function EM(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const sH=MS.length;function wM(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?wM(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<sH;e++){const i=MS[e],s=n.props[i];(bd(s)||s===!1)&&(t[i]=s)}return t}const aH=[...RS].reverse(),rH=RS.length;function oH(n){return t=>Promise.all(t.map(({animation:e,options:i})=>iH(n,e,i)))}function lH(n){let t=oH(n),e=_x(),i=!0;const s=l=>(c,u)=>{var d;const f=Ed(n,u,l==="exit"?(d=n.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:p,transitionEnd:g,...v}=f;c={...c,...v,...g}}return c};function a(l){t=l(n)}function r(l){const{props:c}=n,u=wM(n.parent)||{},d=[],f=new Set;let p={},g=1/0;for(let A=0;A<rH;A++){const m=aH[A],y=e[m],b=c[m]!==void 0?c[m]:u[m],w=bd(b),T=m===l?y.isActive:null;T===!1&&(g=A);let R=b===u[m]&&b!==c[m]&&w;if(R&&i&&n.manuallyAnimateOnMount&&(R=!1),y.protectedKeys={...p},!y.isActive&&T===null||!b&&!y.prevProp||hy(b)||typeof b=="boolean")continue;const M=cH(y.prevProp,b);let D=M||m===l&&y.isActive&&!R&&w||A>g&&w,O=!1;const k=Array.isArray(b)?b:[b];let B=k.reduce(s(m),{});T===!1&&(B={});const{prevResolvedValues:$={}}=y,X={...$,...B},V=P=>{D=!0,f.has(P)&&(O=!0,f.delete(P)),y.needsAnimating[P]=!0;const j=n.getValue(P);j&&(j.liveStyle=!1)};for(const P in X){const j=B[P],Z=$[P];if(p.hasOwnProperty(P))continue;let ot=!1;kb(j)&&kb(Z)?ot=!EM(j,Z):ot=j!==Z,ot?j!=null?V(P):f.add(P):j!==void 0&&f.has(P)?V(P):y.protectedKeys[P]=!0}y.prevProp=b,y.prevResolvedValues=B,y.isActive&&(p={...p,...B}),i&&n.blockInitialAnimation&&(D=!1),D&&(!(R&&M)||O)&&d.push(...k.map(P=>({animation:P,options:{type:m}})))}if(f.size){const A={};if(typeof c.initial!="boolean"){const m=Ed(n,Array.isArray(c.initial)?c.initial[0]:c.initial);m&&m.transition&&(A.transition=m.transition)}f.forEach(m=>{const y=n.getBaseTarget(m),b=n.getValue(m);b&&(b.liveStyle=!0),A[m]=y??null}),d.push({animation:A})}let v=!!d.length;return i&&(c.initial===!1||c.initial===c.animate)&&!n.manuallyAnimateOnMount&&(v=!1),i=!1,v?t(d):Promise.resolve()}function o(l,c){var u;if(e[l].isActive===c)return Promise.resolve();(u=n.variantChildren)===null||u===void 0||u.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),e[l].isActive=c;const d=r(l);for(const f in e)e[f].protectedKeys={};return d}return{animateChanges:r,setActive:o,setAnimateFunction:a,getState:()=>e,reset:()=>{e=_x(),i=!0}}}function cH(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!EM(t,n):!1}function Ir(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _x(){return{animate:Ir(!0),whileInView:Ir(),whileHover:Ir(),whileTap:Ir(),whileDrag:Ir(),whileFocus:Ir(),exit:Ir()}}class Br{constructor(t){this.isMounted=!1,this.node=t}update(){}}class uH extends Br{constructor(t){super(t),t.animationState||(t.animationState=lH(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();hy(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let hH=0;class dH extends Br{constructor(){super(...arguments),this.id=hH++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const fH={animation:{Feature:uH},exit:{Feature:dH}};function Td(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}function lp(n){return{point:{x:n.pageX,y:n.pageY}}}const pH=n=>t=>qS(t)&&n(t,lp(t));function oc(n,t,e,i){return Td(n,t,pH(e),i)}function xM({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function mH({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function gH(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}const TM=1e-4,yH=1-TM,vH=1+TM,_M=.01,bH=0-_M,AH=0+_M;function dn(n){return n.max-n.min}function SH(n,t,e){return Math.abs(n-t)<=e}function Cx(n,t,e,i=.5){n.origin=i,n.originPoint=Xt(t.min,t.max,n.origin),n.scale=dn(e)/dn(t),n.translate=Xt(e.min,e.max,n.origin)-n.originPoint,(n.scale>=yH&&n.scale<=vH||isNaN(n.scale))&&(n.scale=1),(n.translate>=bH&&n.translate<=AH||isNaN(n.translate))&&(n.translate=0)}function Zh(n,t,e,i){Cx(n.x,t.x,e.x,i?i.originX:void 0),Cx(n.y,t.y,e.y,i?i.originY:void 0)}function Rx(n,t,e){n.min=e.min+t.min,n.max=n.min+dn(t)}function EH(n,t,e){Rx(n.x,t.x,e.x),Rx(n.y,t.y,e.y)}function Mx(n,t,e){n.min=t.min-e.min,n.max=n.min+dn(t)}function Jh(n,t,e){Mx(n.x,t.x,e.x),Mx(n.y,t.y,e.y)}const Dx=()=>({translate:0,scale:1,origin:0,originPoint:0}),lc=()=>({x:Dx(),y:Dx()}),Lx=()=>({min:0,max:0}),ae=()=>({x:Lx(),y:Lx()});function ti(n){return[n("x"),n("y")]}function Ev(n){return n===void 0||n===1}function Gb({scale:n,scaleX:t,scaleY:e}){return!Ev(n)||!Ev(t)||!Ev(e)}function Xr(n){return Gb(n)||CM(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function CM(n){return Ox(n.x)||Ox(n.y)}function Ox(n){return n&&n!=="0%"}function Ag(n,t,e){const i=n-e,s=t*i;return e+s}function kx(n,t,e,i,s){return s!==void 0&&(n=Ag(n,s,i)),Ag(n,e,i)+t}function qb(n,t=0,e=1,i,s){n.min=kx(n.min,t,e,i,s),n.max=kx(n.max,t,e,i,s)}function RM(n,{x:t,y:e}){qb(n.x,t.translate,t.scale,t.originPoint),qb(n.y,e.translate,e.scale,e.originPoint)}const Px=.999999999999,Nx=1.0000000000001;function wH(n,t,e,i=!1){const s=e.length;if(!s)return;t.x=t.y=1;let a,r;for(let o=0;o<s;o++){a=e[o],r=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&uc(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),r&&(t.x*=r.x.scale,t.y*=r.y.scale,RM(n,r)),i&&Xr(a.latestValues)&&uc(n,a.latestValues))}t.x<Nx&&t.x>Px&&(t.x=1),t.y<Nx&&t.y>Px&&(t.y=1)}function cc(n,t){n.min=n.min+t,n.max=n.max+t}function Fx(n,t,e,i,s=.5){const a=Xt(n.min,n.max,s);qb(n,t,e,a,i)}function uc(n,t){Fx(n.x,t.x,t.scaleX,t.scale,t.originX),Fx(n.y,t.y,t.scaleY,t.scale,t.originY)}function MM(n,t){return xM(gH(n.getBoundingClientRect(),t))}function xH(n,t,e){const i=MM(n,e),{scroll:s}=t;return s&&(cc(i.x,s.offset.x),cc(i.y,s.offset.y)),i}const jx=(n,t)=>Math.abs(n-t);function TH(n,t){const e=jx(n.x,t.x),i=jx(n.y,t.y);return Math.sqrt(e**2+i**2)}class DM{constructor(t,e,{transformPagePoint:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=xv(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,f=TH(u.offset,{x:0,y:0})>=3;if(!d&&!f)return;const{point:p}=u,{timestamp:g}=He;this.history.push({...p,timestamp:g});const{onStart:v,onMove:A}=this.handlers;d||(v&&v(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,u)},this.handlePointerMove=(u,d)=>{if(this.index=Hx(u.currentTarget),u.target instanceof Element&&u.target.hasPointerCapture&&u.pointerId!==void 0)try{if(!u.target.hasPointerCapture(u.pointerId))return}catch{}this.lastMoveEvent=u,this.lastMoveEventInfo=wv(d,this.transformPagePoint),Pt.update(this.updatePoint,!0)},this.handlePointerUp=(u,d)=>{Wh(u,"release"),this.end();const{onEnd:f,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=xv(u.type==="pointercancel"||u.type==="lostpointercapture"?this.lastMoveEventInfo:wv(d,this.transformPagePoint),this.history);this.startEvent&&f&&f(u,v),p&&p(u,v)},!qS(t))return;this.dragSnapToOrigin=s,this.handlers=e,this.transformPagePoint=i;const a=lp(t),r=wv(a,this.transformPagePoint),{point:o}=r,{timestamp:l}=He;this.history=[{...o,timestamp:l}];const{onSessionStart:c}=e;c&&c(t,xv(r,this.history)),Wh(t,"set"),this.removeListeners=op(oc(t.currentTarget,"pointermove",this.handlePointerMove),oc(t.currentTarget,"pointerup",this.handlePointerUp),oc(t.currentTarget,"pointercancel",this.handlePointerUp),oc(t.currentTarget,"lostpointercapture",(u,d)=>{Hx(u.currentTarget)!==this.index?Wh(u,"set"):this.handlePointerUp(u,d)}))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Mr(this.updatePoint)}}function wv(n,t){return t?{point:t(n.point)}:n}function Bx(n,t){return{x:n.x-t.x,y:n.y-t.y}}function xv({point:n},t){return{point:n,delta:Bx(n,LM(t)),offset:Bx(n,_H(t)),velocity:CH(t,.1)}}function _H(n){return n[0]}function LM(n){return n[n.length-1]}function CH(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const s=LM(n);for(;e>=0&&(i=n[e],!(s.timestamp-i.timestamp>ma(t)));)e--;if(!i)return{x:0,y:0};const a=ga(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const r={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function Hx(n){return n.parentNode?Array.from(n.parentNode.children).indexOf(n):-1}function RH(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?Xt(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?Xt(e,n,i.max):Math.min(n,e)),n}function Ux(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function MH(n,{top:t,left:e,bottom:i,right:s}){return{x:Ux(n.x,e,s),y:Ux(n.y,t,i)}}function Ix(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function DH(n,t){return{x:Ix(n.x,t.x),y:Ix(n.y,t.y)}}function LH(n,t){let e=.5;const i=dn(n),s=dn(t);return s>i?e=Lu(t.min,t.max-i,n.min):i>s&&(e=Lu(n.min,n.max-s,t.min)),Ta(0,1,e)}function OH(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const Xb=.35;function kH(n=Xb){return n===!1?n=0:n===!0&&(n=Xb),{x:zx(n,"left","right"),y:zx(n,"top","bottom")}}function zx(n,t,e){return{min:Vx(n,t),max:Vx(n,e)}}function Vx(n,t){return typeof n=="number"?n:n[t]||0}const PH=new WeakMap;class NH{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ae(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(lp(u).point)},a=(u,d)=>{const{drag:f,dragPropagation:p,onDragStart:g}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Cj(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ti(A=>{let m=this.getAxisMotionValue(A).get()||0;if(ys.test(m)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[A];b&&(m=dn(b)*(parseFloat(m)/100))}}this.originPoint[A]=m}),g&&Pt.postRender(()=>g(u,d)),Fb(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},r=(u,d)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:g,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:A}=d;if(p&&this.currentDirection===null){this.currentDirection=FH(A),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,A),this.updateAxis("y",d.point,A),this.visualElement.render(),v&&v(u,d)},o=(u,d)=>this.stop(u,d),l=()=>ti(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new DM(t,{onSessionStart:s,onStart:a,onMove:r,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c})}stop(t,e){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=e;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Pt.postRender(()=>a(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:s}=this.getProps();if(!i||!jp(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let r=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(r=RH(r,this.constraints[t],this.elastic[t])),a.set(r)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;e&&ac(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=MH(s.layoutBox,e):this.constraints=!1,this.elastic=kH(i),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ti(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=OH(s.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!ac(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=xH(i,s.root,this.visualElement.getTransformPagePoint());let r=DH(s.layout.layoutBox,a);if(e){const o=e(mH(r));this.hasMutatedConstraints=!!o,o&&(r=xM(o))}return r}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:r,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=ti(u=>{if(!jp(u,e,this.currentDirection))return;let d=l&&l[u]||{};r&&(d={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,g={type:"inertia",velocity:i?t[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...d};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(o)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return Fb(this.visualElement,t),i.start(iE(t,i,0,e,this.visualElement,!1))}stopAnimation(){ti(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ti(t=>{var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[e];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){ti(e=>{const{drag:i}=this.getProps();if(!jp(e,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(e);if(s&&s.layout){const{min:r,max:o}=s.layout.layoutBox[e];a.set(t[e]-Xt(r,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!ac(e)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ti(r=>{const o=this.getAxisMotionValue(r);if(o&&this.constraints!==!1){const l=o.get();s[r]=LH({min:l,max:l},this.constraints[r])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ti(r=>{if(!jp(r,t,null))return;const o=this.getAxisMotionValue(r),{min:l,max:c}=this.constraints[r];o.set(Xt(l,c,s[r]))})}addListeners(){if(!this.visualElement.current)return;PH.set(this.visualElement,this);const t=this.visualElement.current,e=oc(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();ac(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Pt.read(i);const r=Td(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ti(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{r(),e(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:r=Xb,dragMomentum:o=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:r,dragMomentum:o}}}function jp(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function FH(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class jH extends Br{constructor(t){super(t),this.removeGroupControls=Xn,this.removeListeners=Xn,this.controls=new NH(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Gx=n=>(t,e)=>{n&&Pt.postRender(()=>n(t,e))};class BH extends Br{constructor(){super(...arguments),this.removePointerDownListener=Xn}onPointerDown(t){this.session=new DM(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:Gx(t),onStart:Gx(e),onMove:i,onEnd:(a,r)=>{delete this.session,s&&Pt.postRender(()=>s(a,r))}}}mount(){this.removePointerDownListener=oc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qx(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const rh={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(q.test(n))n=parseFloat(n);else return n;const e=qx(n,t.target.x),i=qx(n,t.target.y);return`${e}% ${i}%`}},HH={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,s=Dr.parse(n);if(s.length>5)return i;const a=Dr.createTransformer(n),r=typeof s[0]!="number"?1:0,o=e.x.scale*t.x,l=e.y.scale*t.y;s[0+r]/=o,s[1+r]/=l;const c=Xt(o,l,.5);return typeof s[2+r]=="number"&&(s[2+r]/=c),typeof s[3+r]=="number"&&(s[3+r]/=c),a(s)}};class UH extends C.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=t;GF(IH),a&&(e.group&&e.group.add(a),i&&i.register&&s&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),rm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:s,isPresent:a}=this.props,r=i.projection;return r&&(r.isPresent=a,s||t.layoutDependency!==e||e===void 0||t.isPresent!==a?r.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?r.promote():r.relegate()||Pt.postRender(()=>{const o=r.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),LS.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function OM(n){const[t,e]=SF(),i=C.useContext(mR);return _.jsx(UH,{...n,layoutGroup:i,switchLayoutGroup:C.useContext(wR),isPresent:t,safeToRemove:e})}const IH={borderRadius:{...rh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rh,borderTopRightRadius:rh,borderBottomLeftRadius:rh,borderBottomRightRadius:rh,boxShadow:HH};function zH(n,t,e){const i=sn(n)?n:wd(n);return i.start(iE("",i,t,e)),i.animation}function VH(n){return n instanceof SVGElement&&n.tagName!=="svg"}const GH=(n,t)=>n.depth-t.depth;class qH{constructor(){this.children=[],this.isDirty=!1}add(t){XS(this.children,t),this.isDirty=!0}remove(t){YS(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(GH),this.isDirty=!1,this.children.forEach(t)}}function XH(n,t){const e=vs.now(),i=({timestamp:s})=>{const a=s-e;a>=t&&(Mr(i),n(a-t))};return Pt.read(i,!0),()=>Mr(i)}const kM=["TopLeft","TopRight","BottomLeft","BottomRight"],YH=kM.length,Xx=n=>typeof n=="string"?parseFloat(n):n,Yx=n=>typeof n=="number"||q.test(n);function $H(n,t,e,i,s,a){s?(n.opacity=Xt(0,e.opacity!==void 0?e.opacity:1,KH(i)),n.opacityExit=Xt(t.opacity!==void 0?t.opacity:1,0,WH(i))):a&&(n.opacity=Xt(t.opacity!==void 0?t.opacity:1,e.opacity!==void 0?e.opacity:1,i));for(let r=0;r<YH;r++){const o=`border${kM[r]}Radius`;let l=$x(t,o),c=$x(e,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Yx(l)===Yx(c)?(n[o]=Math.max(Xt(Xx(l),Xx(c),i),0),(ys.test(c)||ys.test(l))&&(n[o]+="%")):n[o]=c}(t.rotate||e.rotate)&&(n.rotate=Xt(t.rotate||0,e.rotate||0,i))}function $x(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const KH=PM(0,.5,ZR),WH=PM(.5,.95,Xn);function PM(n,t,e){return i=>i<n?0:i>t?1:e(Lu(n,t,i))}function Kx(n,t){n.min=t.min,n.max=t.max}function Zn(n,t){Kx(n.x,t.x),Kx(n.y,t.y)}function Wx(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function Qx(n,t,e,i,s){return n-=t,n=Ag(n,1/e,i),s!==void 0&&(n=Ag(n,1/s,i)),n}function QH(n,t=0,e=1,i=.5,s,a=n,r=n){if(ys.test(t)&&(t=parseFloat(t),t=Xt(r.min,r.max,t/100)-r.min),typeof t!="number")return;let o=Xt(a.min,a.max,i);n===a&&(o-=t),n.min=Qx(n.min,t,e,o,s),n.max=Qx(n.max,t,e,o,s)}function Zx(n,t,[e,i,s],a,r){QH(n,t[e],t[i],t[s],t.scale,a,r)}const ZH=["x","scaleX","originX"],JH=["y","scaleY","originY"];function Jx(n,t,e,i){Zx(n.x,t,ZH,e?e.x:void 0,i?i.x:void 0),Zx(n.y,t,JH,e?e.y:void 0,i?i.y:void 0)}function tT(n){return n.translate===0&&n.scale===1}function NM(n){return tT(n.x)&&tT(n.y)}function eT(n,t){return n.min===t.min&&n.max===t.max}function tU(n,t){return eT(n.x,t.x)&&eT(n.y,t.y)}function nT(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function FM(n,t){return nT(n.x,t.x)&&nT(n.y,t.y)}function iT(n){return dn(n.x)/dn(n.y)}function sT(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class eU{constructor(){this.members=[]}add(t){XS(this.members,t),t.scheduleRender()}remove(t){if(YS(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(s=>t===s);if(e===0)return!1;let i;for(let s=e;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nU(n,t,e){let i="";const s=n.x.translate/t.x,a=n.y.translate/t.y,r=(e==null?void 0:e.z)||0;if((s||a||r)&&(i=`translate3d(${s}px, ${a}px, ${r}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:f,skewX:p,skewY:g}=e;c&&(i=`perspective(${c}px) ${i}`),u&&(i+=`rotate(${u}deg) `),d&&(i+=`rotateX(${d}deg) `),f&&(i+=`rotateY(${f}deg) `),p&&(i+=`skewX(${p}deg) `),g&&(i+=`skewY(${g}deg) `)}const o=n.x.scale*t.x,l=n.y.scale*t.y;return(o!==1||l!==1)&&(i+=`scale(${o}, ${l})`),i||"none"}const Tv=["","X","Y","Z"],iU={visibility:"hidden"},aT=1e3;let sU=0;function _v(n,t,e,i){const{latestValues:s}=t;s[n]&&(e[n]=s[n],t.setStaticValue(n,0),i&&(i[n]=0))}function jM(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=qR(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:s,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",Pt,!(s||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&jM(i)}function BM({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(r={},o=t==null?void 0:t()){this.id=sU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(oU),this.nodes.forEach(dU),this.nodes.forEach(fU),this.nodes.forEach(lU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new qH)}addEventListener(r,o){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new $S),this.eventHandlers.get(r).add(o)}notifyListeners(r,...o){const l=this.eventHandlers.get(r);l&&l.notify(...o)}hasListeners(r){return this.eventHandlers.has(r)}mount(r,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=VH(r),this.instance=r;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),n){let d;const f=()=>this.root.updateBlockedByResize=!1;n(r,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=XH(f,250),rm.hasAnimatedSinceResize&&(rm.hasAnimatedSinceResize=!1,this.nodes.forEach(oT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||vU,{onLayoutAnimationStart:A,onLayoutAnimationComplete:m}=u.getProps(),y=!this.targetLayout||!FM(this.targetLayout,g),b=!f&&p;if(this.options.layoutRoot||this.resumeFrom||b||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,b);const w={...zS(v,"layout"),onPlay:A,onComplete:m};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||oT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Mr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pU),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rT);return}this.isUpdating||this.nodes.forEach(uU),this.isUpdating=!1,this.nodes.forEach(hU),this.nodes.forEach(aU),this.nodes.forEach(rU),this.clearAllSnapshots();const o=vs.now();He.delta=Ta(0,1e3/60,o-He.timestamp),He.timestamp=o,He.isProcessing=!0,yv.update.process(He),yv.preRender.process(He),yv.render.process(He),He.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,LS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cU),this.sharedNodes.forEach(mU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dn(this.snapshot.measuredBox.x)&&!dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ae(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(o=!1),o){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:l,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!NM(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;r&&(o||Xr(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return r&&(l=this.removeTransform(l)),bU(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var r;const{visualElement:o}=this.options;if(!o)return ae();const l=o.measureViewportBox();if(!(((r=this.scroll)===null||r===void 0?void 0:r.wasRoot)||this.path.some(AU))){const{scroll:u}=this.root;u&&(cc(l.x,u.offset.x),cc(l.y,u.offset.y))}return l}removeElementScroll(r){var o;const l=ae();if(Zn(l,r),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Zn(l,r),cc(l.x,d.offset.x),cc(l.y,d.offset.y))}return l}applyTransform(r,o=!1){const l=ae();Zn(l,r);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&uc(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Xr(u.latestValues)&&uc(l,u.latestValues)}return Xr(this.latestValues)&&uc(l,this.latestValues),l}removeTransform(r){const o=ae();Zn(o,r);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Xr(c.latestValues))continue;Gb(c.latestValues)&&c.updateSnapshot();const u=ae(),d=c.measurePageBox();Zn(u,d),Jx(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Xr(this.latestValues)&&Jx(o,this.latestValues),o}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==He.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(r||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=He.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ae(),this.relativeTargetOrigin=ae(),Jh(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ae(),this.targetWithTransforms=ae()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),EH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zn(this.target,this.layout.layoutBox),RM(this.target,this.targetDelta)):Zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ae(),this.relativeTargetOrigin=ae(),Jh(this.relativeTargetOrigin,this.target,p.target),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Gb(this.parent.latestValues)||CM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var r;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((r=this.parent)===null||r===void 0)&&r.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===He.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Zn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;wH(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ae());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Wx(this.prevProjectionDelta.x,this.projectionDelta.x),Wx(this.prevProjectionDelta.y,this.projectionDelta.y)),Zh(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!sT(this.projectionDelta.x,this.prevProjectionDelta.x)||!sT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),r){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lc(),this.projectionDelta=lc(),this.projectionDeltaWithTransform=lc()}setAnimationOrigin(r,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=lc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=ae(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,v=p!==g,A=this.getStack(),m=!A||A.members.length<=1,y=!!(v&&!m&&this.options.crossfade===!0&&!this.path.some(yU));this.animationProgress=0;let b;this.mixTargetDelta=w=>{const T=w/1e3;lT(d.x,r.x,T),lT(d.y,r.y,T),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jh(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gU(this.relativeTarget,this.relativeTargetOrigin,f,T),b&&tU(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=ae()),Zn(b,this.relativeTarget)),v&&(this.animationValues=u,$H(u,c,this.latestValues,T,y,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Mr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pt.update(()=>{rm.hasAnimatedSinceResize=!0,this.currentAnimation=zH(0,aT,{...r,onUpdate:o=>{this.mixTargetDelta(o),r.onUpdate&&r.onUpdate(o)},onStop:()=>{},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=r;if(!(!o||!l||!c)){if(this!==r&&this.layout&&c&&HM(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ae();const d=dn(this.layout.layoutBox.x);l.x.min=r.target.x.min,l.x.max=l.x.min+d;const f=dn(this.layout.layoutBox.y);l.y.min=r.target.y.min,l.y.max=l.y.min+f}Zn(o,l),uc(o,u),Zh(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(r,o){this.sharedNodes.has(r)||this.sharedNodes.set(r,new eU),this.sharedNodes.get(r).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){var r;const{layoutId:o}=this.options;return o?((r=this.getStack())===null||r===void 0?void 0:r.lead)||this:this}getPrevLead(){var r;const{layoutId:o}=this.options;return o?(r=this.getStack())===null||r===void 0?void 0:r.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),r&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let o=!1;const{latestValues:l}=r;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&_v("z",r,c,this.animationValues);for(let u=0;u<Tv.length;u++)_v(`rotate${Tv[u]}`,r,c,this.animationValues),_v(`skew${Tv[u]}`,r,c,this.animationValues);r.render();for(const u in c)r.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);r.scheduleRender()}getProjectionStyles(r){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return iU;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=sm(r==null?void 0:r.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=sm(r==null?void 0:r.pointerEvents)||""),this.hasProjected&&!Xr(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=nU(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:p,y:g}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in Ad){if(f[v]===void 0)continue;const{correct:A,applyTo:m,isCSSVariable:y}=Ad[v],b=c.transform==="none"?f[v]:A(f[v],d);if(m){const w=m.length;for(let T=0;T<w;T++)c[m[T]]=b}else y?this.options.visualElement.renderState.vars[v]=b:c[v]=b}return this.options.layoutId&&(c.pointerEvents=d===this?sm(r==null?void 0:r.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>{var o;return(o=r.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(rT),this.root.sharedNodes.clear()}}}function aU(n){n.updateLayout()}function rU(n){var t;const e=((t=n.resumeFrom)===null||t===void 0?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:a}=n.options,r=e.source!==n.layout.source;a==="size"?ti(d=>{const f=r?e.measuredBox[d]:e.layoutBox[d],p=dn(f);f.min=i[d].min,f.max=f.min+p}):HM(a,e.layoutBox,i)&&ti(d=>{const f=r?e.measuredBox[d]:e.layoutBox[d],p=dn(i[d]);f.max=f.min+p,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+p)});const o=lc();Zh(o,i,e.layoutBox);const l=lc();r?Zh(l,n.applyTransform(s,!0),e.measuredBox):Zh(l,i,e.layoutBox);const c=!NM(o);let u=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const g=ae();Jh(g,e.layoutBox,f.layoutBox);const v=ae();Jh(v,i,p.layoutBox),FM(g,v)||(u=!0),d.options.layoutRoot&&(n.relativeTarget=v,n.relativeTargetOrigin=g,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function oU(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function lU(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function cU(n){n.clearSnapshot()}function rT(n){n.clearMeasurements()}function uU(n){n.isLayoutDirty=!1}function hU(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function oT(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function dU(n){n.resolveTargetDelta()}function fU(n){n.calcProjection()}function pU(n){n.resetSkewAndRotation()}function mU(n){n.removeLeadSnapshot()}function lT(n,t,e){n.translate=Xt(t.translate,0,e),n.scale=Xt(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function cT(n,t,e,i){n.min=Xt(t.min,e.min,i),n.max=Xt(t.max,e.max,i)}function gU(n,t,e,i){cT(n.x,t.x,e.x,i),cT(n.y,t.y,e.y,i)}function yU(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const vU={duration:.45,ease:[.4,0,.1,1]},uT=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),hT=uT("applewebkit/")&&!uT("chrome/")?Math.round:Xn;function dT(n){n.min=hT(n.min),n.max=hT(n.max)}function bU(n){dT(n.x),dT(n.y)}function HM(n,t,e){return n==="position"||n==="preserve-aspect"&&!SH(iT(t),iT(e),.2)}function AU(n){var t;return n!==n.root&&((t=n.scroll)===null||t===void 0?void 0:t.wasRoot)}const SU=BM({attachResizeListener:(n,t)=>Td(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cv={current:void 0},UM=BM({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Cv.current){const n=new SU({});n.mount(window),n.setOptions({layoutScroll:!0}),Cv.current=n}return Cv.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),EU={pan:{Feature:BH},drag:{Feature:jH,ProjectionNode:UM,MeasureLayout:OM}};function fT(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,a=i[s];a&&Pt.postRender(()=>a(t,lp(t)))}class wU extends Br{mount(){const{current:t}=this.node;t&&(this.unmount=Sj(t,(e,i)=>(fT(this.node,i,"Start"),s=>fT(this.node,s,"End"))))}unmount(){}}class xU extends Br{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=op(Td(this.node.current,"focus",()=>this.onFocus()),Td(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function pT(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),a=i[s];a&&Pt.postRender(()=>a(t,lp(t)))}class TU extends Br{mount(){const{current:t}=this.node;t&&(this.unmount=Tj(t,(e,i)=>(pT(this.node,i,"Start"),(s,{success:a})=>pT(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yb=new WeakMap,Rv=new WeakMap,_U=n=>{const t=Yb.get(n.target);t&&t(n)},CU=n=>{n.forEach(_U)};function RU({root:n,...t}){const e=n||document;Rv.has(e)||Rv.set(e,{});const i=Rv.get(e),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(CU,{root:n,...t})),i[s]}function MU(n,t,e){const i=RU(t);return Yb.set(n,e),i.observe(n),()=>{Yb.delete(n),i.unobserve(n)}}const DU={some:0,all:1};class LU extends Br{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:a}=t,r={root:e?e.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:DU[s]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return MU(this.node.current,r,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(OU(t,e))&&this.startObserver()}unmount(){}}function OU({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const kU={inView:{Feature:LU},tap:{Feature:TU},focus:{Feature:xU},hover:{Feature:wU}},PU={layout:{ProjectionNode:UM,MeasureLayout:OM}},$b={current:null},IM={current:!1};function NU(){if(IM.current=!0,!!_S)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>$b.current=n.matches;n.addListener(t),t()}else $b.current=!1}const FU=[...dM,Ze,Dr],jU=n=>FU.find(hM(n)),BU=new WeakMap;function HU(n,t,e){for(const i in t){const s=t[i],a=e[i];if(sn(s))n.addValue(i,s);else if(sn(a))n.addValue(i,wd(s,{owner:n}));else if(a!==s)if(n.hasValue(i)){const r=n.getValue(i);r.liveStyle===!0?r.jump(s):r.hasAnimated||r.set(s)}else{const r=n.getStaticValue(i);n.addValue(i,wd(r!==void 0?r:s,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const mT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class UU{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:r},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=vs.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Pt.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=r;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=e.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=dy(e),this.isVariantNode=SR(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(e,{},this);for(const p in f){const g=f[p];l[p]!==void 0&&sn(g)&&g.set(l[p],!1)}}mount(t){this.current=t,BU.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),IM.current||NU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$b.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Mr(this.notifyUpdate),Mr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Rl.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=e.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Pt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=e.on("renderRequest",this.scheduleRender);let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{s(),a(),r&&r(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ou){const e=Ou[t];if(!e)continue;const{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ae()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<mT.length;i++){const s=mT[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,r=t[a];r&&(this.propEventSubscriptions[s]=this.on(s,r))}this.prevMotionValues=HU(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=wd(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){var i;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(cM(s)||tM(s))?s=parseFloat(s):!jU(s)&&Dr.test(e)&&(s=rM(t,e)),this.setBaseTarget(t,sn(s)?s.get():s)),sn(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const r=US(this.props,i,(e=this.presenceContext)===null||e===void 0?void 0:e.custom);r&&(s=r[t])}if(i&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!sn(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new $S),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class zM extends UU{constructor(){super(...arguments),this.KeyframeResolver=fM}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;sn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function IU(n){return window.getComputedStyle(n)}class zU extends zM{constructor(){super(...arguments),this.type="html",this.renderInstance=OR}readValueFromInstance(t,e){if(Rl.has(e)){const i=JS(e);return i&&i.default||0}else{const i=IU(t),s=(OS(e)?i.getPropertyValue(e):i[e])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:e}){return MM(t,e)}build(t,e,i){NS(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return IS(t,e,i)}}class VU extends zM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ae,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&LR(this.current,this.renderState)}}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Rl.has(e)){const i=JS(e);return i&&i.default||0}return e=kR.has(e)?e:DS(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return NR(t,e,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&Pt.postRender(this.updateDimensions)}build(t,e,i){BS(t,e,this.isSVGTag,i.transformTemplate)}renderInstance(t,e,i,s){PR(t,e,i,s)}mount(t){this.isSVGTag=HS(t.tagName),super.mount(t)}}const GU=(n,t)=>jS(n)?new VU(t):new zU(t,{allowProjection:n!==C.Fragment}),qU=pj({...fH,...kU,...EU,...PU},GU),zr=DF(qU),XU=({children:n})=>{const t=jr(),e=Cl(),i=localStorage.getItem("token"),s=localStorage.getItem("role"),a=localStorage.getItem("userId"),o=["/","/login","/signup/reader","/signup/publisher"].includes(t.pathname),l=()=>{localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("userId"),e("/login")},c=p=>{p.preventDefault(),e(s==="reader"?`/account/reader/${a}`:s==="publisher"?`/account/publisher/${a}`:"/login")},u=p=>{p.preventDefault(),e("/")},d={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},f={hover:{scale:1.1,transition:{duration:.2}},tap:{scale:.95}};return _.jsxs(_.Fragment,{children:[_.jsxs(zr.nav,{className:"navbar bg-gradient-to-r from-blue-900 to-purple-900 p-4 text-white flex justify-between items-center",variants:d,initial:"hidden",animate:"visible",children:[_.jsx("div",{className:"navbar-left",children:_.jsx("a",{href:"#",onClick:u,className:"logo-link flex items-center",children:_.jsx("img",{src:"/Bookhub.jpg",alt:"BookHub Logo",className:"logo w-12 h-12 mr-2 rounded-full shadow-lg"})})}),_.jsx("div",{className:"navbar-right flex gap-4",children:o&&!i?_.jsxs(_.Fragment,{children:[_.jsx(zr.div,{variants:f,whileHover:"hover",whileTap:"tap",children:_.jsx(fs,{to:"/login",className:"nav-link",children:"Login"})}),_.jsx(zr.div,{variants:f,whileHover:"hover",whileTap:"tap",children:_.jsx(fs,{to:"/signup/reader",className:"nav-link",children:"Signup as Reader"})}),_.jsx(zr.div,{variants:f,whileHover:"hover",whileTap:"tap",children:_.jsx(fs,{to:"/signup/publisher",className:"nav-link",children:"Signup as Publisher"})})]}):_.jsxs(_.Fragment,{children:[_.jsx(zr.div,{variants:f,whileHover:"hover",whileTap:"tap",children:_.jsx(fs,{to:"/main",className:"nav-link",children:"Search"})}),_.jsx(zr.div,{variants:f,whileHover:"hover",whileTap:"tap",children:_.jsx("a",{href:"login",onClick:c,className:"nav-link",children:"Account"})}),_.jsx(zr.div,{variants:f,whileHover:"hover",whileTap:"tap",children:_.jsx("a",{href:"",onClick:l,className:"nav-link logout-button",children:"Logout"})})]})})]}),_.jsx("main",{className:"p-4",children:n})]})},YU="/assets/pexels-repuding-12064-CI2cbs8u.jpg",$U=()=>_.jsxs("div",{className:"home-page",style:{backgroundImage:`url(${YU})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"},children:[_.jsxs("main",{className:"main-content",children:[_.jsx("h1",{children:"Discover & Share Amazing Books"}),_.jsx("h2",{children:"แพลตฟอร์มสำหรับนักอ่านที่ต้องการค้นหาและแบ่งปันหนังสือดี ๆ"}),_.jsx(fs,{to:"/main",className:"cta-button",children:"Let's Explore Books!"})]}),_.jsx("footer",{className:"footer",children:_.jsx("p",{children:"© 2025 BookHub. All rights reserved."})})]});function VM(n,t){return function(){return n.apply(t,arguments)}}const{toString:KU}=Object.prototype,{getPrototypeOf:sE}=Object,py=(n=>t=>{const e=KU.call(t);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),zi=n=>(n=n.toLowerCase(),t=>py(t)===n),my=n=>t=>typeof t===n,{isArray:Xu}=Array,_d=my("undefined");function WU(n){return n!==null&&!_d(n)&&n.constructor!==null&&!_d(n.constructor)&&Yn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const GM=zi("ArrayBuffer");function QU(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&GM(n.buffer),t}const ZU=my("string"),Yn=my("function"),qM=my("number"),gy=n=>n!==null&&typeof n=="object",JU=n=>n===!0||n===!1,om=n=>{if(py(n)!=="object")return!1;const t=sE(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},tI=zi("Date"),eI=zi("File"),nI=zi("Blob"),iI=zi("FileList"),sI=n=>gy(n)&&Yn(n.pipe),aI=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||Yn(n.append)&&((t=py(n))==="formdata"||t==="object"&&Yn(n.toString)&&n.toString()==="[object FormData]"))},rI=zi("URLSearchParams"),[oI,lI,cI,uI]=["ReadableStream","Request","Response","Headers"].map(zi),hI=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cp(n,t,{allOwnKeys:e=!1}={}){if(n===null||typeof n>"u")return;let i,s;if(typeof n!="object"&&(n=[n]),Xu(n))for(i=0,s=n.length;i<s;i++)t.call(null,n[i],i,n);else{const a=e?Object.getOwnPropertyNames(n):Object.keys(n),r=a.length;let o;for(i=0;i<r;i++)o=a[i],t.call(null,n[o],o,n)}}function XM(n,t){t=t.toLowerCase();const e=Object.keys(n);let i=e.length,s;for(;i-- >0;)if(s=e[i],t===s.toLowerCase())return s;return null}const io=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,YM=n=>!_d(n)&&n!==io;function Kb(){const{caseless:n}=YM(this)&&this||{},t={},e=(i,s)=>{const a=n&&XM(t,s)||s;om(t[a])&&om(i)?t[a]=Kb(t[a],i):om(i)?t[a]=Kb({},i):Xu(i)?t[a]=i.slice():t[a]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&cp(arguments[i],e);return t}const dI=(n,t,e,{allOwnKeys:i}={})=>(cp(t,(s,a)=>{e&&Yn(s)?n[a]=VM(s,e):n[a]=s},{allOwnKeys:i}),n),fI=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),pI=(n,t,e,i)=>{n.prototype=Object.create(t.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),e&&Object.assign(n.prototype,e)},mI=(n,t,e,i)=>{let s,a,r;const o={};if(t=t||{},n==null)return t;do{for(s=Object.getOwnPropertyNames(n),a=s.length;a-- >0;)r=s[a],(!i||i(r,n,t))&&!o[r]&&(t[r]=n[r],o[r]=!0);n=e!==!1&&sE(n)}while(n&&(!e||e(n,t))&&n!==Object.prototype);return t},gI=(n,t,e)=>{n=String(n),(e===void 0||e>n.length)&&(e=n.length),e-=t.length;const i=n.indexOf(t,e);return i!==-1&&i===e},yI=n=>{if(!n)return null;if(Xu(n))return n;let t=n.length;if(!qM(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=n[t];return e},vI=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&sE(Uint8Array)),bI=(n,t)=>{const i=(n&&n[Symbol.iterator]).call(n);let s;for(;(s=i.next())&&!s.done;){const a=s.value;t.call(n,a[0],a[1])}},AI=(n,t)=>{let e;const i=[];for(;(e=n.exec(t))!==null;)i.push(e);return i},SI=zi("HTMLFormElement"),EI=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,i,s){return i.toUpperCase()+s}),gT=(({hasOwnProperty:n})=>(t,e)=>n.call(t,e))(Object.prototype),wI=zi("RegExp"),$M=(n,t)=>{const e=Object.getOwnPropertyDescriptors(n),i={};cp(e,(s,a)=>{let r;(r=t(s,a,n))!==!1&&(i[a]=r||s)}),Object.defineProperties(n,i)},xI=n=>{$M(n,(t,e)=>{if(Yn(n)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const i=n[e];if(Yn(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},TI=(n,t)=>{const e={},i=s=>{s.forEach(a=>{e[a]=!0})};return Xu(n)?i(n):i(String(n).split(t)),e},_I=()=>{},CI=(n,t)=>n!=null&&Number.isFinite(n=+n)?n:t;function RI(n){return!!(n&&Yn(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const MI=n=>{const t=new Array(10),e=(i,s)=>{if(gy(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[s]=i;const a=Xu(i)?[]:{};return cp(i,(r,o)=>{const l=e(r,s+1);!_d(l)&&(a[o]=l)}),t[s]=void 0,a}}return i};return e(n,0)},DI=zi("AsyncFunction"),LI=n=>n&&(gy(n)||Yn(n))&&Yn(n.then)&&Yn(n.catch),KM=((n,t)=>n?setImmediate:t?((e,i)=>(io.addEventListener("message",({source:s,data:a})=>{s===io&&a===e&&i.length&&i.shift()()},!1),s=>{i.push(s),io.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",Yn(io.postMessage)),OI=typeof queueMicrotask<"u"?queueMicrotask.bind(io):typeof process<"u"&&process.nextTick||KM,L={isArray:Xu,isArrayBuffer:GM,isBuffer:WU,isFormData:aI,isArrayBufferView:QU,isString:ZU,isNumber:qM,isBoolean:JU,isObject:gy,isPlainObject:om,isReadableStream:oI,isRequest:lI,isResponse:cI,isHeaders:uI,isUndefined:_d,isDate:tI,isFile:eI,isBlob:nI,isRegExp:wI,isFunction:Yn,isStream:sI,isURLSearchParams:rI,isTypedArray:vI,isFileList:iI,forEach:cp,merge:Kb,extend:dI,trim:hI,stripBOM:fI,inherits:pI,toFlatObject:mI,kindOf:py,kindOfTest:zi,endsWith:gI,toArray:yI,forEachEntry:bI,matchAll:AI,isHTMLForm:SI,hasOwnProperty:gT,hasOwnProp:gT,reduceDescriptors:$M,freezeMethods:xI,toObjectSet:TI,toCamelCase:EI,noop:_I,toFiniteNumber:CI,findKey:XM,global:io,isContextDefined:YM,isSpecCompliantForm:RI,toJSONObject:MI,isAsyncFn:DI,isThenable:LI,setImmediate:KM,asap:OI};function J(n,t,e,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}L.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.status}}});const WM=J.prototype,QM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{QM[n]={value:n}});Object.defineProperties(J,QM);Object.defineProperty(WM,"isAxiosError",{value:!0});J.from=(n,t,e,i,s,a)=>{const r=Object.create(WM);return L.toFlatObject(n,r,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),J.call(r,n.message,t,e,i,s),r.cause=n,r.name=n.name,a&&Object.assign(r,a),r};const kI=null;function Wb(n){return L.isPlainObject(n)||L.isArray(n)}function ZM(n){return L.endsWith(n,"[]")?n.slice(0,-2):n}function yT(n,t,e){return n?n.concat(t).map(function(s,a){return s=ZM(s),!e&&a?"["+s+"]":s}).join(e?".":""):t}function PI(n){return L.isArray(n)&&!n.some(Wb)}const NI=L.toFlatObject(L,{},null,function(t){return/^is[A-Z]/.test(t)});function yy(n,t,e){if(!L.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,e=L.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,A){return!L.isUndefined(A[v])});const i=e.metaTokens,s=e.visitor||u,a=e.dots,r=e.indexes,l=(e.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(t);if(!L.isFunction(s))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(L.isDate(g))return g.toISOString();if(!l&&L.isBlob(g))throw new J("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(g)||L.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,v,A){let m=g;if(g&&!A&&typeof g=="object"){if(L.endsWith(v,"{}"))v=i?v:v.slice(0,-2),g=JSON.stringify(g);else if(L.isArray(g)&&PI(g)||(L.isFileList(g)||L.endsWith(v,"[]"))&&(m=L.toArray(g)))return v=ZM(v),m.forEach(function(b,w){!(L.isUndefined(b)||b===null)&&t.append(r===!0?yT([v],w,a):r===null?v:v+"[]",c(b))}),!1}return Wb(g)?!0:(t.append(yT(A,v,a),c(g)),!1)}const d=[],f=Object.assign(NI,{defaultVisitor:u,convertValue:c,isVisitable:Wb});function p(g,v){if(!L.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(g),L.forEach(g,function(m,y){(!(L.isUndefined(m)||m===null)&&s.call(t,m,L.isString(y)?y.trim():y,v,f))===!0&&p(m,v?v.concat(y):[y])}),d.pop()}}if(!L.isObject(n))throw new TypeError("data must be an object");return p(n),t}function vT(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function aE(n,t){this._pairs=[],n&&yy(n,this,t)}const JM=aE.prototype;JM.append=function(t,e){this._pairs.push([t,e])};JM.toString=function(t){const e=t?function(i){return t.call(this,i,vT)}:vT;return this._pairs.map(function(s){return e(s[0])+"="+e(s[1])},"").join("&")};function FI(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tD(n,t,e){if(!t)return n;const i=e&&e.encode||FI;L.isFunction(e)&&(e={serialize:e});const s=e&&e.serialize;let a;if(s?a=s(t,e):a=L.isURLSearchParams(t)?t.toString():new aE(t,e).toString(i),a){const r=n.indexOf("#");r!==-1&&(n=n.slice(0,r)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class bT{constructor(){this.handlers=[]}use(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){L.forEach(this.handlers,function(i){i!==null&&t(i)})}}const eD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jI=typeof URLSearchParams<"u"?URLSearchParams:aE,BI=typeof FormData<"u"?FormData:null,HI=typeof Blob<"u"?Blob:null,UI={isBrowser:!0,classes:{URLSearchParams:jI,FormData:BI,Blob:HI},protocols:["http","https","file","blob","url","data"]},rE=typeof window<"u"&&typeof document<"u",Qb=typeof navigator=="object"&&navigator||void 0,II=rE&&(!Qb||["ReactNative","NativeScript","NS"].indexOf(Qb.product)<0),zI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",VI=rE&&window.location.href||"http://localhost",GI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rE,hasStandardBrowserEnv:II,hasStandardBrowserWebWorkerEnv:zI,navigator:Qb,origin:VI},Symbol.toStringTag,{value:"Module"})),Je={...GI,...UI};function qI(n,t){return yy(n,new Je.classes.URLSearchParams,Object.assign({visitor:function(e,i,s,a){return Je.isNode&&L.isBuffer(e)?(this.append(i,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function XI(n){return L.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function YI(n){const t={},e=Object.keys(n);let i;const s=e.length;let a;for(i=0;i<s;i++)a=e[i],t[a]=n[a];return t}function nD(n){function t(e,i,s,a){let r=e[a++];if(r==="__proto__")return!0;const o=Number.isFinite(+r),l=a>=e.length;return r=!r&&L.isArray(s)?s.length:r,l?(L.hasOwnProp(s,r)?s[r]=[s[r],i]:s[r]=i,!o):((!s[r]||!L.isObject(s[r]))&&(s[r]=[]),t(e,i,s[r],a)&&L.isArray(s[r])&&(s[r]=YI(s[r])),!o)}if(L.isFormData(n)&&L.isFunction(n.entries)){const e={};return L.forEachEntry(n,(i,s)=>{t(XI(i),s,e,0)}),e}return null}function $I(n,t,e){if(L.isString(n))try{return(t||JSON.parse)(n),L.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(e||JSON.stringify)(n)}const up={transitional:eD,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const i=e.getContentType()||"",s=i.indexOf("application/json")>-1,a=L.isObject(t);if(a&&L.isHTMLForm(t)&&(t=new FormData(t)),L.isFormData(t))return s?JSON.stringify(nD(t)):t;if(L.isArrayBuffer(t)||L.isBuffer(t)||L.isStream(t)||L.isFile(t)||L.isBlob(t)||L.isReadableStream(t))return t;if(L.isArrayBufferView(t))return t.buffer;if(L.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return qI(t,this.formSerializer).toString();if((o=L.isFileList(t))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return yy(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||s?(e.setContentType("application/json",!1),$I(t)):t}],transformResponse:[function(t){const e=this.transitional||up.transitional,i=e&&e.forcedJSONParsing,s=this.responseType==="json";if(L.isResponse(t)||L.isReadableStream(t))return t;if(t&&L.isString(t)&&(i&&!this.responseType||s)){const r=!(e&&e.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(o){if(r)throw o.name==="SyntaxError"?J.from(o,J.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Je.classes.FormData,Blob:Je.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],n=>{up.headers[n]={}});const KI=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),WI=n=>{const t={};let e,i,s;return n&&n.split(`
`).forEach(function(r){s=r.indexOf(":"),e=r.substring(0,s).trim().toLowerCase(),i=r.substring(s+1).trim(),!(!e||t[e]&&KI[e])&&(e==="set-cookie"?t[e]?t[e].push(i):t[e]=[i]:t[e]=t[e]?t[e]+", "+i:i)}),t},AT=Symbol("internals");function oh(n){return n&&String(n).trim().toLowerCase()}function lm(n){return n===!1||n==null?n:L.isArray(n)?n.map(lm):String(n)}function QI(n){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=e.exec(n);)t[i[1]]=i[2];return t}const ZI=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Mv(n,t,e,i,s){if(L.isFunction(i))return i.call(this,t,e);if(s&&(t=e),!!L.isString(t)){if(L.isString(i))return t.indexOf(i)!==-1;if(L.isRegExp(i))return i.test(t)}}function JI(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,i)=>e.toUpperCase()+i)}function tz(n,t){const e=L.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+e,{value:function(s,a,r){return this[i].call(this,t,s,a,r)},configurable:!0})})}let _n=class{constructor(t){t&&this.set(t)}set(t,e,i){const s=this;function a(o,l,c){const u=oh(l);if(!u)throw new Error("header name must be a non-empty string");const d=L.findKey(s,u);(!d||s[d]===void 0||c===!0||c===void 0&&s[d]!==!1)&&(s[d||l]=lm(o))}const r=(o,l)=>L.forEach(o,(c,u)=>a(c,u,l));if(L.isPlainObject(t)||t instanceof this.constructor)r(t,e);else if(L.isString(t)&&(t=t.trim())&&!ZI(t))r(WI(t),e);else if(L.isHeaders(t))for(const[o,l]of t.entries())a(l,o,i);else t!=null&&a(e,t,i);return this}get(t,e){if(t=oh(t),t){const i=L.findKey(this,t);if(i){const s=this[i];if(!e)return s;if(e===!0)return QI(s);if(L.isFunction(e))return e.call(this,s,i);if(L.isRegExp(e))return e.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=oh(t),t){const i=L.findKey(this,t);return!!(i&&this[i]!==void 0&&(!e||Mv(this,this[i],i,e)))}return!1}delete(t,e){const i=this;let s=!1;function a(r){if(r=oh(r),r){const o=L.findKey(i,r);o&&(!e||Mv(i,i[o],o,e))&&(delete i[o],s=!0)}}return L.isArray(t)?t.forEach(a):a(t),s}clear(t){const e=Object.keys(this);let i=e.length,s=!1;for(;i--;){const a=e[i];(!t||Mv(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const e=this,i={};return L.forEach(this,(s,a)=>{const r=L.findKey(i,a);if(r){e[r]=lm(s),delete e[a];return}const o=t?JI(a):String(a).trim();o!==a&&delete e[a],e[o]=lm(s),i[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return L.forEach(this,(i,s)=>{i!=null&&i!==!1&&(e[s]=t&&L.isArray(i)?i.join(", "):i)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const i=new this(t);return e.forEach(s=>i.set(s)),i}static accessor(t){const i=(this[AT]=this[AT]={accessors:{}}).accessors,s=this.prototype;function a(r){const o=oh(r);i[o]||(tz(s,r),i[o]=!0)}return L.isArray(t)?t.forEach(a):a(t),this}};_n.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(_n.prototype,({value:n},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(i){this[e]=i}}});L.freezeMethods(_n);function Dv(n,t){const e=this||up,i=t||e,s=_n.from(i.headers);let a=i.data;return L.forEach(n,function(o){a=o.call(e,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function iD(n){return!!(n&&n.__CANCEL__)}function Yu(n,t,e){J.call(this,n??"canceled",J.ERR_CANCELED,t,e),this.name="CanceledError"}L.inherits(Yu,J,{__CANCEL__:!0});function sD(n,t,e){const i=e.config.validateStatus;!e.status||!i||i(e.status)?n(e):t(new J("Request failed with status code "+e.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function ez(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function nz(n,t){n=n||10;const e=new Array(n),i=new Array(n);let s=0,a=0,r;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=i[a];r||(r=c),e[s]=l,i[s]=c;let d=a,f=0;for(;d!==s;)f+=e[d++],d=d%n;if(s=(s+1)%n,s===a&&(a=(a+1)%n),c-r<t)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function iz(n,t){let e=0,i=1e3/t,s,a;const r=(c,u=Date.now())=>{e=u,s=null,a&&(clearTimeout(a),a=null),n.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-e;d>=i?r(c,u):(s=c,a||(a=setTimeout(()=>{a=null,r(s)},i-d)))},()=>s&&r(s)]}const Sg=(n,t,e=3)=>{let i=0;const s=nz(50,250);return iz(a=>{const r=a.loaded,o=a.lengthComputable?a.total:void 0,l=r-i,c=s(l),u=r<=o;i=r;const d={loaded:r,total:o,progress:o?r/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-r)/c:void 0,event:a,lengthComputable:o!=null,[t?"download":"upload"]:!0};n(d)},e)},ST=(n,t)=>{const e=n!=null;return[i=>t[0]({lengthComputable:e,total:n,loaded:i}),t[1]]},ET=n=>(...t)=>L.asap(()=>n(...t)),sz=Je.hasStandardBrowserEnv?((n,t)=>e=>(e=new URL(e,Je.origin),n.protocol===e.protocol&&n.host===e.host&&(t||n.port===e.port)))(new URL(Je.origin),Je.navigator&&/(msie|trident)/i.test(Je.navigator.userAgent)):()=>!0,az=Je.hasStandardBrowserEnv?{write(n,t,e,i,s,a){const r=[n+"="+encodeURIComponent(t)];L.isNumber(e)&&r.push("expires="+new Date(e).toGMTString()),L.isString(i)&&r.push("path="+i),L.isString(s)&&r.push("domain="+s),a===!0&&r.push("secure"),document.cookie=r.join("; ")},read(n){const t=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function rz(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function oz(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}function aD(n,t,e){let i=!rz(t);return n&&i||e==!1?oz(n,t):t}const wT=n=>n instanceof _n?{...n}:n;function pl(n,t){t=t||{};const e={};function i(c,u,d,f){return L.isPlainObject(c)&&L.isPlainObject(u)?L.merge.call({caseless:f},c,u):L.isPlainObject(u)?L.merge({},u):L.isArray(u)?u.slice():u}function s(c,u,d,f){if(L.isUndefined(u)){if(!L.isUndefined(c))return i(void 0,c,d,f)}else return i(c,u,d,f)}function a(c,u){if(!L.isUndefined(u))return i(void 0,u)}function r(c,u){if(L.isUndefined(u)){if(!L.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function o(c,u,d){if(d in t)return i(c,u);if(d in n)return i(void 0,c)}const l={url:a,method:a,data:a,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:o,headers:(c,u,d)=>s(wT(c),wT(u),d,!0)};return L.forEach(Object.keys(Object.assign({},n,t)),function(u){const d=l[u]||s,f=d(n[u],t[u],u);L.isUndefined(f)&&d!==o||(e[u]=f)}),e}const rD=n=>{const t=pl({},n);let{data:e,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:a,headers:r,auth:o}=t;t.headers=r=_n.from(r),t.url=tD(aD(t.baseURL,t.url),n.params,n.paramsSerializer),o&&r.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(L.isFormData(e)){if(Je.hasStandardBrowserEnv||Je.hasStandardBrowserWebWorkerEnv)r.setContentType(void 0);else if((l=r.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];r.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Je.hasStandardBrowserEnv&&(i&&L.isFunction(i)&&(i=i(t)),i||i!==!1&&sz(t.url))){const c=s&&a&&az.read(a);c&&r.set(s,c)}return t},lz=typeof XMLHttpRequest<"u",cz=lz&&function(n){return new Promise(function(e,i){const s=rD(n);let a=s.data;const r=_n.from(s.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=s,u,d,f,p,g;function v(){p&&p(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let A=new XMLHttpRequest;A.open(s.method.toUpperCase(),s.url,!0),A.timeout=s.timeout;function m(){if(!A)return;const b=_n.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),T={data:!o||o==="text"||o==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:b,config:n,request:A};sD(function(M){e(M),v()},function(M){i(M),v()},T),A=null}"onloadend"in A?A.onloadend=m:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(m)},A.onabort=function(){A&&(i(new J("Request aborted",J.ECONNABORTED,n,A)),A=null)},A.onerror=function(){i(new J("Network Error",J.ERR_NETWORK,n,A)),A=null},A.ontimeout=function(){let w=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const T=s.transitional||eD;s.timeoutErrorMessage&&(w=s.timeoutErrorMessage),i(new J(w,T.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,n,A)),A=null},a===void 0&&r.setContentType(null),"setRequestHeader"in A&&L.forEach(r.toJSON(),function(w,T){A.setRequestHeader(T,w)}),L.isUndefined(s.withCredentials)||(A.withCredentials=!!s.withCredentials),o&&o!=="json"&&(A.responseType=s.responseType),c&&([f,g]=Sg(c,!0),A.addEventListener("progress",f)),l&&A.upload&&([d,p]=Sg(l),A.upload.addEventListener("progress",d),A.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(u=b=>{A&&(i(!b||b.type?new Yu(null,n,A):b),A.abort(),A=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const y=ez(s.url);if(y&&Je.protocols.indexOf(y)===-1){i(new J("Unsupported protocol "+y+":",J.ERR_BAD_REQUEST,n));return}A.send(a||null)})},uz=(n,t)=>{const{length:e}=n=n?n.filter(Boolean):[];if(t||e){let i=new AbortController,s;const a=function(c){if(!s){s=!0,o();const u=c instanceof Error?c:this.reason;i.abort(u instanceof J?u:new Yu(u instanceof Error?u.message:u))}};let r=t&&setTimeout(()=>{r=null,a(new J(`timeout ${t} of ms exceeded`,J.ETIMEDOUT))},t);const o=()=>{n&&(r&&clearTimeout(r),r=null,n.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),n=null)};n.forEach(c=>c.addEventListener("abort",a));const{signal:l}=i;return l.unsubscribe=()=>L.asap(o),l}},hz=function*(n,t){let e=n.byteLength;if(e<t){yield n;return}let i=0,s;for(;i<e;)s=i+t,yield n.slice(i,s),i=s},dz=async function*(n,t){for await(const e of fz(n))yield*hz(e,t)},fz=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const t=n.getReader();try{for(;;){const{done:e,value:i}=await t.read();if(e)break;yield i}}finally{await t.cancel()}},xT=(n,t,e,i)=>{const s=dz(n,t);let a=0,r,o=l=>{r||(r=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await s.next();if(c){o(),l.close();return}let d=u.byteLength;if(e){let f=a+=d;e(f)}l.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(l){return o(l),s.return()}},{highWaterMark:2})},vy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",oD=vy&&typeof ReadableStream=="function",pz=vy&&(typeof TextEncoder=="function"?(n=>t=>n.encode(t))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),lD=(n,...t)=>{try{return!!n(...t)}catch{return!1}},mz=oD&&lD(()=>{let n=!1;const t=new Request(Je.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!t}),TT=64*1024,Zb=oD&&lD(()=>L.isReadableStream(new Response("").body)),Eg={stream:Zb&&(n=>n.body)};vy&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Eg[t]&&(Eg[t]=L.isFunction(n[t])?e=>e[t]():(e,i)=>{throw new J(`Response type '${t}' is not supported`,J.ERR_NOT_SUPPORT,i)})})})(new Response);const gz=async n=>{if(n==null)return 0;if(L.isBlob(n))return n.size;if(L.isSpecCompliantForm(n))return(await new Request(Je.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(L.isArrayBufferView(n)||L.isArrayBuffer(n))return n.byteLength;if(L.isURLSearchParams(n)&&(n=n+""),L.isString(n))return(await pz(n)).byteLength},yz=async(n,t)=>{const e=L.toFiniteNumber(n.getContentLength());return e??gz(t)},vz=vy&&(async n=>{let{url:t,method:e,data:i,signal:s,cancelToken:a,timeout:r,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=rD(n);c=c?(c+"").toLowerCase():"text";let p=uz([s,a&&a.toAbortSignal()],r),g;const v=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let A;try{if(l&&mz&&e!=="get"&&e!=="head"&&(A=await yz(u,i))!==0){let T=new Request(t,{method:"POST",body:i,duplex:"half"}),R;if(L.isFormData(i)&&(R=T.headers.get("content-type"))&&u.setContentType(R),T.body){const[M,D]=ST(A,Sg(ET(l)));i=xT(T.body,TT,M,D)}}L.isString(d)||(d=d?"include":"omit");const m="credentials"in Request.prototype;g=new Request(t,{...f,signal:p,method:e.toUpperCase(),headers:u.normalize().toJSON(),body:i,duplex:"half",credentials:m?d:void 0});let y=await fetch(g);const b=Zb&&(c==="stream"||c==="response");if(Zb&&(o||b&&v)){const T={};["status","statusText","headers"].forEach(O=>{T[O]=y[O]});const R=L.toFiniteNumber(y.headers.get("content-length")),[M,D]=o&&ST(R,Sg(ET(o),!0))||[];y=new Response(xT(y.body,TT,M,()=>{D&&D(),v&&v()}),T)}c=c||"text";let w=await Eg[L.findKey(Eg,c)||"text"](y,n);return!b&&v&&v(),await new Promise((T,R)=>{sD(T,R,{data:w,headers:_n.from(y.headers),status:y.status,statusText:y.statusText,config:n,request:g})})}catch(m){throw v&&v(),m&&m.name==="TypeError"&&/fetch/i.test(m.message)?Object.assign(new J("Network Error",J.ERR_NETWORK,n,g),{cause:m.cause||m}):J.from(m,m&&m.code,n,g)}}),Jb={http:kI,xhr:cz,fetch:vz};L.forEach(Jb,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const _T=n=>`- ${n}`,bz=n=>L.isFunction(n)||n===null||n===!1,cD={getAdapter:n=>{n=L.isArray(n)?n:[n];const{length:t}=n;let e,i;const s={};for(let a=0;a<t;a++){e=n[a];let r;if(i=e,!bz(e)&&(i=Jb[(r=String(e)).toLowerCase()],i===void 0))throw new J(`Unknown adapter '${r}'`);if(i)break;s[r||"#"+a]=i}if(!i){const a=Object.entries(s).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let r=t?a.length>1?`since :
`+a.map(_T).join(`
`):" "+_T(a[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return i},adapters:Jb};function Lv(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Yu(null,n)}function CT(n){return Lv(n),n.headers=_n.from(n.headers),n.data=Dv.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),cD.getAdapter(n.adapter||up.adapter)(n).then(function(i){return Lv(n),i.data=Dv.call(n,n.transformResponse,i),i.headers=_n.from(i.headers),i},function(i){return iD(i)||(Lv(n),i&&i.response&&(i.response.data=Dv.call(n,n.transformResponse,i.response),i.response.headers=_n.from(i.response.headers))),Promise.reject(i)})}const uD="1.8.2",by={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{by[n]=function(i){return typeof i===n||"a"+(t<1?"n ":" ")+n}});const RT={};by.transitional=function(t,e,i){function s(a,r){return"[Axios v"+uD+"] Transitional option '"+a+"'"+r+(i?". "+i:"")}return(a,r,o)=>{if(t===!1)throw new J(s(r," has been removed"+(e?" in "+e:"")),J.ERR_DEPRECATED);return e&&!RT[r]&&(RT[r]=!0,console.warn(s(r," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(a,r,o):!0}};by.spelling=function(t){return(e,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function Az(n,t,e){if(typeof n!="object")throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let s=i.length;for(;s-- >0;){const a=i[s],r=t[a];if(r){const o=n[a],l=o===void 0||r(o,a,n);if(l!==!0)throw new J("option "+a+" must be "+l,J.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new J("Unknown option "+a,J.ERR_BAD_OPTION)}}const cm={assertOptions:Az,validators:by},Gi=cm.validators;let ll=class{constructor(t){this.defaults=t,this.interceptors={request:new bT,response:new bT}}async request(t,e){try{return await this._request(t,e)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=pl(this.defaults,e);const{transitional:i,paramsSerializer:s,headers:a}=e;i!==void 0&&cm.assertOptions(i,{silentJSONParsing:Gi.transitional(Gi.boolean),forcedJSONParsing:Gi.transitional(Gi.boolean),clarifyTimeoutError:Gi.transitional(Gi.boolean)},!1),s!=null&&(L.isFunction(s)?e.paramsSerializer={serialize:s}:cm.assertOptions(s,{encode:Gi.function,serialize:Gi.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),cm.assertOptions(e,{baseUrl:Gi.spelling("baseURL"),withXsrfToken:Gi.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let r=a&&L.merge(a.common,a[e.method]);a&&L.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),e.headers=_n.concat(r,a);const o=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(e)===!1||(l=l&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,d=0,f;if(!l){const g=[CT.bind(this),void 0];for(g.unshift.apply(g,o),g.push.apply(g,c),f=g.length,u=Promise.resolve(e);d<f;)u=u.then(g[d++],g[d++]);return u}f=o.length;let p=e;for(d=0;d<f;){const g=o[d++],v=o[d++];try{p=g(p)}catch(A){v.call(this,A);break}}try{u=CT.call(this,p)}catch(g){return Promise.reject(g)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=pl(this.defaults,t);const e=aD(t.baseURL,t.url,t.allowAbsoluteUrls);return tD(e,t.params,t.paramsSerializer)}};L.forEach(["delete","get","head","options"],function(t){ll.prototype[t]=function(e,i){return this.request(pl(i||{},{method:t,url:e,data:(i||{}).data}))}});L.forEach(["post","put","patch"],function(t){function e(i){return function(a,r,o){return this.request(pl(o||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:r}))}}ll.prototype[t]=e(),ll.prototype[t+"Form"]=e(!0)});let Sz=class hD{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(a){e=a});const i=this;this.promise.then(s=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](s);i._listeners=null}),this.promise.then=s=>{let a;const r=new Promise(o=>{i.subscribe(o),a=o}).then(s);return r.cancel=function(){i.unsubscribe(a)},r},t(function(a,r,o){i.reason||(i.reason=new Yu(a,r,o),e(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=i=>{t.abort(i)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new hD(function(s){t=s}),cancel:t}}};function Ez(n){return function(e){return n.apply(null,e)}}function wz(n){return L.isObject(n)&&n.isAxiosError===!0}const t0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(t0).forEach(([n,t])=>{t0[t]=n});function dD(n){const t=new ll(n),e=VM(ll.prototype.request,t);return L.extend(e,ll.prototype,t,{allOwnKeys:!0}),L.extend(e,t,null,{allOwnKeys:!0}),e.create=function(s){return dD(pl(n,s))},e}const mt=dD(up);mt.Axios=ll;mt.CanceledError=Yu;mt.CancelToken=Sz;mt.isCancel=iD;mt.VERSION=uD;mt.toFormData=yy;mt.AxiosError=J;mt.Cancel=mt.CanceledError;mt.all=function(t){return Promise.all(t)};mt.spread=Ez;mt.isAxiosError=wz;mt.mergeConfig=pl;mt.AxiosHeaders=_n;mt.formToJSON=n=>nD(L.isHTMLForm(n)?new FormData(n):n);mt.getAdapter=cD.getAdapter;mt.HttpStatusCode=t0;mt.default=mt;const{Axios:g4,AxiosError:y4,CanceledError:v4,isCancel:b4,CancelToken:A4,VERSION:S4,all:E4,Cancel:w4,isAxiosError:x4,spread:T4,toFormData:_4,AxiosHeaders:C4,HttpStatusCode:R4,formToJSON:M4,getAdapter:D4,mergeConfig:L4}=mt,xz=()=>{const[n,t]=C.useState(""),[e,i]=C.useState(""),[s,a]=C.useState(null),r=Cl(),o=async l=>{var c,u;l.preventDefault();try{const d=await mt.post("http://127.0.0.1:8000/api/login/",{identifier:n,password:e}),{token:f,role:p}=d.data,g=d.data.userId||"1";localStorage.setItem("token",f),localStorage.setItem("role",p),localStorage.setItem("userId",g),r(p==="reader"?`/account/reader/${g}`:p==="publisher"?`/account/publisher/${g}`:"/main")}catch(d){a(((u=(c=d.response)==null?void 0:c.data)==null?void 0:u.detail)||"Login failed. Please check your credentials.")}};return _.jsxs("div",{className:"auth-page",children:[_.jsx("h2",{children:"Login"}),s&&_.jsx("p",{className:"error",children:s}),_.jsxs("form",{onSubmit:o,children:[_.jsxs("div",{children:[_.jsx("label",{children:"Email or Username:"}),_.jsx("input",{type:"text",value:n,onChange:l=>t(l.target.value),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{children:"Password:"}),_.jsx("input",{type:"password",value:e,onChange:l=>i(l.target.value),required:!0})]}),_.jsx("button",{type:"submit",children:"Login"})]}),_.jsxs("p",{children:["Don't have an account? ",_.jsx(fs,{to:"/signup/reader",children:"Signup as Reader"})," | ",_.jsx(fs,{to:"/signup/publisher",children:"Signup as Publisher"})]})]})},MT=()=>{const[n,t]=C.useState([]),[e,i]=C.useState(null),[s,a]=C.useState(""),[r,o]=C.useState([]),l=["Fiction","Non-fiction","Science"];C.useEffect(()=>{const u=localStorage.getItem("token");if(!u){i("Unauthorized. Please login.");return}mt.get("http://127.0.0.1:8000/api/books/",{headers:{Authorization:`Token ${u}`}}).then(d=>t(d.data)).catch(d=>{console.error("Error fetching books:",d),i("Failed to load books. Please try again later.")})},[]);const c=n.filter(u=>{const d=u.title.toLowerCase().includes(s.toLowerCase()),f=r.length===0||u.tags&&r.some(p=>u.tags.includes(p));return d&&f});return e?_.jsx("div",{children:e}):_.jsxs("div",{className:"main-page",children:[_.jsx("h1",{children:"All Books"}),_.jsxs("div",{className:"filter-search-container",children:[_.jsxs("div",{className:"filter-section",children:[_.jsx("h3",{children:"Filter by Tags"}),l.map(u=>_.jsxs("div",{className:"tag-option",children:[_.jsx("input",{type:"checkbox",value:u,checked:r.includes(u),onChange:d=>{d.target.checked?o(f=>[...f,u]):o(f=>f.filter(p=>p!==u))}}),_.jsx("span",{children:u})]},u))]}),_.jsx("div",{className:"search-section",children:_.jsx("input",{type:"text",placeholder:"Search books...",value:s,onChange:u=>a(u.target.value)})})]}),_.jsx("div",{className:"book-list",children:c.length>0?c.map(u=>_.jsxs("div",{className:"book-item",children:[_.jsx("img",{src:u.cover_image,alt:u.title}),_.jsx("h3",{children:u.title}),_.jsxs("p",{children:["Tags: ",u.tags?u.tags.join(", "):"No Tags"]}),_.jsxs("p",{children:["Publisher: ",u.publisher_name]}),_.jsxs("p",{children:["Remaining Borrows: ",u.remaining_borrows]}),_.jsx(fs,{to:`/book/${u.id}`,children:"Details"})]},u.id)):_.jsx("p",{children:"No books available."})})]})},Tz=()=>{const[n,t]=C.useState(1),[e,i]=C.useState(""),[s,a]=C.useState(""),[r,o]=C.useState(""),[l,c]=C.useState(""),[u,d]=C.useState(""),[f,p]=C.useState(null),[g,v]=C.useState(""),A=Cl(),m=async b=>{var w,T,R;if(b.preventDefault(),r!==l){p("Passwords do not match.");return}try{await mt.post("http://127.0.0.1:8000/api/signup/reader/",{username:e,email:s,password:r}),t(2),v("Verification code sent to your email. Please check your inbox.")}catch(M){console.error("Error Response:",(w=M.response)==null?void 0:w.data),p(((R=(T=M.response)==null?void 0:T.data)==null?void 0:R.error)||"Signup failed.")}},y=async b=>{var w,T,R;b.preventDefault();try{await mt.post("http://127.0.0.1:8000/api/signup/reader/verify/",{email:s,verification_code:u}),v("Your account has been verified and registered as a Reader."),A("/login")}catch(M){console.error("Error Response:",M.response.data),p(((R=(T=(w=M.response)==null?void 0:w.data)==null?void 0:T.non_field_errors)==null?void 0:R[0])||"Verification failed.")}};return _.jsxs("div",{className:"auth-page",children:[_.jsx("h2",{children:"Signup as Reader"}),f&&_.jsx("p",{className:"error",children:f}),n===1&&_.jsxs("form",{onSubmit:m,children:[_.jsxs("div",{children:[_.jsx("label",{children:"Name:"}),_.jsx("input",{type:"text",value:e,onChange:b=>i(b.target.value),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{children:"Email:"}),_.jsx("input",{type:"email",value:s,onChange:b=>a(b.target.value),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{children:"Password:"}),_.jsx("input",{type:"password",value:r,onChange:b=>o(b.target.value),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{children:"Confirm Password:"}),_.jsx("input",{type:"password",value:l,onChange:b=>c(b.target.value),required:!0})]}),_.jsx("button",{type:"submit",children:"Signup"})]}),n===2&&_.jsxs("form",{onSubmit:y,children:[_.jsxs("div",{children:[_.jsx("label",{children:"Verification Code:"}),_.jsx("input",{type:"text",value:u,onChange:b=>d(b.target.value),required:!0})]}),_.jsx("button",{type:"submit",children:"Verify"})]}),g&&_.jsx("p",{className:"message",children:g})]})},_z=()=>{const[n,t]=C.useState(""),[e,i]=C.useState(""),[s,a]=C.useState(""),[r,o]=C.useState(""),[l,c]=C.useState(""),[u,d]=C.useState(null),[f,p]=C.useState(""),g=Cl(),v=async A=>{if(A.preventDefault(),s!==r){d("Passwords do not match.");return}try{await mt.post("http://127.0.0.1:8000/api/signup/publisher/",{name:n,email:e,password:s,id_card:l}),p("Registration submitted for admin verification. Please wait for confirmation."),g("/login")}catch(m){console.error(m),d("Signup failed. Please try again.")}};return _.jsxs("div",{className:"auth-page",children:[_.jsx("h2",{children:"Signup as Publisher"}),u&&_.jsx("p",{className:"error",children:u}),_.jsxs("form",{onSubmit:v,children:[_.jsxs("div",{children:[_.jsx("label",{children:"Name:"}),_.jsx("input",{type:"text",value:n,onChange:A=>t(A.target.value),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{children:"Email:"}),_.jsx("input",{type:"email",value:e,onChange:A=>i(A.target.value),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{children:"Password:"}),_.jsx("input",{type:"password",value:s,onChange:A=>a(A.target.value),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{children:"Confirm Password:"}),_.jsx("input",{type:"password",value:r,onChange:A=>o(A.target.value),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{children:"ID Card:"}),_.jsx("input",{type:"text",value:l,onChange:A=>c(A.target.value),required:!0})]}),_.jsx("button",{type:"submit",children:"Signup"})]}),f&&_.jsx("p",{className:"message",children:f})]})},Cz=()=>{const[n,t]=C.useState(null),[e,i]=C.useState(null),s=Cl();C.useEffect(()=>{localStorage.getItem("role")!=="reader"&&s("/login")},[s]),C.useEffect(()=>{mt.get("http://127.0.0.1:8000/api/account/reader/",{headers:{Authorization:`Token ${localStorage.getItem("token")}`}}).then(r=>t(r.data)).catch(r=>i("Failed to load account data."))},[]);const a=r=>{mt.post(`http://127.0.0.1:8000/api/books/return/${r}/`,{},{headers:{Authorization:`Token ${localStorage.getItem("token")}`}}).then(o=>{t(l=>({...l,borrowed_books:l.borrowed_books.filter(c=>c.id!==r)}))}).catch(o=>{console.error(o),alert("Return failed.")})};return e?_.jsx("p",{children:e}):n?_.jsxs("div",{className:"account-page",children:[_.jsxs("div",{className:"account-left",children:[_.jsx("img",{src:n.user.profile_image||"/reader_default.jpg",alt:"Profile"}),_.jsx("h2",{children:n.user.name}),_.jsxs("p",{children:["Role: ",n.user.role]}),_.jsxs("p",{children:["Registered: ",new Date(n.user.registered_at).toLocaleDateString()]}),_.jsxs("p",{children:["Borrowed Books: ",n.user.borrow_count]}),_.jsx("button",{onClick:()=>{localStorage.removeItem("token"),window.location.href="/"},children:"Logout"})]}),_.jsxs("div",{className:"account-right",children:[_.jsx("h3",{children:"Borrowed Books"}),n.borrowed_books.map(r=>_.jsxs("div",{className:"book-item",children:[_.jsx("img",{src:r.book.cover_image,alt:r.book.title}),_.jsxs("div",{className:"book-info",children:[_.jsx("h4",{children:r.book.title}),_.jsxs("p",{children:["Due: ",new Date(r.due_date).toLocaleDateString()]}),_.jsx("button",{onClick:()=>s(`/read/${r.id}`),children:"Read Book"}),_.jsx("button",{onClick:()=>a(r.id),children:"Return"})]})]},r.id))]})]}):_.jsx("p",{children:"Loading..."})},Rz=()=>{const[n,t]=C.useState(null),[e,i]=C.useState(null),[s,a]=C.useState(!1),[r,o]=C.useState(!1),[l,c]=C.useState([]),[u,d]=C.useState({title:"",description:"",lending_period:14,max_borrowers:1,cover_image:null,pdf_file:null,selectedTags:[],custom_tag:""});Cl(),C.useEffect(()=>{mt.get("http://127.0.0.1:8000/api/account/publisher/",{headers:{Authorization:`Token ${localStorage.getItem("token")}`}}).then(m=>t(m.data)).catch(m=>{var y;console.error("Error fetching account data:",(y=m.response)==null?void 0:y.data),i("Failed to load account data.")})},[]);const f=m=>{mt.delete(`http://127.0.0.1:8000/api/books/remove/${m}/`,{headers:{Authorization:`Token ${localStorage.getItem("token")}`}}).then(y=>{t(b=>({...b,published_books:b.published_books.filter(w=>w.id!==m)}))}).catch(y=>{var b;console.error("Error removing book:",(b=y.response)==null?void 0:b.data),alert("Failed to remove book.")})},p=m=>{m.preventDefault();const y=new FormData;y.append("title",u.title),y.append("description",u.description),y.append("lending_period",u.lending_period),y.append("max_borrowers",u.max_borrowers),y.append("selectedTags",JSON.stringify(u.selectedTags)),u.custom_tag&&y.append("custom_tag",u.custom_tag),u.cover_image&&y.append("cover_image",u.cover_image),u.pdf_file&&y.append("pdf_file",u.pdf_file),mt.post("http://127.0.0.1:8000/api/books/add/",y,{headers:{Authorization:`Token ${localStorage.getItem("token")}`,"Content-Type":"multipart/form-data"}}).then(b=>{t(w=>({...w,published_books:[...w.published_books,b.data]})),a(!1),d({title:"",description:"",lending_period:14,max_borrowers:1,cover_image:null,pdf_file:null,selectedTags:[],custom_tag:""})}).catch(b=>{var w;console.error("Error adding book:",(w=b.response)==null?void 0:w.data),alert("Failed to add book.")})},g=()=>{mt.get("http://127.0.0.1:8000/api/tags/",{headers:{Authorization:`Token ${localStorage.getItem("token")}`}}).then(m=>{c(m.data)}).catch(m=>{var y;console.error("Error fetching tags:",(y=m.response)==null?void 0:y.data),alert("Failed to load tags.")})},v=()=>{g(),o(!0)},A=m=>{let y=[...u.selectedTags];y.includes(m)?y=y.filter(b=>b!==m):y.push(m),d({...u,selectedTags:y})};return e?_.jsx("p",{children:e}):n?_.jsxs("div",{className:"account-page",children:[_.jsxs("div",{className:"account-left",children:[_.jsx("img",{src:n.user.profile_image||"/publisher_default.jpg",alt:"Profile"}),_.jsx("h2",{children:n.user.name}),_.jsxs("p",{children:["Role: ",n.user.role]}),_.jsxs("p",{children:["Registered: ",new Date(n.user.registered_at).toLocaleDateString()]}),_.jsxs("p",{children:["Published Books: ",n.user.book_count]}),_.jsx("button",{onClick:()=>{localStorage.removeItem("token"),window.location.href="/"},children:"Logout"})]}),_.jsxs("div",{className:"account-right",children:[_.jsx("div",{className:"top-controls",children:_.jsx("button",{onClick:()=>a(!0),children:"เพิ่มหนังสือ"})}),_.jsx("h3",{children:"รายการหนังสือที่ลง"}),_.jsx("div",{className:"books-list",children:n.published_books.map(m=>_.jsxs("div",{className:"book-item",children:[_.jsx("img",{src:m.cover_image?"https://csqtsflaklabqsnjlioy.supabase.co/storage/v1/object/public/Bookhub_media/cover/${book.cover_image}":"/cover_default.jpg",alt:m.title}),_.jsxs("div",{className:"book-info",children:[_.jsx("h4",{children:m.title}),_.jsxs("p",{children:["จำนวนถูกยืม: ",m.borrow_count]}),_.jsx("div",{className:"book-actions",children:_.jsx("button",{onClick:()=>f(m.id),children:"ถอนหนังสือ"})})]})]},m.id))})]}),s&&_.jsx("div",{className:"modal",children:_.jsxs("div",{className:"modal-content",children:[_.jsx("h3",{children:"เพิ่มหนังสือใหม่"}),_.jsxs("form",{onSubmit:p,children:[_.jsxs("div",{children:[_.jsx("label",{children:"ชื่อหนังสือ:"}),_.jsx("input",{type:"text",value:u.title,onChange:m=>d({...u,title:m.target.value}),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{children:"คำอธิบาย:"}),_.jsx("textarea",{value:u.description,onChange:m=>d({...u,description:m.target.value}),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{children:"จำนวนสูงสุดที่ยืมได้:"}),_.jsx("input",{type:"number",value:u.max_borrowers,onChange:m=>d({...u,max_borrowers:m.target.value}),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{children:"เวลาที่สามารถยืมได้ (วัน):"}),_.jsx("input",{type:"number",value:u.lending_period,onChange:m=>d({...u,lending_period:m.target.value}),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{children:"แท็กหนังสือ:"}),_.jsxs("div",{className:"tag-selection",children:[_.jsx("button",{type:"button",onClick:v,children:"เลือกแท็กหนังสือ"}),_.jsx("div",{className:"selected-tags",children:u.selectedTags.map((m,y)=>_.jsx("span",{className:"tag-item",children:m},y))})]})]}),_.jsxs("div",{children:[_.jsx("label",{children:"เพิ่มแท็กใหม่ (ถ้าต้องการ):"}),_.jsx("input",{type:"text",value:u.custom_tag,onChange:m=>d({...u,custom_tag:m.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{children:"เพิ่มรูป:"}),_.jsx("input",{type:"file",onChange:m=>d({...u,cover_image:m.target.files[0]}),required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{children:"เพิ่ม PDF:"}),_.jsx("input",{type:"file",onChange:m=>d({...u,pdf_file:m.target.files[0]})})]}),_.jsxs("div",{className:"modal-actions",children:[_.jsx("button",{type:"submit",children:"ยืนยันการลงหนังสือ"}),_.jsx("button",{type:"button",onClick:()=>a(!1),children:"ยกเลิก"})]})]})]})}),r&&_.jsx("div",{className:"modal tag-modal",children:_.jsxs("div",{className:"modal-content",children:[_.jsx("h3",{children:"เลือกแท็กหนังสือ"}),_.jsx("div",{className:"tags-list",children:l.length>0?l.map(m=>_.jsx("div",{className:"tag-item",children:_.jsxs("label",{children:[_.jsx("input",{type:"checkbox",checked:u.selectedTags.includes(m.name),onChange:()=>A(m.name)}),m.name]})},m.id)):_.jsx("p",{children:"No tags available."})}),_.jsx("div",{className:"modal-actions",children:_.jsx("button",{type:"button",onClick:()=>o(!1),children:"ปิด"})})]})})]}):_.jsx("p",{children:"Loading..."})},Mz="modulepreload",Dz=function(n){return"/"+n},DT={},Bp=function(t,e,i){let s=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),o=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));s=Promise.allSettled(e.map(l=>{if(l=Dz(l),l in DT)return;DT[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Mz,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(r){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=r,window.dispatchEvent(o),!o.defaultPrevented)throw r}return s.then(r=>{for(const o of r||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})};var td={};td.d=(n,t)=>{for(var e in t)td.o(t,e)&&!td.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})};td.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var Q=globalThis.pdfjsLib={};td.d(Q,{AbortException:()=>Dl,AnnotationEditorLayer:()=>dA,AnnotationEditorParamsType:()=>W,AnnotationEditorType:()=>nt,AnnotationEditorUIManager:()=>gl,AnnotationLayer:()=>R3,AnnotationMode:()=>Ia,ColorPicker:()=>_g,DOMSVGFactory:()=>vE,DrawLayer:()=>gA,FeatureTest:()=>pn,GlobalWorkerOptions:()=>oa,ImageKind:()=>um,InvalidPDFException:()=>pD,MissingPDFException:()=>Ml,OPS:()=>wi,OutputScale:()=>a0,PDFDataRangeTransport:()=>uL,PDFDateString:()=>hE,PDFWorker:()=>Sc,PasswordResponses:()=>Pz,PermissionFlag:()=>kz,PixelsPerInch:()=>Lr,RenderingCancelledException:()=>cE,TextLayer:()=>k0,UnexpectedResponseException:()=>wy,Util:()=>z,VerbosityLevel:()=>Ay,XfaLayer:()=>dL,build:()=>l3,createValidAbsoluteUrl:()=>Bz,fetchData:()=>Ty,getDocument:()=>JV,getFilenameFromUrl:()=>Yz,getPdfFilenameFromUrl:()=>$z,getXfaPageViewport:()=>Kz,isDataScheme:()=>_y,isPdfFile:()=>uE,noContextMenu:()=>bi,normalizeUnicode:()=>Gz,setLayerDimensions:()=>ml,shadow:()=>dt,version:()=>o3});const an=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),fD=[1,0,0,1,0,0],e0=[.001,0,0,.001,0,0],Lz=1e7,Ov=1.35,Hn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ia={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Oz="pdfjs_internal_editor_",nt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},W={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},kz={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Xe={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},um={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},me={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},lh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Ay={ERRORS:0,WARNINGS:1,INFOS:5},wi={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},Pz={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Sy=Ay.WARNINGS;function Nz(n){Number.isInteger(n)&&(Sy=n)}function Fz(){return Sy}function Ey(n){Sy>=Ay.INFOS&&console.log(`Info: ${n}`)}function at(n){Sy>=Ay.WARNINGS&&console.log(`Warning: ${n}`)}function Nt(n){throw new Error(n)}function Se(n,t){n||Nt(t)}function jz(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Bz(n,t=null,e=null){if(!n)return null;try{if(e&&typeof n=="string"){if(e.addDefaultProtocol&&n.startsWith("www.")){const s=n.match(/\./g);(s==null?void 0:s.length)>=2&&(n=`http://${n}`)}if(e.tryConvertEncoding)try{n=Vz(n)}catch{}}const i=t?new URL(n,t):new URL(n);if(jz(i))return i}catch{}return null}function dt(n,t,e,i=!1){return Object.defineProperty(n,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const Hr=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class n0 extends Hr{constructor(t,e){super(t,"PasswordException"),this.code=e}}class i0 extends Hr{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class pD extends Hr{constructor(t){super(t,"InvalidPDFException")}}class Ml extends Hr{constructor(t){super(t,"MissingPDFException")}}class wy extends Hr{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class Hz extends Hr{constructor(t){super(t,"FormatError")}}class Dl extends Hr{constructor(t){super(t,"AbortException")}}function mD(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Nt("Invalid argument for bytesToString");const t=n.length,e=8192;if(t<e)return String.fromCharCode.apply(null,n);const i=[];for(let s=0;s<t;s+=e){const a=Math.min(s+e,t),r=n.subarray(s,a);i.push(String.fromCharCode.apply(null,r))}return i.join("")}function xy(n){typeof n!="string"&&Nt("Invalid argument for stringToBytes");const t=n.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=n.charCodeAt(i)&255;return e}function Uz(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function oE(n){const t=Object.create(null);for(const[e,i]of n)t[e]=i;return t}function Iz(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function zz(){try{return new Function(""),!0}catch{return!1}}class pn{static get isLittleEndian(){return dt(this,"isLittleEndian",Iz())}static get isEvalSupported(){return dt(this,"isEvalSupported",zz())}static get isOffscreenCanvasSupported(){return dt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?dt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):dt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return dt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const kv=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var va,hm,s0;class z{static makeHexColor(t,e,i){return`#${kv[t]}${kv[e]}${kv[i]}`}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const i=t[0]*e[0]+t[1]*e[2]+e[4],s=t[0]*e[1]+t[1]*e[3]+e[5];return[i,s]}static applyInverseTransform(t,e){const i=e[0]*e[3]-e[1]*e[2],s=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/i,a=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/i;return[s,a]}static getAxialAlignedBoundingBox(t,e){const i=this.applyTransform(t,e),s=this.applyTransform(t.slice(2,4),e),a=this.applyTransform([t[0],t[3]],e),r=this.applyTransform([t[2],t[1]],e);return[Math.min(i[0],s[0],a[0],r[0]),Math.min(i[1],s[1],a[1],r[1]),Math.max(i[0],s[0],a[0],r[0]),Math.max(i[1],s[1],a[1],r[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],i=t[0]*e[0]+t[1]*e[2],s=t[0]*e[1]+t[1]*e[3],a=t[2]*e[0]+t[3]*e[2],r=t[2]*e[1]+t[3]*e[3],o=(i+r)/2,l=Math.sqrt((i+r)**2-4*(i*r-a*s))/2,c=o+l||1,u=o-l||1;return[Math.sqrt(c),Math.sqrt(u)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>s)return null;const a=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),r=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return a>r?null:[i,a,s,r]}static bezierBoundingBox(t,e,i,s,a,r,o,l,c){return c?(c[0]=Math.min(c[0],t,o),c[1]=Math.min(c[1],e,l),c[2]=Math.max(c[2],t,o),c[3]=Math.max(c[3],e,l)):c=[Math.min(t,o),Math.min(e,l),Math.max(t,o),Math.max(e,l)],E(this,va,s0).call(this,t,i,a,o,e,s,r,l,3*(-t+3*(i-a)+o),6*(t-2*i+a),3*(i-t),c),E(this,va,s0).call(this,t,i,a,o,e,s,r,l,3*(-e+3*(s-r)+l),6*(e-2*s+r),3*(s-e),c),c}}va=new WeakSet,hm=function(t,e,i,s,a,r,o,l,c,u){if(c<=0||c>=1)return;const d=1-c,f=c*c,p=f*c,g=d*(d*(d*t+3*c*e)+3*f*i)+p*s,v=d*(d*(d*a+3*c*r)+3*f*o)+p*l;u[0]=Math.min(u[0],g),u[1]=Math.min(u[1],v),u[2]=Math.max(u[2],g),u[3]=Math.max(u[3],v)},s0=function(t,e,i,s,a,r,o,l,c,u,d,f){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&E(this,va,hm).call(this,t,e,i,s,a,r,o,l,-d/u,f);return}const p=u**2-4*d*c;if(p<0)return;const g=Math.sqrt(p),v=2*c;E(this,va,hm).call(this,t,e,i,s,a,r,o,l,(-u+g)/v,f),E(this,va,hm).call(this,t,e,i,s,a,r,o,l,(-u-g)/v,f)},x(z,va);function Vz(n){return decodeURIComponent(escape(n))}let Pv=null,LT=null;function Gz(n){return Pv||(Pv=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,LT=new Map([["ﬅ","ſt"]])),n.replaceAll(Pv,(t,e,i)=>e?e.normalize("NFKC"):LT.get(i))}function qz(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let t=0;t<32;t++)n[t]=Math.floor(Math.random()*255);return mD(n)}const lE="pdfjs_internal_id_",Ms={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function Xz(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(mD(n))}const Ls="http://www.w3.org/2000/svg",Zr=class Zr{};K(Zr,"CSS",96),K(Zr,"PDF",72),K(Zr,"PDF_TO_CSS_UNITS",Zr.CSS/Zr.PDF);let Lr=Zr;async function Ty(n,t="text"){if(vh(n,document.baseURI)){const e=await fetch(n);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(s.response);return}e(s.responseText);return}i(new Error(s.statusText))}},s.send(null)})}class hp{constructor({viewBox:t,scale:e,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:r=!1}){this.viewBox=t,this.scale=e,this.rotation=i,this.offsetX=s,this.offsetY=a;const o=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let c,u,d,f;switch(i%=360,i<0&&(i+=360),i){case 180:c=-1,u=0,d=0,f=1;break;case 90:c=0,u=1,d=1,f=0;break;case 270:c=0,u=-1,d=-1,f=0;break;case 0:c=1,u=0,d=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}r&&(d=-d,f=-f);let p,g,v,A;c===0?(p=Math.abs(l-t[1])*e+s,g=Math.abs(o-t[0])*e+a,v=(t[3]-t[1])*e,A=(t[2]-t[0])*e):(p=Math.abs(o-t[0])*e+s,g=Math.abs(l-t[1])*e+a,v=(t[2]-t[0])*e,A=(t[3]-t[1])*e),this.transform=[c*e,u*e,d*e,f*e,p-c*e*o-d*e*l,g-u*e*o-f*e*l],this.width=v,this.height=A}get rawDims(){const{viewBox:t}=this;return dt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:s=this.offsetY,dontFlip:a=!1}={}){return new hp({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:i,offsetY:s,dontFlip:a})}convertToViewportPoint(t,e){return z.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=z.applyTransform([t[0],t[1]],this.transform),i=z.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){return z.applyInverseTransform([t,e],this.transform)}}class cE extends Hr{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function _y(n){const t=n.length;let e=0;for(;e<t&&n[e].trim()==="";)e++;return n.substring(e,e+5).toLowerCase()==="data:"}function uE(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function Yz(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function $z(n,t="document.pdf"){if(typeof n!="string")return t;if(_y(n))return at('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=e.exec(n);let a=i.exec(s[1])||i.exec(s[2])||i.exec(s[3]);if(a&&(a=a[0],a.includes("%")))try{a=i.exec(decodeURIComponent(a))[0]}catch{}return a||t}class OT{constructor(){K(this,"started",Object.create(null));K(this,"times",[])}time(t){t in this.started&&at(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||at(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:s,end:a}of this.times)t.push(`${i.padEnd(e)} ${a-s}ms
`);return t.join("")}}function vh(n,t){try{const{protocol:e}=t?new URL(n,t):new URL(n);return e==="http:"||e==="https:"}catch{return!1}}function bi(n){n.preventDefault()}function kT(n){console.log("Deprecated API usage: "+n)}var Rd;class hE{static toDateObject(t){if(!t||typeof t!="string")return null;h(this,Rd)||S(this,Rd,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=h(this,Rd).exec(t);if(!e)return null;const i=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let a=parseInt(e[3],10);a=a>=1&&a<=31?a:1;let r=parseInt(e[4],10);r=r>=0&&r<=23?r:0;let o=parseInt(e[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(e[6],10);l=l>=0&&l<=59?l:0;const c=e[7]||"Z";let u=parseInt(e[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(e[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(r+=u,o+=d):c==="+"&&(r-=u,o-=d),new Date(Date.UTC(i,s,a,r,o,l))}}Rd=new WeakMap,x(hE,Rd);function Kz(n,{scale:t=1,rotation:e=0}){const{width:i,height:s}=n.attributes.style,a=[0,0,parseInt(i),parseInt(s)];return new hp({viewBox:a,scale:t,rotation:e})}function dE(n){if(n.startsWith("#")){const t=parseInt(n.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(t=>parseInt(t)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(at(`Not a valid color format: "${n}"`),[0,0,0])}function Wz(n){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of n.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;n.set(e,dE(i))}t.remove()}function qt(n){const{a:t,b:e,c:i,d:s,e:a,f:r}=n.getTransform();return[t,e,i,s,a,r]}function Ds(n){const{a:t,b:e,c:i,d:s,e:a,f:r}=n.getTransform().invertSelf();return[t,e,i,s,a,r]}function ml(n,t,e=!1,i=!0){if(t instanceof hp){const{pageWidth:s,pageHeight:a}=t.rawDims,{style:r}=n,o=pn.isCSSRoundSupported,l=`var(--scale-factor) * ${s}px`,c=`var(--scale-factor) * ${a}px`,u=o?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,d=o?`round(down, ${c}, var(--scale-round-y, 1px))`:`calc(${c})`;!e||t.rotation%180===0?(r.width=u,r.height=d):(r.width=d,r.height=u)}i&&n.setAttribute("data-main-rotation",t.rotation)}class a0{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var za,so,xi,ao,Md,Dd,Rg,gD,mn,yD,vD,dm,bD,o0;const Os=class Os{constructor(t){x(this,mn);x(this,za,null);x(this,so,null);x(this,xi);x(this,ao,null);x(this,Md,null);S(this,xi,t),h(Os,Dd)||S(Os,Dd,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=S(this,za,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=h(this,xi)._uiManager._signal;t.addEventListener("contextmenu",bi,{signal:e}),t.addEventListener("pointerdown",E(Os,Rg,gD),{signal:e});const i=S(this,ao,document.createElement("div"));i.className="buttons",t.append(i);const s=h(this,xi).toolbarPosition;if(s){const{style:a}=t,r=h(this,xi)._uiManager.direction==="ltr"?1-s[0]:s[0];a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return E(this,mn,bD).call(this),t}get div(){return h(this,za)}hide(){var t;h(this,za).classList.add("hidden"),(t=h(this,so))==null||t.hideDropdown()}show(){var t;h(this,za).classList.remove("hidden"),(t=h(this,Md))==null||t.shown()}async addAltText(t){const e=await t.render();E(this,mn,dm).call(this,e),h(this,ao).prepend(e,h(this,mn,o0)),S(this,Md,t)}addColorPicker(t){S(this,so,t);const e=t.renderButton();E(this,mn,dm).call(this,e),h(this,ao).prepend(e,h(this,mn,o0))}remove(){var t;h(this,za).remove(),(t=h(this,so))==null||t.destroy(),S(this,so,null)}};za=new WeakMap,so=new WeakMap,xi=new WeakMap,ao=new WeakMap,Md=new WeakMap,Dd=new WeakMap,Rg=new WeakSet,gD=function(t){t.stopPropagation()},mn=new WeakSet,yD=function(t){h(this,xi)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},vD=function(t){h(this,xi)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},dm=function(t){const e=h(this,xi)._uiManager._signal;t.addEventListener("focusin",E(this,mn,yD).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",E(this,mn,vD).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",bi,{signal:e})},bD=function(){const{editorType:t,_uiManager:e}=h(this,xi),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",h(Os,Dd)[t]),E(this,mn,dm).call(this,i),i.addEventListener("click",s=>{e.delete()},{signal:e._signal}),h(this,ao).append(i)},o0=function(){const t=document.createElement("div");return t.className="divider",t},x(Os,Rg),x(Os,Dd,null);let r0=Os;var Ld,ro,oo,kr,AD,SD,ED;class Qz{constructor(t){x(this,kr);x(this,Ld,null);x(this,ro,null);x(this,oo);S(this,oo,t)}show(t,e,i){const[s,a]=E(this,kr,SD).call(this,e,i),{style:r}=h(this,ro)||S(this,ro,E(this,kr,AD).call(this));t.append(h(this,ro)),r.insetInlineEnd=`${100*s}%`,r.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,ro).remove()}}Ld=new WeakMap,ro=new WeakMap,oo=new WeakMap,kr=new WeakSet,AD=function(){const t=S(this,ro,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",bi,{signal:h(this,oo)._signal});const e=S(this,Ld,document.createElement("div"));return e.className="buttons",t.append(e),E(this,kr,ED).call(this),t},SD=function(t,e){let i=0,s=0;for(const a of t){const r=a.y+a.height;if(r<i)continue;const o=a.x+(e?a.width:0);if(r>i){s=o,i=r;continue}e?o>s&&(s=o):o<s&&(s=o)}return[e?1-s:s,i]},ED=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=h(this,oo)._signal;t.addEventListener("contextmenu",bi,{signal:i}),t.addEventListener("click",()=>{h(this,oo).highlightSelection("floating_button")},{signal:i}),h(this,Ld).append(t)};function wg(n,t,e){for(const i of e)t.addEventListener(i,n[i].bind(n))}function Zz(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var Mg;class Jz{constructor(){x(this,Mg,0)}get id(){return`${Oz}${rn(this,Mg)._++}`}}Mg=new WeakMap;var xc,Od,$e,Tc,fm;const SE=class SE{constructor(){x(this,Tc);x(this,xc,qz());x(this,Od,0);x(this,$e,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=t;const a=s.decode().then(()=>(i.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return dt(this,"_isSVGFittingCanvas",a)}async getFromFile(t){const{lastModified:e,name:i,size:s,type:a}=t;return E(this,Tc,fm).call(this,`${e}_${i}_${s}_${a}`,t)}async getFromUrl(t){return E(this,Tc,fm).call(this,t,t)}async getFromBlob(t,e){const i=await e;return E(this,Tc,fm).call(this,t,i)}async getFromId(t){h(this,$e)||S(this,$e,new Map);const e=h(this,$e).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){h(this,$e)||S(this,$e,new Map);let i=h(this,$e).get(t);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const s=new OffscreenCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),i={bitmap:s.transferToImageBitmap(),id:`image_${h(this,xc)}_${rn(this,Od)._++}`,refCounter:1,isSvg:!1},h(this,$e).set(t,i),h(this,$e).set(i.id,i),i}getSvgUrl(t){const e=h(this,$e).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var s;h(this,$e)||S(this,$e,new Map);const e=h(this,$e).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const a=new OffscreenCanvas(i.width,i.height);a.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=a.convertToBlob()}(s=i.close)==null||s.call(i),e.bitmap=null}isValidId(t){return t.startsWith(`image_${h(this,xc)}_`)}};xc=new WeakMap,Od=new WeakMap,$e=new WeakMap,Tc=new WeakSet,fm=async function(t,e){h(this,$e)||S(this,$e,new Map);let i=h(this,$e).get(t);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${h(this,xc)}_${rn(this,Od)._++}`,refCounter:0,isSvg:!1});let s;if(typeof e=="string"?(i.url=e,s=await Ty(e,"blob")):e instanceof File?s=i.file=e:e instanceof Blob&&(s=e),s.type==="image/svg+xml"){const a=SE._isSVGFittingCanvas,r=new FileReader,o=new Image,l=new Promise((c,u)=>{o.onload=()=>{i.bitmap=o,i.isSvg=!0,c()},r.onload=async()=>{const d=i.svgUrl=r.result;o.src=await a?`${d}#svgView(preserveAspectRatio(none))`:d},o.onerror=r.onerror=u});r.readAsDataURL(s),await l}else i.bitmap=await createImageBitmap(s);i.refCounter=1}catch(s){console.error(s),i=null}return h(this,$e).set(t,i),i&&h(this,$e).set(i.id,i),i};let l0=SE;var _e,Va,kd,Ce;class tV{constructor(t=128){x(this,_e,[]);x(this,Va,!1);x(this,kd);x(this,Ce,-1);S(this,kd,t)}add({cmd:t,undo:e,post:i,mustExec:s,type:a=NaN,overwriteIfSameType:r=!1,keepUndo:o=!1}){if(s&&t(),h(this,Va))return;const l={cmd:t,undo:e,post:i,type:a};if(h(this,Ce)===-1){h(this,_e).length>0&&(h(this,_e).length=0),S(this,Ce,0),h(this,_e).push(l);return}if(r&&h(this,_e)[h(this,Ce)].type===a){o&&(l.undo=h(this,_e)[h(this,Ce)].undo),h(this,_e)[h(this,Ce)]=l;return}const c=h(this,Ce)+1;c===h(this,kd)?h(this,_e).splice(0,1):(S(this,Ce,c),c<h(this,_e).length&&h(this,_e).splice(c)),h(this,_e).push(l)}undo(){if(h(this,Ce)===-1)return;S(this,Va,!0);const{undo:t,post:e}=h(this,_e)[h(this,Ce)];t(),e==null||e(),S(this,Va,!1),S(this,Ce,h(this,Ce)-1)}redo(){if(h(this,Ce)<h(this,_e).length-1){S(this,Ce,h(this,Ce)+1),S(this,Va,!0);const{cmd:t,post:e}=h(this,_e)[h(this,Ce)];t(),e==null||e(),S(this,Va,!1)}}hasSomethingToUndo(){return h(this,Ce)!==-1}hasSomethingToRedo(){return h(this,Ce)<h(this,_e).length-1}destroy(){S(this,_e,null)}}_e=new WeakMap,Va=new WeakMap,kd=new WeakMap,Ce=new WeakMap;var Dg,wD;class dp{constructor(t){x(this,Dg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=pn.platform;for(const[i,s,a={}]of t)for(const r of i){const o=r.startsWith("mac+");e&&o?(this.callbacks.set(r.slice(4),{callback:s,options:a}),this.allKeys.add(r.split("+").at(-1))):!e&&!o&&(this.callbacks.set(r,{callback:s,options:a}),this.allKeys.add(r.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(E(this,Dg,wD).call(this,e));if(!i)return;const{callback:s,options:{bubbles:a=!1,args:r=[],checker:o=null}}=i;o&&!o(t,e)||(s.bind(t,...r,e)(),a||(e.stopPropagation(),e.preventDefault()))}}Dg=new WeakSet,wD=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const Lg=class Lg{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return Wz(t),dt(this,"_colors",t)}convert(t){const e=dE(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,s]of this._colors)if(s.every((a,r)=>a===e[r]))return Lg._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?z.makeHexColor(...e):t}};K(Lg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let c0=Lg;var _c,Dn,ge,Fe,Cc,Ps,Rc,Ti,Ga,Mc,lo,Yi,_i,co,Pd,Nd,Dc,Fd,$i,qa,Lc,Xa,Ki,Og,Ya,jd,$a,uo,Bd,Hd,Re,At,Ns,ho,Ud,Id,Ka,Wi,Fs,zd,ei,U,pm,u0,xD,TD,mm,_D,CD,RD,h0,MD,d0,f0,DD,on,ka,LD,OD,p0,kD,bh,m0;const hc=class hc{constructor(t,e,i,s,a,r,o,l,c,u,d){x(this,U);x(this,_c,new AbortController);x(this,Dn,null);x(this,ge,new Map);x(this,Fe,new Map);x(this,Cc,null);x(this,Ps,null);x(this,Rc,null);x(this,Ti,new tV);x(this,Ga,null);x(this,Mc,0);x(this,lo,new Set);x(this,Yi,null);x(this,_i,null);x(this,co,new Set);x(this,Pd,!1);x(this,Nd,!1);x(this,Dc,!1);x(this,Fd,null);x(this,$i,null);x(this,qa,null);x(this,Lc,null);x(this,Xa,!1);x(this,Ki,null);x(this,Og,new Jz);x(this,Ya,!1);x(this,jd,!1);x(this,$a,null);x(this,uo,null);x(this,Bd,null);x(this,Hd,null);x(this,Re,nt.NONE);x(this,At,new Set);x(this,Ns,null);x(this,ho,null);x(this,Ud,null);x(this,Id,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});x(this,Ka,[0,0]);x(this,Wi,null);x(this,Fs,null);x(this,zd,null);x(this,ei,null);const f=this._signal=h(this,_c).signal;S(this,Fs,t),S(this,zd,e),S(this,Cc,i),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:f}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:f}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:f}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:f}),s._on("setpreference",this.onSetPreference.bind(this),{signal:f}),s._on("switchannotationeditorparams",p=>this.updateParams(p.type,p.value),{signal:f}),E(this,U,_D).call(this),E(this,U,DD).call(this),E(this,U,h0).call(this),S(this,Ps,a.annotationStorage),S(this,Fd,a.filterFactory),S(this,ho,r),S(this,Lc,o||null),S(this,Pd,l),S(this,Nd,c),S(this,Dc,u),S(this,Hd,d||null),this.viewParameters={realScale:Lr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=hc.prototype,e=r=>h(r,Fs).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&r.hasSomethingToControl(),i=(r,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},s=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return dt(this,"_keyboardManager",new dp([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(r,{target:o})=>!(o instanceof HTMLButtonElement)&&h(r,Fs).contains(o)&&!r.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(r,{target:o})=>!(o instanceof HTMLButtonElement)&&h(r,Fs).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}]]))}destroy(){var t,e,i,s;(t=h(this,ei))==null||t.resolve(),S(this,ei,null),(e=h(this,_c))==null||e.abort(),S(this,_c,null),this._signal=null;for(const a of h(this,Fe).values())a.destroy();h(this,Fe).clear(),h(this,ge).clear(),h(this,co).clear(),S(this,Dn,null),h(this,At).clear(),h(this,Ti).destroy(),(i=h(this,Cc))==null||i.destroy(),(s=h(this,Ki))==null||s.hide(),S(this,Ki,null),h(this,$i)&&(clearTimeout(h(this,$i)),S(this,$i,null)),h(this,Wi)&&(clearTimeout(h(this,Wi)),S(this,Wi,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return h(this,Hd)}get useNewAltTextFlow(){return h(this,Nd)}get useNewAltTextWhenAddingImage(){return h(this,Dc)}get hcmFilter(){return dt(this,"hcmFilter",h(this,ho)?h(this,Fd).addHCMFilter(h(this,ho).foreground,h(this,ho).background):"none")}get direction(){return dt(this,"direction",getComputedStyle(h(this,Fs)).direction)}get highlightColors(){return dt(this,"highlightColors",h(this,Lc)?new Map(h(this,Lc).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return dt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){S(this,Bd,t)}editAltText(t,e=!1){var i;(i=h(this,Cc))==null||i.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":S(this,Dc,e);break}}onPageChanging({pageNumber:t}){S(this,Mc,t-1)}focusMainContainer(){h(this,Fs).focus()}findParent(t,e){for(const i of h(this,Fe).values()){const{x:s,y:a,width:r,height:o}=i.div.getBoundingClientRect();if(t>=s&&t<=s+r&&e>=a&&e<=a+o)return i}return null}disableUserSelect(t=!1){h(this,zd).classList.toggle("noUserSelect",t)}addShouldRescale(t){h(this,co).add(t)}removeShouldRescale(t){h(this,co).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Lr.PDF_TO_CSS_UNITS;for(const e of h(this,co))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:r}=e,o=e.toString(),c=E(this,U,pm).call(this,e).closest(".textLayer"),u=this.getSelectionBoxes(c);if(!u)return;e.empty();const d=E(this,U,u0).call(this,c),f=h(this,Re)===nt.NONE,p=()=>{d==null||d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:u,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:r,text:o}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(nt.HIGHLIGHT,p);return}p()}addToAnnotationStorage(t){!t.isEmpty()&&h(this,Ps)&&!h(this,Ps).has(t.id)&&h(this,Ps).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,h(this,Xa)&&(S(this,Xa,!1),E(this,U,mm).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of h(this,At))if(e.div.contains(t)){S(this,uo,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!h(this,uo))return;const[t,e]=h(this,uo);S(this,uo,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){E(this,U,h0).call(this),E(this,U,d0).call(this)}removeEditListeners(){E(this,U,MD).call(this),E(this,U,f0).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of h(this,_i))if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of h(this,_i))if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=h(this,Dn))==null||i.commitOrRemove(),!this.hasSelection)return;const e=[];for(const s of h(this,At)){const a=s.serialize(!0);a&&e.push(a)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const a of e.items)for(const r of h(this,_i))if(r.isHandlingMimeForPasting(a.type)){r.paste(a,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(a){at(`paste: "${a.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const s=this.currentLayer;try{const a=[];for(const l of i){const c=await s.deserialize(l);if(!c)return;a.push(c)}const r=()=>{for(const l of a)E(this,U,p0).call(this,l);E(this,U,m0).call(this,a)},o=()=>{for(const l of a)l.remove()};this.addCommands({cmd:r,undo:o,mustExec:!0})}catch(a){at(`paste: "${a.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,Re)!==nt.NONE&&!this.isEditorHandlingKeyboard&&hc._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,Xa)&&(S(this,Xa,!1),E(this,U,mm).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(E(this,U,CD).call(this),E(this,U,d0).call(this),E(this,U,on).call(this,{isEditing:h(this,Re)!==nt.NONE,isEmpty:E(this,U,bh).call(this),hasSomethingToUndo:h(this,Ti).hasSomethingToUndo(),hasSomethingToRedo:h(this,Ti).hasSomethingToRedo(),hasSelectedEditor:!1})):(E(this,U,RD).call(this),E(this,U,f0).call(this),E(this,U,on).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!h(this,_i)){S(this,_i,t);for(const e of h(this,_i))E(this,U,ka).call(this,e.defaultPropertiesToUpdate)}}getId(){return h(this,Og).id}get currentLayer(){return h(this,Fe).get(h(this,Mc))}getLayer(t){return h(this,Fe).get(t)}get currentPageIndex(){return h(this,Mc)}addLayer(t){h(this,Fe).set(t.pageIndex,t),h(this,Ya)?t.enable():t.disable()}removeLayer(t){h(this,Fe).delete(t.pageIndex)}async updateMode(t,e=null,i=!1){if(h(this,Re)!==t&&!(h(this,ei)&&(await h(this,ei).promise,!h(this,ei)))){if(S(this,ei,Promise.withResolvers()),S(this,Re,t),t===nt.NONE){this.setEditingState(!1),E(this,U,OD).call(this),h(this,ei).resolve();return}this.setEditingState(!0),await E(this,U,LD).call(this),this.unselectAll();for(const s of h(this,Fe).values())s.updateMode(t);if(!e){i&&this.addNewEditorFromKeyboard(),h(this,ei).resolve();return}for(const s of h(this,ge).values())s.annotationElementId===e?(this.setSelected(s),s.enterInEditMode()):s.unselect();h(this,ei).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==h(this,Re)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var i;if(h(this,_i)){switch(t){case W.CREATE:this.currentLayer.addNewEditor();return;case W.HIGHLIGHT_DEFAULT_COLOR:(i=h(this,Bd))==null||i.updateColor(e);break;case W.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,Ud)||S(this,Ud,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const s of h(this,At))s.updateParams(t,e);for(const s of h(this,_i))s.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){var a;for(const r of h(this,ge).values())r.editorType===t&&r.show(e);(((a=h(this,Ud))==null?void 0:a.get(W.HIGHLIGHT_SHOW_ALL))??!0)!==e&&E(this,U,ka).call(this,[[W.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(h(this,jd)!==t){S(this,jd,t);for(const e of h(this,Fe).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const i of h(this,ge).values())i.pageIndex===t&&e.push(i);return e}getEditor(t){return h(this,ge).get(t)}addEditor(t){h(this,ge).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(h(this,$i)&&clearTimeout(h(this,$i)),S(this,$i,setTimeout(()=>{this.focusMainContainer(),S(this,$i,null)},0))),h(this,ge).delete(t.id),this.unselect(t),(!t.annotationElementId||!h(this,lo).has(t.annotationElementId))&&((e=h(this,Ps))==null||e.remove(t.id))}addDeletedAnnotationElement(t){h(this,lo).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return h(this,lo).has(t)}removeDeletedAnnotationElement(t){h(this,lo).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){h(this,Dn)!==t&&(S(this,Dn,t),t&&E(this,U,ka).call(this,t.propertiesToUpdate))}updateUI(t){h(this,U,kD)===t&&E(this,U,ka).call(this,t.propertiesToUpdate)}toggleSelected(t){if(h(this,At).has(t)){h(this,At).delete(t),t.unselect(),E(this,U,on).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,At).add(t),t.select(),E(this,U,ka).call(this,t.propertiesToUpdate),E(this,U,on).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of h(this,At))e!==t&&e.unselect();h(this,At).clear(),h(this,At).add(t),t.select(),E(this,U,ka).call(this,t.propertiesToUpdate),E(this,U,on).call(this,{hasSelectedEditor:!0})}isSelected(t){return h(this,At).has(t)}get firstSelectedEditor(){return h(this,At).values().next().value}unselect(t){t.unselect(),h(this,At).delete(t),E(this,U,on).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,At).size!==0}get isEnterHandled(){return h(this,At).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){h(this,Ti).undo(),E(this,U,on).call(this,{hasSomethingToUndo:h(this,Ti).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:E(this,U,bh).call(this)})}redo(){h(this,Ti).redo(),E(this,U,on).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,Ti).hasSomethingToRedo(),isEmpty:E(this,U,bh).call(this)})}addCommands(t){h(this,Ti).add(t),E(this,U,on).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:E(this,U,bh).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...h(this,At)],e=()=>{for(const s of t)s.remove()},i=()=>{for(const s of t)E(this,U,p0).call(this,s)};this.addCommands({cmd:e,undo:i,mustExec:!0})}commitOrRemove(){var t;(t=h(this,Dn))==null||t.commitOrRemove()}hasSomethingToControl(){return h(this,Dn)||this.hasSelection}selectAll(){for(const t of h(this,At))t.commit();E(this,U,m0).call(this,h(this,ge).values())}unselectAll(){if(!(h(this,Dn)&&(h(this,Dn).commitOrRemove(),h(this,Re)!==nt.NONE))&&this.hasSelection){for(const t of h(this,At))t.unselect();h(this,At).clear(),E(this,U,on).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;h(this,Ka)[0]+=t,h(this,Ka)[1]+=e;const[s,a]=h(this,Ka),r=[...h(this,At)],o=1e3;h(this,Wi)&&clearTimeout(h(this,Wi)),S(this,Wi,setTimeout(()=>{S(this,Wi,null),h(this,Ka)[0]=h(this,Ka)[1]=0,this.addCommands({cmd:()=>{for(const l of r)h(this,ge).has(l.id)&&l.translateInPage(s,a)},undo:()=>{for(const l of r)h(this,ge).has(l.id)&&l.translateInPage(-s,-a)},mustExec:!1})},o));for(const l of r)l.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),S(this,Yi,new Map);for(const t of h(this,At))h(this,Yi).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,Yi))return!1;this.disableUserSelect(!1);const t=h(this,Yi);S(this,Yi,null);let e=!1;for(const[{x:s,y:a,pageIndex:r},o]of t)o.newX=s,o.newY=a,o.newPageIndex=r,e||(e=s!==o.savedX||a!==o.savedY||r!==o.savedPageIndex);if(!e)return!1;const i=(s,a,r,o)=>{if(h(this,ge).has(s.id)){const l=h(this,Fe).get(o);l?s._setParentAndPosition(l,a,r):(s.pageIndex=o,s.x=a,s.y=r)}};return this.addCommands({cmd:()=>{for(const[s,{newX:a,newY:r,newPageIndex:o}]of t)i(s,a,r,o)},undo:()=>{for(const[s,{savedX:a,savedY:r,savedPageIndex:o}]of t)i(s,a,r,o)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(h(this,Yi))for(const i of h(this,Yi).keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||h(this,At).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return h(this,Dn)===t}getActive(){return h(this,Dn)}getMode(){return h(this,Re)}get imageManager(){return dt(this,"imageManager",new l0)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let c=0,u=e.rangeCount;c<u;c++)if(!t.contains(e.getRangeAt(c).commonAncestorContainer))return null;const{x:i,y:s,width:a,height:r}=t.getBoundingClientRect();let o;switch(t.getAttribute("data-main-rotation")){case"90":o=(c,u,d,f)=>({x:(u-s)/r,y:1-(c+d-i)/a,width:f/r,height:d/a});break;case"180":o=(c,u,d,f)=>({x:1-(c+d-i)/a,y:1-(u+f-s)/r,width:d/a,height:f/r});break;case"270":o=(c,u,d,f)=>({x:1-(u+f-s)/r,y:(c-i)/a,width:f/r,height:d/a});break;default:o=(c,u,d,f)=>({x:(c-i)/a,y:(u-s)/r,width:d/a,height:f/r});break}const l=[];for(let c=0,u=e.rangeCount;c<u;c++){const d=e.getRangeAt(c);if(!d.collapsed)for(const{x:f,y:p,width:g,height:v}of d.getClientRects())g===0||v===0||l.push(o(f,p,g,v))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:t,id:e}){(h(this,Rc)||S(this,Rc,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=h(this,Rc))==null||e.delete(t)}renderAnnotationElement(t){var s;const e=(s=h(this,Rc))==null?void 0:s.get(t.data.id);if(!e)return;const i=h(this,Ps).getRawValue(e);i&&(h(this,Re)===nt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}};_c=new WeakMap,Dn=new WeakMap,ge=new WeakMap,Fe=new WeakMap,Cc=new WeakMap,Ps=new WeakMap,Rc=new WeakMap,Ti=new WeakMap,Ga=new WeakMap,Mc=new WeakMap,lo=new WeakMap,Yi=new WeakMap,_i=new WeakMap,co=new WeakMap,Pd=new WeakMap,Nd=new WeakMap,Dc=new WeakMap,Fd=new WeakMap,$i=new WeakMap,qa=new WeakMap,Lc=new WeakMap,Xa=new WeakMap,Ki=new WeakMap,Og=new WeakMap,Ya=new WeakMap,jd=new WeakMap,$a=new WeakMap,uo=new WeakMap,Bd=new WeakMap,Hd=new WeakMap,Re=new WeakMap,At=new WeakMap,Ns=new WeakMap,ho=new WeakMap,Ud=new WeakMap,Id=new WeakMap,Ka=new WeakMap,Wi=new WeakMap,Fs=new WeakMap,zd=new WeakMap,ei=new WeakMap,U=new WeakSet,pm=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},u0=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of h(this,Fe).values())if(i.hasTextLayer(t))return i;return null},xD=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=E(this,U,pm).call(this,t).closest(".textLayer"),s=this.getSelectionBoxes(i);s&&(h(this,Ki)||S(this,Ki,new Qz(this)),h(this,Ki).show(i,s,this.direction==="ltr"))},TD=function(){var a,r,o;const t=document.getSelection();if(!t||t.isCollapsed){h(this,Ns)&&((a=h(this,Ki))==null||a.hide(),S(this,Ns,null),E(this,U,on).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===h(this,Ns))return;const s=E(this,U,pm).call(this,t).closest(".textLayer");if(!s){h(this,Ns)&&((r=h(this,Ki))==null||r.hide(),S(this,Ns,null),E(this,U,on).call(this,{hasSelectedText:!1}));return}if((o=h(this,Ki))==null||o.hide(),S(this,Ns,e),E(this,U,on).call(this,{hasSelectedText:!0}),!(h(this,Re)!==nt.HIGHLIGHT&&h(this,Re)!==nt.NONE)&&(h(this,Re)===nt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),S(this,Xa,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=h(this,Re)===nt.HIGHLIGHT?E(this,U,u0).call(this,s):null;l==null||l.toggleDrawing();const c=new AbortController,u=this.combinedSignal(c),d=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&E(this,U,mm).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}},mm=function(t=""){h(this,Re)===nt.HIGHLIGHT?this.highlightSelection(t):h(this,Pd)&&E(this,U,xD).call(this)},_D=function(){document.addEventListener("selectionchange",E(this,U,TD).bind(this),{signal:this._signal})},CD=function(){if(h(this,qa))return;S(this,qa,new AbortController);const t=this.combinedSignal(h(this,qa));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},RD=function(){var t;(t=h(this,qa))==null||t.abort(),S(this,qa,null)},h0=function(){if(h(this,$a))return;S(this,$a,new AbortController);const t=this.combinedSignal(h(this,$a));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},MD=function(){var t;(t=h(this,$a))==null||t.abort(),S(this,$a,null)},d0=function(){if(h(this,Ga))return;S(this,Ga,new AbortController);const t=this.combinedSignal(h(this,Ga));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},f0=function(){var t;(t=h(this,Ga))==null||t.abort(),S(this,Ga,null)},DD=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},on=function(t){Object.entries(t).some(([i,s])=>h(this,Id)[i]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,Id),t)}),h(this,Re)===nt.HIGHLIGHT&&t.hasSelectedEditor===!1&&E(this,U,ka).call(this,[[W.HIGHLIGHT_FREE,!0]]))},ka=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},LD=async function(){if(!h(this,Ya)){S(this,Ya,!0);const t=[];for(const e of h(this,Fe).values())t.push(e.enable());await Promise.all(t);for(const e of h(this,ge).values())e.enable()}},OD=function(){if(this.unselectAll(),h(this,Ya)){S(this,Ya,!1);for(const t of h(this,Fe).values())t.disable();for(const t of h(this,ge).values())t.disable()}},p0=function(t){const e=h(this,Fe).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},kD=function(){let t=null;for(t of h(this,At));return t},bh=function(){if(h(this,ge).size===0)return!0;if(h(this,ge).size===1)for(const t of h(this,ge).values())return t.isEmpty();return!1},m0=function(t){for(const e of h(this,At))e.unselect();h(this,At).clear();for(const e of t)e.isEmpty()||(h(this,At).add(e),e.select());E(this,U,on).call(this,{hasSelectedEditor:this.hasSelection})},K(hc,"TRANSLATE_SMALL",1),K(hc,"TRANSLATE_BIG",10);let gl=hc;var Me,Qi,Ci,Oc,Zi,Ln,kc,Ji,An,js,fo,ts,Wa,Hi,Ah,gm;const ln=class ln{constructor(t){x(this,Hi);x(this,Me,null);x(this,Qi,!1);x(this,Ci,null);x(this,Oc,null);x(this,Zi,null);x(this,Ln,null);x(this,kc,!1);x(this,Ji,null);x(this,An,null);x(this,js,null);x(this,fo,null);x(this,ts,!1);S(this,An,t),S(this,ts,t._uiManager.useNewAltTextFlow),h(ln,Wa)||S(ln,Wa,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){ln._l10n??(ln._l10n=t)}async render(){const t=S(this,Ci,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=S(this,Oc,document.createElement("span"));t.append(e),h(this,ts)?(t.classList.add("new"),t.setAttribute("data-l10n-id",h(ln,Wa).missing),e.setAttribute("data-l10n-id",h(ln,Wa)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=h(this,An)._uiManager._signal;t.addEventListener("contextmenu",bi,{signal:i}),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:i});const s=a=>{a.preventDefault(),h(this,An)._uiManager.editAltText(h(this,An)),h(this,ts)&&h(this,An)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:h(this,Hi,Ah)}})};return t.addEventListener("click",s,{capture:!0,signal:i}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(S(this,kc,!0),s(a))},{signal:i}),await E(this,Hi,gm).call(this),t}finish(){h(this,Ci)&&(h(this,Ci).focus({focusVisible:h(this,kc)}),S(this,kc,!1))}isEmpty(){return h(this,ts)?h(this,Me)===null:!h(this,Me)&&!h(this,Qi)}hasData(){return h(this,ts)?h(this,Me)!==null||!!h(this,js):this.isEmpty()}get guessedText(){return h(this,js)}async setGuessedText(t){h(this,Me)===null&&(S(this,js,t),S(this,fo,await ln._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),E(this,Hi,gm).call(this))}toggleAltTextBadge(t=!1){var e;if(!h(this,ts)||h(this,Me)){(e=h(this,Ji))==null||e.remove(),S(this,Ji,null);return}if(!h(this,Ji)){const i=S(this,Ji,document.createElement("div"));i.className="noAltTextBadge",h(this,An).div.append(i)}h(this,Ji).classList.toggle("hidden",!t)}serialize(t){let e=h(this,Me);return!t&&h(this,js)===e&&(e=h(this,fo)),{altText:e,decorative:h(this,Qi),guessedText:h(this,js),textWithDisclaimer:h(this,fo)}}get data(){return{altText:h(this,Me),decorative:h(this,Qi)}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:s,cancel:a=!1}){i&&(S(this,js,i),S(this,fo,s)),!(h(this,Me)===t&&h(this,Qi)===e)&&(a||(S(this,Me,t),S(this,Qi,e)),E(this,Hi,gm).call(this))}toggle(t=!1){h(this,Ci)&&(!t&&h(this,Ln)&&(clearTimeout(h(this,Ln)),S(this,Ln,null)),h(this,Ci).disabled=!t)}shown(){h(this,An)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:h(this,Hi,Ah)}})}destroy(){var t,e;(t=h(this,Ci))==null||t.remove(),S(this,Ci,null),S(this,Oc,null),S(this,Zi,null),(e=h(this,Ji))==null||e.remove(),S(this,Ji,null)}};Me=new WeakMap,Qi=new WeakMap,Ci=new WeakMap,Oc=new WeakMap,Zi=new WeakMap,Ln=new WeakMap,kc=new WeakMap,Ji=new WeakMap,An=new WeakMap,js=new WeakMap,fo=new WeakMap,ts=new WeakMap,Wa=new WeakMap,Hi=new WeakSet,Ah=function(){return h(this,Me)&&"added"||h(this,Me)===null&&this.guessedText&&"review"||"missing"},gm=async function(){var s,a,r;const t=h(this,Ci);if(!t)return;if(h(this,ts)){if(t.classList.toggle("done",!!h(this,Me)),t.setAttribute("data-l10n-id",h(ln,Wa)[h(this,Hi,Ah)]),(s=h(this,Oc))==null||s.setAttribute("data-l10n-id",h(ln,Wa)[`${h(this,Hi,Ah)}-label`]),!h(this,Me)){(a=h(this,Zi))==null||a.remove();return}}else{if(!h(this,Me)&&!h(this,Qi)){t.classList.remove("done"),(r=h(this,Zi))==null||r.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=h(this,Zi);if(!e){S(this,Zi,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${h(this,An).id}`;const o=100,l=h(this,An)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(h(this,Ln)),S(this,Ln,null)},{once:!0}),t.addEventListener("mouseenter",()=>{S(this,Ln,setTimeout(()=>{S(this,Ln,null),h(this,Zi).classList.add("show"),h(this,An)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),t.addEventListener("mouseleave",()=>{var c;h(this,Ln)&&(clearTimeout(h(this,Ln)),S(this,Ln,null)),(c=h(this,Zi))==null||c.classList.remove("show")},{signal:l})}h(this,Qi)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=h(this,Me)),e.parentNode||t.append(e);const i=h(this,An).getImageForAltText();i==null||i.setAttribute("aria-describedby",e.id)},x(ln,Wa,null),K(ln,"_l10n",null);let xg=ln;var po,Ri,Vt,Pc,mo,je,go,Qa,Vd,yo,Za,Gd,vo,Bs,es,Nc,Fc,ni,qd,kg,it,g0,Xd,y0,v0,PD,ND,b0,A0,S0,FD,E0,jD,BD,HD,w0,Sh;const vt=class vt{constructor(t){x(this,it);x(this,po,null);x(this,Ri,null);x(this,Vt,null);x(this,Pc,!1);x(this,mo,!1);x(this,je,null);x(this,go,null);x(this,Qa,null);x(this,Vd,"");x(this,yo,!1);x(this,Za,null);x(this,Gd,!1);x(this,vo,!1);x(this,Bs,!1);x(this,es,null);x(this,Nc,0);x(this,Fc,0);x(this,ni,null);K(this,"_editToolbar",null);K(this,"_initialOptions",Object.create(null));K(this,"_initialData",null);K(this,"_isVisible",!0);K(this,"_uiManager",null);K(this,"_focusEventsAllowed",!0);x(this,qd,!1);x(this,kg,vt._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:s,pageX:a,pageY:r}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,s],this.pageTranslation=[a,r];const[o,l]=this.parentDimensions;this.x=t.x/o,this.y=t.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=vt.prototype._resizeWithKeyboard,e=gl.TRANSLATE_SMALL,i=gl.TRANSLATE_BIG;return dt(this,"_resizerKeyboardManager",new dp([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],vt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return dt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new eV({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(vt._l10n??(vt._l10n=t),vt._l10nResizer||(vt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),vt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);vt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Nt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,qd)}set _isDraggable(t){var e;S(this,qd,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,kg)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):E(this,it,Sh).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(h(this,yo)?S(this,yo,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,s){const[a,r]=this.parentDimensions;[i,s]=this.screenToPageTranslation(i,s),this.x=(t+i)/a,this.y=(e+s)/r,this.fixAndSetPosition()}translate(t,e){E(this,it,g0).call(this,this.parentDimensions,t,e)}translateInPage(t,e){h(this,Za)||S(this,Za,[this.x,this.y]),E(this,it,g0).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){h(this,Za)||S(this,Za,[this.x,this.y]);const[i,s]=this.parentDimensions;if(this.x+=t/i,this.y+=e/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:r}=this;const[o,l]=this.getBaseTranslation();a+=o,r+=l,this.div.style.left=`${(100*a).toFixed(2)}%`,this.div.style.top=`${(100*r).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!h(this,Za)&&(h(this,Za)[0]!==this.x||h(this,Za)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=vt,s=i/t,a=i/e;switch(this.rotation){case 90:return[-s,a];case 180:return[s,a];case 270:return[s,-a];default:return[-s,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,i]=this.pageDimensions;let{x:s,y:a,width:r,height:o}=this;if(r*=e,o*=i,s*=e,a*=i,this._mustFixPosition)switch(t){case 0:s=Math.max(0,Math.min(e-r,s)),a=Math.max(0,Math.min(i-o,a));break;case 90:s=Math.max(0,Math.min(e-o,s)),a=Math.min(i,Math.max(r,a));break;case 180:s=Math.min(e,Math.max(r,s)),a=Math.min(i,Math.max(o,a));break;case 270:s=Math.min(e,Math.max(o,s)),a=Math.max(0,Math.min(i-r,a));break}this.x=s/=e,this.y=a/=i;const[l,c]=this.getBaseTranslation();s+=l,a+=c;const{style:u}=this.div;u.left=`${(100*s).toFixed(2)}%`,u.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var i;return E(i=vt,Xd,y0).call(i,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var i;return E(i=vt,Xd,y0).call(i,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(t,e){const[i,s]=this.parentDimensions;this.div.style.width=`${(100*t/i).toFixed(2)}%`,h(this,mo)||(this.div.style.height=`${(100*e/s).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:i}=t,s=i.endsWith("%"),a=!h(this,mo)&&e.endsWith("%");if(s&&a)return;const[r,o]=this.parentDimensions;s||(t.width=`${(100*parseFloat(i)/r).toFixed(2)}%`),!h(this,mo)&&!a&&(t.height=`${(100*parseFloat(e)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=h(this,Vt))==null||t.finish()}async addEditToolbar(){return this._editToolbar||h(this,vo)?this._editToolbar:(this._editToolbar=new r0(this),this.div.append(this._editToolbar.render()),h(this,Vt)&&await this._editToolbar.addAltText(h(this,Vt)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=h(this,Vt))==null||t.destroy())}addContainer(t){var i;const e=(i=this._editToolbar)==null?void 0:i.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){h(this,Vt)||(xg.initialize(vt._l10n),S(this,Vt,new xg(this)),h(this,po)&&(h(this,Vt).data=h(this,po),S(this,po,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=h(this,Vt))==null?void 0:t.data}set altTextData(t){h(this,Vt)&&(h(this,Vt).data=t)}get guessedAltText(){var t;return(t=h(this,Vt))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=h(this,Vt))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=h(this,Vt))==null?void 0:e.serialize(t)}hasAltText(){return!!h(this,Vt)&&!h(this,Vt).isEmpty()}hasAltTextData(){var t;return((t=h(this,Vt))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=h(this,Pc)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),E(this,it,E0).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),wg(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=pn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(S(this,yo,!0),this._isDraggable){E(this,it,FD).call(this,t);return}E(this,it,S0).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){h(this,es)&&clearTimeout(h(this,es)),S(this,es,setTimeout(()=>{var t;S(this,es,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition()}getRect(t,e,i=this.rotation){const s=this.parentScale,[a,r]=this.pageDimensions,[o,l]=this.pageTranslation,c=t/s,u=e/s,d=this.x*a,f=this.y*r,p=this.width*a,g=this.height*r;switch(i){case 0:return[d+c+o,r-f-u-g+l,d+c+p+o,r-f-u+l];case 90:return[d+u+o,r-f+c+l,d+u+g+o,r-f+c+p+l];case 180:return[d-c-p+o,r-f+u+l,d-c+o,r-f+u+g+l];case 270:return[d-u-g+o,r-f-c-p+l,d-u+o,r-f-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,s,a,r]=t,o=a-i,l=r-s;switch(this.rotation){case 0:return[i,e-r,o,l];case 90:return[i,e-s,l,o];case 180:return[a,e-s,o,l];case 270:return[a,e-r,l,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){S(this,vo,!0)}disableEditMode(){S(this,vo,!1)}isInEditMode(){return h(this,vo)}shouldGetKeyboardEvents(){return h(this,Bs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){E(this,it,E0).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){Nt("An editor must be serializable")}static async deserialize(t,e,i){const s=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i});s.rotation=t.rotation,S(s,po,t.accessibilityData);const[a,r]=s.pageDimensions,[o,l,c,u]=s.getRectInCurrentCoords(t.rect,r);return s.x=o/a,s.y=l/r,s.width=c/a,s.height=u/r,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=h(this,Qa))==null||t.abort(),S(this,Qa,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),h(this,es)&&(clearTimeout(h(this,es)),S(this,es,null)),E(this,it,Sh).call(this),this.removeEditToolbar(),h(this,ni)){for(const e of h(this,ni).values())clearTimeout(e);S(this,ni,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(E(this,it,PD).call(this),h(this,je).classList.remove("hidden"),wg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),S(this,go,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=h(this,je).children;if(!h(this,Ri)){S(this,Ri,Array.from(e));const r=E(this,it,jD).bind(this),o=E(this,it,BD).bind(this),l=this._uiManager._signal;for(const c of h(this,Ri)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",r,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",E(this,it,HD).bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",vt._l10nResizer[u])}}const i=h(this,Ri)[0];let s=0;for(const r of e){if(r===i)break;s++}const a=(360-this.rotation+this.parentRotation)%360/90*(h(this,Ri).length/4);if(a!==s){if(a<s)for(let o=0;o<s-a;o++)h(this,je).append(h(this,je).firstChild);else if(a>s)for(let o=0;o<a-s;o++)h(this,je).firstChild.before(h(this,je).lastChild);let r=0;for(const o of e){const c=h(this,Ri)[r++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",vt._l10nResizer[c])}}E(this,it,w0).call(this,0),S(this,Bs,!0),h(this,je).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){h(this,Bs)&&E(this,it,A0).call(this,h(this,Vd),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){E(this,it,Sh).call(this),this.div.focus()}select(){var t,e,i;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,a;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(e=this._editToolbar)==null||e.show(),(i=h(this,Vt))==null||i.toggleAltTextBadge(!1)}unselect(){var t,e,i,s,a;(t=h(this,je))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(a=h(this,Vt))==null||a.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return h(this,Gd)}set isEditing(t){S(this,Gd,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){S(this,mo,!0);const i=t/e,{style:s}=this.div;s.aspectRatio=i,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){h(this,ni)||S(this,ni,new Map);const{action:i}=t;let s=h(this,ni).get(i);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),h(this,ni).delete(i),h(this,ni).size===0&&S(this,ni,null)},vt._telemetryTimeout),h(this,ni).set(i,s);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),S(this,Pc,!1)}disable(){this.div&&(this.div.tabIndex=-1),S(this,Pc,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};po=new WeakMap,Ri=new WeakMap,Vt=new WeakMap,Pc=new WeakMap,mo=new WeakMap,je=new WeakMap,go=new WeakMap,Qa=new WeakMap,Vd=new WeakMap,yo=new WeakMap,Za=new WeakMap,Gd=new WeakMap,vo=new WeakMap,Bs=new WeakMap,es=new WeakMap,Nc=new WeakMap,Fc=new WeakMap,ni=new WeakMap,qd=new WeakMap,kg=new WeakMap,it=new WeakSet,g0=function([t,e],i,s){[i,s]=this.screenToPageTranslation(i,s),this.x+=i/t,this.y+=s/e,this.fixAndSetPosition()},Xd=new WeakSet,y0=function(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},v0=function(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}},PD=function(){if(h(this,je))return;S(this,je,document.createElement("div")),h(this,je).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const s=document.createElement("div");h(this,je).append(s),s.classList.add("resizer",i),s.setAttribute("data-resizer-name",i),s.addEventListener("pointerdown",E(this,it,ND).bind(this,i),{signal:e}),s.addEventListener("contextmenu",bi,{signal:e}),s.tabIndex=-1}this.div.prepend(h(this,je))},ND=function(t,e){var g;e.preventDefault();const{isMac:i}=pn.platform;if(e.button!==0||e.ctrlKey&&i)return;(g=h(this,Vt))==null||g.toggle(!1);const s=this._isDraggable;this._isDraggable=!1;const a=new AbortController,r=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",E(this,it,A0).bind(this,t),{passive:!0,capture:!0,signal:r}),window.addEventListener("contextmenu",bi,{signal:r});const o=this.x,l=this.y,c=this.width,u=this.height,d=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const p=()=>{var v;a.abort(),this.parent.togglePointerEvents(!0),(v=h(this,Vt))==null||v.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=d,this.div.style.cursor=f,E(this,it,b0).call(this,o,l,c,u)};window.addEventListener("pointerup",p,{signal:r}),window.addEventListener("blur",p,{signal:r})},b0=function(t,e,i,s){const a=this.x,r=this.y,o=this.width,l=this.height;a===t&&r===e&&o===i&&l===s||this.addCommands({cmd:()=>{this.width=o,this.height=l,this.x=a,this.y=r;const[c,u]=this.parentDimensions;this.setDims(c*o,u*l),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=s,this.x=t,this.y=e;const[c,u]=this.parentDimensions;this.setDims(c*i,u*s),this.fixAndSetPosition()},mustExec:!0})},A0=function(t,e){const[i,s]=this.parentDimensions,a=this.x,r=this.y,o=this.width,l=this.height,c=vt.MIN_SIZE/i,u=vt.MIN_SIZE/s,d=P=>Math.round(P*1e4)/1e4,f=E(this,it,v0).call(this,this.rotation),p=(P,j)=>[f[0]*P+f[2]*j,f[1]*P+f[3]*j],g=E(this,it,v0).call(this,360-this.rotation),v=(P,j)=>[g[0]*P+g[2]*j,g[1]*P+g[3]*j];let A,m,y=!1,b=!1;switch(t){case"topLeft":y=!0,A=(P,j)=>[0,0],m=(P,j)=>[P,j];break;case"topMiddle":A=(P,j)=>[P/2,0],m=(P,j)=>[P/2,j];break;case"topRight":y=!0,A=(P,j)=>[P,0],m=(P,j)=>[0,j];break;case"middleRight":b=!0,A=(P,j)=>[P,j/2],m=(P,j)=>[0,j/2];break;case"bottomRight":y=!0,A=(P,j)=>[P,j],m=(P,j)=>[0,0];break;case"bottomMiddle":A=(P,j)=>[P/2,j],m=(P,j)=>[P/2,0];break;case"bottomLeft":y=!0,A=(P,j)=>[0,j],m=(P,j)=>[P,0];break;case"middleLeft":b=!0,A=(P,j)=>[0,j/2],m=(P,j)=>[P,j/2];break}const w=A(o,l),T=m(o,l);let R=p(...T);const M=d(a+R[0]),D=d(r+R[1]);let O=1,k=1,[B,$]=this.screenToPageTranslation(e.movementX,e.movementY);if([B,$]=v(B/i,$/s),y){const P=Math.hypot(o,l);O=k=Math.max(Math.min(Math.hypot(T[0]-w[0]-B,T[1]-w[1]-$)/P,1/o,1/l),c/o,u/l)}else b?O=Math.max(c,Math.min(1,Math.abs(T[0]-w[0]-B)))/o:k=Math.max(u,Math.min(1,Math.abs(T[1]-w[1]-$)))/l;const X=d(o*O),V=d(l*k);R=p(...m(X,V));const Y=M-R[0],F=D-R[1];this.width=X,this.height=V,this.x=Y,this.y=F,this.setDims(i*X,s*V),this.fixAndSetPosition()},S0=function(t){const{isMac:e}=pn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},FD=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const i=new AbortController,s=this._uiManager.combinedSignal(i);if(e){this.div.classList.add("moving"),S(this,Nc,t.clientX),S(this,Fc,t.clientY);const r=o=>{const{clientX:l,clientY:c}=o,[u,d]=this.screenToPageTranslation(l-h(this,Nc),c-h(this,Fc));S(this,Nc,l),S(this,Fc,c),this._uiManager.dragSelectedEditors(u,d)};window.addEventListener("pointermove",r,{passive:!0,capture:!0,signal:s})}const a=()=>{i.abort(),e&&this.div.classList.remove("moving"),S(this,yo,!1),this._uiManager.endDragSession()||E(this,it,S0).call(this,t)};window.addEventListener("pointerup",a,{signal:s}),window.addEventListener("blur",a,{signal:s})},E0=function(){if(h(this,Qa)||!this.div)return;S(this,Qa,new AbortController);const t=this._uiManager.combinedSignal(h(this,Qa));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},jD=function(t){vt._resizerKeyboardManager.exec(this,t)},BD=function(t){var e;h(this,Bs)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==h(this,je)&&E(this,it,Sh).call(this)},HD=function(t){S(this,Vd,h(this,Bs)?t:"")},w0=function(t){if(h(this,Ri))for(const e of h(this,Ri))e.tabIndex=t},Sh=function(){if(S(this,Bs,!1),E(this,it,w0).call(this,-1),h(this,go)){const{savedX:t,savedY:e,savedWidth:i,savedHeight:s}=h(this,go);E(this,it,b0).call(this,t,e,i,s),S(this,go,null)}},x(vt,Xd),K(vt,"_l10n",null),K(vt,"_l10nResizer",null),K(vt,"_borderLineWidth",-1),K(vt,"_colorManager",new c0),K(vt,"_zIndex",1),K(vt,"_telemetryTimeout",1e3);let Et=vt;class eV extends Et{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const PT=3285377520,Jn=4294901760,qi=65535;class UD{constructor(t){this.h1=t?t&4294967295:PT,this.h2=t?t&4294967295:PT}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let v=0,A=t.length;v<A;v++){const m=t.charCodeAt(v);m<=255?e[i++]=m:(e[i++]=m>>>8,e[i++]=m&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=i>>2,a=i-s*4,r=new Uint32Array(e.buffer,0,s);let o=0,l=0,c=this.h1,u=this.h2;const d=3432918353,f=461845907,p=d&qi,g=f&qi;for(let v=0;v<s;v++)v&1?(o=r[v],o=o*d&Jn|o*p&qi,o=o<<15|o>>>17,o=o*f&Jn|o*g&qi,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=r[v],l=l*d&Jn|l*p&qi,l=l<<15|l>>>17,l=l*f&Jn|l*g&qi,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(o=0,a){case 3:o^=e[s*4+2]<<16;case 2:o^=e[s*4+1]<<8;case 1:o^=e[s*4],o=o*d&Jn|o*p&qi,o=o<<15|o>>>17,o=o*f&Jn|o*g&qi,s&1?c^=o:u^=o}this.h1=c,this.h2=u}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Jn|t*36045&qi,e=e*4283543511&Jn|((e<<16|t>>>16)*2950163797&Jn)>>>16,t^=e>>>1,t=t*444984403&Jn|t*60499&qi,e=e*3301882366&Jn|((e<<16|t>>>16)*3120437893&Jn)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const x0=Object.freeze({map:null,hash:"",transfer:void 0});var bo,Ao,De,Pg,ID;class fE{constructor(){x(this,Pg);x(this,bo,!1);x(this,Ao,null);x(this,De,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=h(this,De).get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return h(this,De).get(t)}remove(t){if(h(this,De).delete(t),h(this,De).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of h(this,De).values())if(e instanceof Et)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=h(this,De).get(t);let s=!1;if(i!==void 0)for(const[a,r]of Object.entries(e))i[a]!==r&&(s=!0,i[a]=r);else s=!0,h(this,De).set(t,e);s&&E(this,Pg,ID).call(this),e instanceof Et&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return h(this,De).has(t)}getAll(){return h(this,De).size>0?oE(h(this,De)):null}setAll(t){for(const[e,i]of Object.entries(t))this.setValue(e,i)}get size(){return h(this,De).size}resetModified(){h(this,bo)&&(S(this,bo,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new zD(this)}get serializable(){if(h(this,De).size===0)return x0;const t=new Map,e=new UD,i=[],s=Object.create(null);let a=!1;for(const[r,o]of h(this,De)){const l=o instanceof Et?o.serialize(!1,s):o;l&&(t.set(r,l),e.update(`${r}:${JSON.stringify(l)}`),a||(a=!!l.bitmap))}if(a)for(const r of t.values())r.bitmap&&i.push(r.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:x0}get editorStats(){let t=null;const e=new Map;for(const i of h(this,De).values()){if(!(i instanceof Et))continue;const s=i.telemetryFinalData;if(!s)continue;const{type:a}=s;e.has(a)||e.set(a,Object.getPrototypeOf(i).constructor),t||(t=Object.create(null));const r=t[a]||(t[a]=new Map);for(const[o,l]of Object.entries(s)){if(o==="type")continue;let c=r.get(o);c||(c=new Map,r.set(o,c));const u=c.get(l)??0;c.set(l,u+1)}}for(const[i,s]of e)t[i]=s.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){S(this,Ao,null)}get modifiedIds(){if(h(this,Ao))return h(this,Ao);const t=[];for(const e of h(this,De).values())!(e instanceof Et)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return S(this,Ao,{ids:new Set(t),hash:t.join(",")})}}bo=new WeakMap,Ao=new WeakMap,De=new WeakMap,Pg=new WeakSet,ID=function(){h(this,bo)||(S(this,bo,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Yd;class zD extends fE{constructor(e){super();x(this,Yd);const{map:i,hash:s,transfer:a}=e.serializable,r=structuredClone(i,a?{transfer:a}:null);S(this,Yd,{map:r,hash:s,transfer:a})}get print(){Nt("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,Yd)}get modifiedIds(){return dt(this,"modifiedIds",{ids:new Set,hash:""})}}Yd=new WeakMap;var jc;class nV{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){x(this,jc,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),h(this,jc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||h(this,jc).has(t.loadedName))){if(Se(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=t,r=new FontFace(i,s,a);this.addNativeFontFace(r);try{await r.load(),h(this,jc).add(i),e==null||e(t)}catch{at(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(r)}return}Nt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(s){throw at(`Failed to load font '${i.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const s=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return dt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(an||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),dt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(Se(!s.done,"completeRequest() cannot be called twice."),s.done=!0;i.length>0&&i[0].done;){const a=i.shift();setTimeout(a.callback,0)}}const{loadingRequests:i}=this,s={done:!1,complete:e,callback:t};return i.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return dt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(w,T){return w.charCodeAt(T)<<24|w.charCodeAt(T+1)<<16|w.charCodeAt(T+2)<<8|w.charCodeAt(T+3)&255}function s(w,T,R,M){const D=w.substring(0,T),O=w.substring(T+R);return D+M+O}let a,r;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function u(w,T){if(++c>30){at("Load test font never loaded."),T();return}if(l.font="30px "+w,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(u.bind(null,w,T))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=s(f,976,d.length,d);const g=16,v=1482184792;let A=i(f,g);for(a=0,r=d.length-3;a<r;a+=4)A=A-v+i(d,a)|0;a<d.length&&(A=A-v+i(d+"XXX",a)|0),f=s(f,g,4,Uz(A));const m=`url(data:font/opentype;base64,${btoa(f)});`,y=`@font-face {font-family:"${d}";src:${m}}`;this.insertRule(y);const b=this._document.createElement("div");b.style.visibility="hidden",b.style.width=b.style.height="10px",b.style.position="absolute",b.style.top=b.style.left="0px";for(const w of[t.loadedName,d]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=w,b.append(T)}this._document.body.append(b),u(d,()=>{b.remove(),e.complete()})}}jc=new WeakMap;class iV{constructor(t,{disableFontFace:e=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const s in t)this[s]=t[s];this.disableFontFace=e===!0,this._inspectFont=i}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${Xz(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let i;try{i=t.get(this.loadedName+"_path_"+e)}catch(a){at(`getPathGenerator - ignoring character: "${a}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[e]=function(a,r){};const s=[];for(let a=0,r=i.length;a<r;)switch(i[a++]){case Ms.BEZIER_CURVE_TO:{const[o,l,c,u,d,f]=i.slice(a,a+6);s.push(p=>p.bezierCurveTo(o,l,c,u,d,f)),a+=6}break;case Ms.MOVE_TO:{const[o,l]=i.slice(a,a+2);s.push(c=>c.moveTo(o,l)),a+=2}break;case Ms.LINE_TO:{const[o,l]=i.slice(a,a+2);s.push(c=>c.lineTo(o,l)),a+=2}break;case Ms.QUADRATIC_CURVE_TO:{const[o,l,c,u]=i.slice(a,a+4);s.push(d=>d.quadraticCurveTo(o,l,c,u)),a+=4}break;case Ms.RESTORE:s.push(o=>o.restore());break;case Ms.SAVE:s.push(o=>o.save());break;case Ms.SCALE:Se(s.length===2,"Scale command is only valid at the third position.");break;case Ms.TRANSFORM:{const[o,l,c,u,d,f]=i.slice(a,a+6);s.push(p=>p.transform(o,l,c,u,d,f)),a+=6}break;case Ms.TRANSLATE:{const[o,l]=i.slice(a,a+2);s.push(c=>c.translate(o,l)),a+=2}break}return this.compiledGlyphs[e]=function(r,o){s[0](r),s[1](r),r.scale(o,-o);for(let l=2,c=s.length;l<c;l++)s[l](r)}}}var $d;class VD{constructor({enableHWA:t=!1}){x(this,$d,!1);S(this,$d,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!h(this,$d)})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Nt("Abstract method `_createCanvas` called.")}}$d=new WeakMap;class sV extends VD{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class GD{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Nt("Abstract method `_fetch` called.")}}class qD extends GD{async _fetch(t){const e=await Ty(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):xy(e)}}class XD{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,s,a){return"none"}destroy(t=!1){}}var So,Eo,ns,Hs,Ke,Ng,wo,I,Ye,Ul,Il,ym,zl,YD,T0,Vl,Eh,wh,_0,xh;class aV extends XD{constructor({docId:e,ownerDocument:i=globalThis.document}){super();x(this,I);x(this,So);x(this,Eo);x(this,ns);x(this,Hs);x(this,Ke);x(this,Ng);x(this,wo,0);S(this,Hs,e),S(this,Ke,i)}addFilter(e){if(!e)return"none";let i=h(this,I,Ye).get(e);if(i)return i;const[s,a,r]=E(this,I,ym).call(this,e),o=e.length===1?s:`${s}${a}${r}`;if(i=h(this,I,Ye).get(o),i)return h(this,I,Ye).set(e,i),i;const l=`g_${h(this,Hs)}_transfer_map_${rn(this,wo)._++}`,c=E(this,I,zl).call(this,l);h(this,I,Ye).set(e,c),h(this,I,Ye).set(o,c);const u=E(this,I,Vl).call(this,l);return E(this,I,wh).call(this,s,a,r,u),c}addHCMFilter(e,i){var g;const s=`${e}-${i}`,a="base";let r=h(this,I,Ul).get(a);if((r==null?void 0:r.key)===s||(r?((g=r.filter)==null||g.remove(),r.key=s,r.url="none",r.filter=null):(r={key:s,url:"none",filter:null},h(this,I,Ul).set(a,r)),!e||!i))return r.url;const o=E(this,I,xh).call(this,e);e=z.makeHexColor(...o);const l=E(this,I,xh).call(this,i);if(i=z.makeHexColor(...l),h(this,I,Il).style.color="",e==="#000000"&&i==="#ffffff"||e===i)return r.url;const c=new Array(256);for(let v=0;v<=255;v++){const A=v/255;c[v]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const u=c.join(","),d=`g_${h(this,Hs)}_hcm_filter`,f=r.filter=E(this,I,Vl).call(this,d);E(this,I,wh).call(this,u,u,u,f),E(this,I,T0).call(this,f);const p=(v,A)=>{const m=o[v]/255,y=l[v]/255,b=new Array(A+1);for(let w=0;w<=A;w++)b[w]=m+w/A*(y-m);return b.join(",")};return E(this,I,wh).call(this,p(0,5),p(1,5),p(2,5),f),r.url=E(this,I,zl).call(this,d),r.url}addAlphaFilter(e){let i=h(this,I,Ye).get(e);if(i)return i;const[s]=E(this,I,ym).call(this,[e]),a=`alpha_${s}`;if(i=h(this,I,Ye).get(a),i)return h(this,I,Ye).set(e,i),i;const r=`g_${h(this,Hs)}_alpha_map_${rn(this,wo)._++}`,o=E(this,I,zl).call(this,r);h(this,I,Ye).set(e,o),h(this,I,Ye).set(a,o);const l=E(this,I,Vl).call(this,r);return E(this,I,_0).call(this,s,l),o}addLuminosityFilter(e){let i=h(this,I,Ye).get(e||"luminosity");if(i)return i;let s,a;if(e?([s]=E(this,I,ym).call(this,[e]),a=`luminosity_${s}`):a="luminosity",i=h(this,I,Ye).get(a),i)return h(this,I,Ye).set(e,i),i;const r=`g_${h(this,Hs)}_luminosity_map_${rn(this,wo)._++}`,o=E(this,I,zl).call(this,r);h(this,I,Ye).set(e,o),h(this,I,Ye).set(a,o);const l=E(this,I,Vl).call(this,r);return E(this,I,YD).call(this,l),e&&E(this,I,_0).call(this,s,l),o}addHighlightHCMFilter(e,i,s,a,r){var y;const o=`${i}-${s}-${a}-${r}`;let l=h(this,I,Ul).get(e);if((l==null?void 0:l.key)===o||(l?((y=l.filter)==null||y.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},h(this,I,Ul).set(e,l)),!i||!s))return l.url;const[c,u]=[i,s].map(E(this,I,xh).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,g]=[a,r].map(E(this,I,xh).bind(this));f<d&&([d,f,p,g]=[f,d,g,p]),h(this,I,Il).style.color="";const v=(b,w,T)=>{const R=new Array(256),M=(f-d)/T,D=b/255,O=(w-b)/(255*T);let k=0;for(let B=0;B<=T;B++){const $=Math.round(d+B*M),X=D+B*O;for(let V=k;V<=$;V++)R[V]=X;k=$+1}for(let B=k;B<256;B++)R[B]=R[k-1];return R.join(",")},A=`g_${h(this,Hs)}_hcm_${e}_filter`,m=l.filter=E(this,I,Vl).call(this,A);return E(this,I,T0).call(this,m),E(this,I,wh).call(this,v(p[0],g[0],5),v(p[1],g[1],5),v(p[2],g[2],5),m),l.url=E(this,I,zl).call(this,A),l.url}destroy(e=!1){e&&h(this,I,Ul).size!==0||(h(this,ns)&&(h(this,ns).parentNode.parentNode.remove(),S(this,ns,null)),h(this,Eo)&&(h(this,Eo).clear(),S(this,Eo,null)),S(this,wo,0))}}So=new WeakMap,Eo=new WeakMap,ns=new WeakMap,Hs=new WeakMap,Ke=new WeakMap,Ng=new WeakMap,wo=new WeakMap,I=new WeakSet,Ye=function(){return h(this,Eo)||S(this,Eo,new Map)},Ul=function(){return h(this,Ng)||S(this,Ng,new Map)},Il=function(){if(!h(this,ns)){const e=h(this,Ke).createElement("div"),{style:i}=e;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const s=h(this,Ke).createElementNS(Ls,"svg");s.setAttribute("width",0),s.setAttribute("height",0),S(this,ns,h(this,Ke).createElementNS(Ls,"defs")),e.append(s),s.append(h(this,ns)),h(this,Ke).body.append(e)}return h(this,ns)},ym=function(e){if(e.length===1){const c=e[0],u=new Array(256);for(let f=0;f<256;f++)u[f]=c[f]/255;const d=u.join(",");return[d,d,d]}const[i,s,a]=e,r=new Array(256),o=new Array(256),l=new Array(256);for(let c=0;c<256;c++)r[c]=i[c]/255,o[c]=s[c]/255,l[c]=a[c]/255;return[r.join(","),o.join(","),l.join(",")]},zl=function(e){if(h(this,So)===void 0){S(this,So,"");const i=h(this,Ke).URL;i!==h(this,Ke).baseURI&&(_y(i)?at('#createUrl: ignore "data:"-URL for performance reasons.'):S(this,So,i.split("#",1)[0]))}return`url(${h(this,So)}#${e})`},YD=function(e){const i=h(this,Ke).createElementNS(Ls,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(i)},T0=function(e){const i=h(this,Ke).createElementNS(Ls,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(i)},Vl=function(e){const i=h(this,Ke).createElementNS(Ls,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",e),h(this,I,Il).append(i),i},Eh=function(e,i,s){const a=h(this,Ke).createElementNS(Ls,i);a.setAttribute("type","discrete"),a.setAttribute("tableValues",s),e.append(a)},wh=function(e,i,s,a){const r=h(this,Ke).createElementNS(Ls,"feComponentTransfer");a.append(r),E(this,I,Eh).call(this,r,"feFuncR",e),E(this,I,Eh).call(this,r,"feFuncG",i),E(this,I,Eh).call(this,r,"feFuncB",s)},_0=function(e,i){const s=h(this,Ke).createElementNS(Ls,"feComponentTransfer");i.append(s),E(this,I,Eh).call(this,s,"feFuncA",e)},xh=function(e){return h(this,I,Il).style.color=e,dE(getComputedStyle(h(this,I,Il)).getPropertyValue("color"))};class $D{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Nt("Abstract method `_fetch` called.")}}class KD extends $D{async _fetch(t){const e=await Ty(t,"arraybuffer");return new Uint8Array(e)}}if(an){var C0=Promise.withResolvers(),ed=null;(async()=>{const t=await Bp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await Bp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Bp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await Bp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let a,r;return new Map(Object.entries({fs:t,http:e,https:i,url:s,canvas:a,path2d:r}))})().then(t=>{ed=t,C0.resolve()},t=>{at(`loadPackages: ${t}`),ed=new Map,C0.resolve()})}class Or{static get promise(){return C0.promise}static get(t){return ed==null?void 0:ed.get(t)}}async function WD(n){const e=await Or.get("fs").promises.readFile(n);return new Uint8Array(e)}class rV extends XD{}class oV extends VD{_createCanvas(t,e){return Or.get("canvas").createCanvas(t,e)}}class lV extends GD{async _fetch(t){return WD(t)}}class cV extends $D{async _fetch(t){return WD(t)}}const cn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function R0(n,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],e,i),n.clip(s)}class pE{getPattern(){Nt("Abstract method `getPattern` called.")}}class uV extends pE{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,s){let a;if(s===cn.STROKE||s===cn.FILL){const r=e.current.getClippedPathBoundingBox(s,qt(t))||[0,0,0,0],o=Math.ceil(r[2]-r[0])||1,l=Math.ceil(r[3]-r[1])||1,c=e.cachedCanvases.getCanvas("pattern",o,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-r[0],-r[1]),i=z.transform(i,[1,0,0,1,r[0],r[1]]),u.transform(...e.baseTransform),this.matrix&&u.transform(...this.matrix),R0(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),a=t.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(i);a.setTransform(d)}else R0(t,this._bbox),a=this._createGradient(t);return a}}function Nv(n,t,e,i,s,a,r,o){const l=t.coords,c=t.colors,u=n.data,d=n.width*4;let f;l[e+1]>l[i+1]&&(f=e,e=i,i=f,f=a,a=r,r=f),l[i+1]>l[s+1]&&(f=i,i=s,s=f,f=r,r=o,o=f),l[e+1]>l[i+1]&&(f=e,e=i,i=f,f=a,a=r,r=f);const p=(l[e]+t.offsetX)*t.scaleX,g=(l[e+1]+t.offsetY)*t.scaleY,v=(l[i]+t.offsetX)*t.scaleX,A=(l[i+1]+t.offsetY)*t.scaleY,m=(l[s]+t.offsetX)*t.scaleX,y=(l[s+1]+t.offsetY)*t.scaleY;if(g>=y)return;const b=c[a],w=c[a+1],T=c[a+2],R=c[r],M=c[r+1],D=c[r+2],O=c[o],k=c[o+1],B=c[o+2],$=Math.round(g),X=Math.round(y);let V,Y,F,P,j,Z,ot,ne;for(let Ct=$;Ct<=X;Ct++){if(Ct<A){const yt=Ct<g?0:(g-Ct)/(g-A);V=p-(p-v)*yt,Y=b-(b-R)*yt,F=w-(w-M)*yt,P=T-(T-D)*yt}else{let yt;Ct>y?yt=1:A===y?yt=0:yt=(A-Ct)/(A-y),V=v-(v-m)*yt,Y=R-(R-O)*yt,F=M-(M-k)*yt,P=D-(D-B)*yt}let bt;Ct<g?bt=0:Ct>y?bt=1:bt=(g-Ct)/(g-y),j=p-(p-m)*bt,Z=b-(b-O)*bt,ot=w-(w-k)*bt,ne=T-(T-B)*bt;const Wt=Math.round(Math.min(V,j)),Ge=Math.round(Math.max(V,j));let ie=d*Ct+Wt*4;for(let yt=Wt;yt<=Ge;yt++)bt=(V-yt)/(V-j),bt<0?bt=0:bt>1&&(bt=1),u[ie++]=Y-(Y-Z)*bt|0,u[ie++]=F-(F-ot)*bt|0,u[ie++]=P-(P-ne)*bt|0,u[ie++]=255}}function hV(n,t,e){const i=t.coords,s=t.colors;let a,r;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(i.length/o)-1,c=o-1;for(a=0;a<l;a++){let u=a*o;for(let d=0;d<c;d++,u++)Nv(n,e,i[u],i[u+1],i[u+o],s[u],s[u+1],s[u+o]),Nv(n,e,i[u+o+1],i[u+1],i[u+o],s[u+o+1],s[u+1],s[u+o])}break;case"triangles":for(a=0,r=i.length;a<r;a+=3)Nv(n,e,i[a],i[a+1],i[a+2],s[a],s[a+1],s[a+2]);break;default:throw new Error("illegal figure")}}class dV extends pE{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,i){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,u=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*t[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(u*t[1]*1.1)),3e3),p=c/d,g=u/f,v={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/p,scaleY:1/g},A=d+2*2,m=f+2*2,y=i.getCanvas("mesh",A,m),b=y.context,w=b.createImageData(d,f);if(e){const R=w.data;for(let M=0,D=R.length;M<D;M+=4)R[M]=e[0],R[M+1]=e[1],R[M+2]=e[2],R[M+3]=255}for(const R of this._figures)hV(w,R,v);return b.putImageData(w,2,2),{canvas:y.canvas,offsetX:o-2*p,offsetY:l-2*g,scaleX:p,scaleY:g}}getPattern(t,e,i,s){R0(t,this._bbox);let a;if(s===cn.SHADING)a=z.singularValueDecompose2dScale(qt(t));else if(a=z.singularValueDecompose2dScale(e.baseTransform),this.matrix){const o=z.singularValueDecompose2dScale(this.matrix);a=[a[0]*o[0],a[1]*o[1]]}const r=this._createMeshCanvas(a,s===cn.SHADING?null:this._background,e.cachedCanvases);return s!==cn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(r.offsetX,r.offsetY),t.scale(r.scaleX,r.scaleY),t.createPattern(r.canvas,"no-repeat")}}class fV extends pE{getPattern(){return"hotpink"}}function pV(n){switch(n[0]){case"RadialAxial":return new uV(n);case"Mesh":return new dV(n);case"Dummy":return new fV}throw new Error(`Unknown IR type: ${n[0]}`)}const NT={COLORED:1,UNCOLORED:2},Fg=class Fg{constructor(t,e,i,s,a){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=i,this.canvasGraphicsFactory=s,this.baseTransform=a}createPatternCanvas(t){const{bbox:e,operatorList:i,paintType:s,tilingType:a,color:r,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),Ey("TilingType: "+a);const u=e[0],d=e[1],f=e[2],p=e[3],g=f-u,v=p-d,A=z.singularValueDecompose2dScale(this.matrix),m=z.singularValueDecompose2dScale(this.baseTransform),y=A[0]*m[0],b=A[1]*m[1];let w=g,T=v,R=!1,M=!1;const D=Math.ceil(l*y),O=Math.ceil(c*b),k=Math.ceil(g*y),B=Math.ceil(v*b);D>=k?w=l:R=!0,O>=B?T=c:M=!0;const $=this.getSizeAndScale(w,this.ctx.canvas.width,y),X=this.getSizeAndScale(T,this.ctx.canvas.height,b),V=t.cachedCanvases.getCanvas("pattern",$.size,X.size),Y=V.context,F=o.createCanvasGraphics(Y);if(F.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(F,s,r),Y.translate(-$.scale*u,-X.scale*d),F.transform($.scale,0,0,X.scale,0,0),Y.save(),this.clipBbox(F,u,d,f,p),F.baseTransform=qt(F.ctx),F.executeOperatorList(i),F.endDrawing(),Y.restore(),R||M){const P=V.canvas;R&&(w=l),M&&(T=c);const j=this.getSizeAndScale(w,this.ctx.canvas.width,y),Z=this.getSizeAndScale(T,this.ctx.canvas.height,b),ot=j.size,ne=Z.size,Ct=t.cachedCanvases.getCanvas("pattern-workaround",ot,ne),bt=Ct.context,Wt=R?Math.floor(g/l):0,Ge=M?Math.floor(v/c):0;for(let ie=0;ie<=Wt;ie++)for(let yt=0;yt<=Ge;yt++)bt.drawImage(P,ot*ie,ne*yt,ot,ne,0,0,ot,ne);return{canvas:Ct.canvas,scaleX:j.scale,scaleY:Z.scale,offsetX:u,offsetY:d}}return{canvas:V.canvas,scaleX:$.scale,scaleY:X.scale,offsetX:u,offsetY:d}}getSizeAndScale(t,e,i){const s=Math.max(Fg.MAX_PATTERN_SIZE,e);let a=Math.ceil(t*i);return a>=s?a=s:i=a/t,{scale:i,size:a}}clipBbox(t,e,i,s,a){const r=s-e,o=a-i;t.ctx.rect(e,i,r,o),t.current.updateRectMinMax(qt(t.ctx),[e,i,s,a]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const s=t.ctx,a=t.current;switch(e){case NT.COLORED:const r=this.ctx;s.fillStyle=r.fillStyle,s.strokeStyle=r.strokeStyle,a.fillColor=r.fillStyle,a.strokeColor=r.strokeStyle;break;case NT.UNCOLORED:const o=z.makeHexColor(i[0],i[1],i[2]);s.fillStyle=o,s.strokeStyle=o,a.fillColor=o,a.strokeColor=o;break;default:throw new Hz(`Unsupported paint type: ${e}`)}}getPattern(t,e,i,s){let a=i;s!==cn.SHADING&&(a=z.transform(a,e.baseTransform),this.matrix&&(a=z.transform(a,this.matrix)));const r=this.createPatternCanvas(e);let o=new DOMMatrix(a);o=o.translate(r.offsetX,r.offsetY),o=o.scale(1/r.scaleX,1/r.scaleY);const l=t.createPattern(r.canvas,"repeat");return l.setTransform(o),l}};K(Fg,"MAX_PATTERN_SIZE",3e3);let M0=Fg;function mV({src:n,srcPos:t=0,dest:e,width:i,height:s,nonBlackColor:a=4294967295,inverseDecode:r=!1}){const o=pn.isLittleEndian?4278190080:255,[l,c]=r?[a,o]:[o,a],u=i>>3,d=i&7,f=n.length;e=new Uint32Array(e.buffer);let p=0;for(let g=0;g<s;g++){for(const A=t+u;t<A;t++){const m=t<f?n[t]:255;e[p++]=m&128?c:l,e[p++]=m&64?c:l,e[p++]=m&32?c:l,e[p++]=m&16?c:l,e[p++]=m&8?c:l,e[p++]=m&4?c:l,e[p++]=m&2?c:l,e[p++]=m&1?c:l}if(d===0)continue;const v=t<f?n[t++]:255;for(let A=0;A<d;A++)e[p++]=v&1<<7-A?c:l}return{srcPos:t,destPos:p}}const FT=16,jT=100,gV=15,BT=10,HT=1e3,xn=16;function yV(n,t){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){t.save(),this.__originalSave()},n.restore=function(){t.restore(),this.__originalRestore()},n.translate=function(i,s){t.translate(i,s),this.__originalTranslate(i,s)},n.scale=function(i,s){t.scale(i,s),this.__originalScale(i,s)},n.transform=function(i,s,a,r,o,l){t.transform(i,s,a,r,o,l),this.__originalTransform(i,s,a,r,o,l)},n.setTransform=function(i,s,a,r,o,l){t.setTransform(i,s,a,r,o,l),this.__originalSetTransform(i,s,a,r,o,l)},n.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},n.rotate=function(i){t.rotate(i),this.__originalRotate(i)},n.clip=function(i){t.clip(i),this.__originalClip(i)},n.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},n.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},n.bezierCurveTo=function(e,i,s,a,r,o){t.bezierCurveTo(e,i,s,a,r,o),this.__originalBezierCurveTo(e,i,s,a,r,o)},n.rect=function(e,i,s,a){t.rect(e,i,s,a),this.__originalRect(e,i,s,a)},n.closePath=function(){t.closePath(),this.__originalClosePath()},n.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class vV{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,e,i)):(s=this.canvasFactory.create(e,i),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Hp(n,t,e,i,s,a,r,o,l,c){const[u,d,f,p,g,v]=qt(n);if(d===0&&f===0){const y=r*u+g,b=Math.round(y),w=o*p+v,T=Math.round(w),R=(r+l)*u+g,M=Math.abs(Math.round(R)-b)||1,D=(o+c)*p+v,O=Math.abs(Math.round(D)-T)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(p),b,T),n.drawImage(t,e,i,s,a,0,0,M,O),n.setTransform(u,d,f,p,g,v),[M,O]}if(u===0&&p===0){const y=o*f+g,b=Math.round(y),w=r*d+v,T=Math.round(w),R=(o+c)*f+g,M=Math.abs(Math.round(R)-b)||1,D=(r+l)*d+v,O=Math.abs(Math.round(D)-T)||1;return n.setTransform(0,Math.sign(d),Math.sign(f),0,b,T),n.drawImage(t,e,i,s,a,0,0,O,M),n.setTransform(u,d,f,p,g,v),[O,M]}n.drawImage(t,e,i,s,a,r,o,l,c);const A=Math.hypot(u,d),m=Math.hypot(f,p);return[A*l,m*c]}function bV(n){const{width:t,height:e}=n;if(t>HT||e>HT)return null;const i=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),a=t+1;let r=new Uint8Array(a*(e+1)),o,l,c;const u=t+7&-8;let d=new Uint8Array(u*e),f=0;for(const m of n.data){let y=128;for(;y>0;)d[f++]=m&y?0:255,y>>=1}let p=0;for(f=0,d[f]!==0&&(r[0]=1,++p),l=1;l<t;l++)d[f]!==d[f+1]&&(r[l]=d[f]?2:1,++p),f++;for(d[f]!==0&&(r[l]=2,++p),o=1;o<e;o++){f=o*u,c=o*a,d[f-u]!==d[f]&&(r[c]=d[f]?1:8,++p);let m=(d[f]?4:0)+(d[f-u]?8:0);for(l=1;l<t;l++)m=(m>>2)+(d[f+1]?4:0)+(d[f-u+1]?8:0),s[m]&&(r[c+l]=s[m],++p),f++;if(d[f-u]!==d[f]&&(r[c+l]=d[f]?2:4,++p),p>i)return null}for(f=u*(e-1),c=o*a,d[f]!==0&&(r[c]=8,++p),l=1;l<t;l++)d[f]!==d[f+1]&&(r[c+l]=d[f]?4:8,++p),f++;if(d[f]!==0&&(r[c+l]=4,++p),p>i)return null;const g=new Int32Array([0,a,-1,0,-a,0,0,0,1]),v=new Path2D;for(o=0;p&&o<=e;o++){let m=o*a;const y=m+t;for(;m<y&&!r[m];)m++;if(m===y)continue;v.moveTo(m%a,o);const b=m;let w=r[m];do{const T=g[w];do m+=T;while(!r[m]);const R=r[m];R!==5&&R!==10?(w=R,r[m]=0):(w=R&51*w>>4,r[m]&=w>>2|w<<2),v.lineTo(m%a,m/a|0),r[m]||--p}while(b!==m);--o}return d=null,r=null,function(m){m.save(),m.scale(1/t,-1/e),m.translate(0,-e),m.fill(v),m.beginPath(),m.restore()}}class UT{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=fD,this.textMatrixScale=1,this.fontMatrix=e0,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Xe.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,i){[e,i]=z.applyTransform([e,i],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(t,e){const i=z.applyTransform(e,t),s=z.applyTransform(e.slice(2),t),a=z.applyTransform([e[0],e[3]],t),r=z.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,i[0],s[0],a[0],r[0]),this.minY=Math.min(this.minY,i[1],s[1],a[1],r[1]),this.maxX=Math.max(this.maxX,i[0],s[0],a[0],r[0]),this.maxY=Math.max(this.maxY,i[1],s[1],a[1],r[1])}updateScalingPathMinMax(t,e){z.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,i,s,a,r,o,l,c,u){const d=z.bezierBoundingBox(e,i,s,a,r,o,l,c,u);u||this.updateRectMinMax(t,d)}getPathBoundingBox(t=cn.FILL,e=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(t===cn.STROKE){e||Nt("Stroke bounding box must include transform.");const s=z.singularValueDecompose2dScale(e),a=s[0]*this.lineWidth/2,r=s[1]*this.lineWidth/2;i[0]-=a,i[1]-=r,i[2]+=a,i[3]+=r}return i}updateClipFromPath(){const t=z.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=cn.FILL,e=null){return z.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function IT(n,t){if(typeof ImageData<"u"&&t instanceof ImageData){n.putImageData(t,0,0);return}const e=t.height,i=t.width,s=e%xn,a=(e-s)/xn,r=s===0?a:a+1,o=n.createImageData(i,xn);let l=0,c;const u=t.data,d=o.data;let f,p,g,v;if(t.kind===um.GRAYSCALE_1BPP){const A=u.byteLength,m=new Uint32Array(d.buffer,0,d.byteLength>>2),y=m.length,b=i+7>>3,w=4294967295,T=pn.isLittleEndian?4278190080:255;for(f=0;f<r;f++){for(g=f<a?xn:s,c=0,p=0;p<g;p++){const R=A-l;let M=0;const D=R>b?i:R*8-7,O=D&-8;let k=0,B=0;for(;M<O;M+=8)B=u[l++],m[c++]=B&128?w:T,m[c++]=B&64?w:T,m[c++]=B&32?w:T,m[c++]=B&16?w:T,m[c++]=B&8?w:T,m[c++]=B&4?w:T,m[c++]=B&2?w:T,m[c++]=B&1?w:T;for(;M<D;M++)k===0&&(B=u[l++],k=128),m[c++]=B&k?w:T,k>>=1}for(;c<y;)m[c++]=0;n.putImageData(o,0,f*xn)}}else if(t.kind===um.RGBA_32BPP){for(p=0,v=i*xn*4,f=0;f<a;f++)d.set(u.subarray(l,l+v)),l+=v,n.putImageData(o,0,p),p+=xn;f<r&&(v=i*s*4,d.set(u.subarray(l,l+v)),n.putImageData(o,0,p))}else if(t.kind===um.RGB_24BPP)for(g=xn,v=i*g,f=0;f<r;f++){for(f>=a&&(g=s,v=i*g),c=0,p=v;p--;)d[c++]=u[l++],d[c++]=u[l++],d[c++]=u[l++],d[c++]=255;n.putImageData(o,0,f*xn)}else throw new Error(`bad image kind: ${t.kind}`)}function zT(n,t){if(t.bitmap){n.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,s=e%xn,a=(e-s)/xn,r=s===0?a:a+1,o=n.createImageData(i,xn);let l=0;const c=t.data,u=o.data;for(let d=0;d<r;d++){const f=d<a?xn:s;({srcPos:l}=mV({src:c,srcPos:l,dest:u,width:i,height:f,nonBlackColor:0})),n.putImageData(o,0,d*xn)}}function ch(n,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)n[i]!==void 0&&(t[i]=n[i]);n.setLineDash!==void 0&&(t.setLineDash(n.getLineDash()),t.lineDashOffset=n.lineDashOffset)}function Up(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!an){const{filter:t}=n;t!=="none"&&t!==""&&(n.filter="none")}}function VT(n,t){if(t)return!0;const e=z.singularValueDecompose2dScale(n);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*Lr.PDF_TO_CSS_UNITS);return e[0]<=i&&e[1]<=i}const AV=["butt","round","square"],SV=["miter","round","bevel"],EV={},GT={};var Pr,D0,L0;const EE=class EE{constructor(t,e,i,s,a,{optionalContentConfig:r,markedContentStack:o=null},l,c){x(this,Pr);this.ctx=t,this.current=new UT(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=s,this.filterFactory=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=r,this.cachedCanvases=new vV(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:s=null}){const a=this.ctx.canvas.width,r=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,a,r),this.ctx.fillStyle=o,i){const l=this.cachedCanvases.getCanvas("transparent",a,r);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...qt(this.compositeCtx))}this.ctx.save(),Up(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=qt(this.ctx)}executeOperatorList(t,e,i,s){const a=t.argsArray,r=t.fnArray;let o=e||0;const l=a.length;if(l===o)return o;const c=l-o>BT&&typeof i=="function",u=c?Date.now()+gV:0;let d=0;const f=this.commonObjs,p=this.objs;let g;for(;;){if(s!==void 0&&o===s.nextBreakPoint)return s.breakIt(o,i),o;if(g=r[o],g!==wi.dependency)this[g].apply(this,a[o]);else for(const v of a[o]){const A=v.startsWith("g_")?f:p;if(!A.has(v))return A.get(v,i),o}if(o++,o===l)return o;if(c&&++d>BT){if(Date.now()>u)return i(),o;d=0}}}endDrawing(){E(this,Pr,D0).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),E(this,Pr,L0).call(this)}_scaleImage(t,e){const i=t.width??t.displayWidth,s=t.height??t.displayHeight;let a=Math.max(Math.hypot(e[0],e[1]),1),r=Math.max(Math.hypot(e[2],e[3]),1),o=i,l=s,c="prescale1",u,d;for(;a>2&&o>1||r>2&&l>1;){let f=o,p=l;a>2&&o>1&&(f=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),a/=o/f),r>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,r/=l/p),u=this.cachedCanvases.getCanvas(c,f,p),d=u.context,d.clearRect(0,0,f,p),d.drawImage(t,0,0,o,l,0,0,f,p),t=u.canvas,o=f,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:o,paintHeight:l}}_createMaskCanvas(t){const e=this.ctx,{width:i,height:s}=t,a=this.current.fillColor,r=this.current.patternFill,o=qt(e);let l,c,u,d;if((t.bitmap||t.data)&&t.count>1){const D=t.bitmap||t.data.buffer;c=JSON.stringify(r?o:[o.slice(0,4),a]),l=this._cachedBitmapsMap.get(D),l||(l=new Map,this._cachedBitmapsMap.set(D,l));const O=l.get(c);if(O&&!r){const k=Math.round(Math.min(o[0],o[2])+o[4]),B=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:O,offsetX:k,offsetY:B}}u=O}u||(d=this.cachedCanvases.getCanvas("maskCanvas",i,s),zT(d.context,t));let f=z.transform(o,[1/i,0,0,-1/s,0,0]);f=z.transform(f,[1,0,0,1,0,-s]);const[p,g,v,A]=z.getAxialAlignedBoundingBox([0,0,i,s],f),m=Math.round(v-p)||1,y=Math.round(A-g)||1,b=this.cachedCanvases.getCanvas("fillCanvas",m,y),w=b.context,T=p,R=g;w.translate(-T,-R),w.transform(...f),u||(u=this._scaleImage(d.canvas,Ds(w)),u=u.img,l&&r&&l.set(c,u)),w.imageSmoothingEnabled=VT(qt(w),t.interpolate),Hp(w,u,0,0,u.width,u.height,0,0,i,s),w.globalCompositeOperation="source-in";const M=z.transform(Ds(w),[1,0,0,1,-T,-R]);return w.fillStyle=r?a.getPattern(e,this,M,cn.FILL):a,w.fillRect(0,0,i,s),l&&!r&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,b.canvas)),{canvas:b.canvas,offsetX:Math.round(T),offsetY:Math.round(R)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=AV[t]}setLineJoin(t){this.ctx.lineJoin=SV[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,i]of t)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,t,e);this.suspendedCtx=this.ctx,this.ctx=s.context;const a=this.ctx;a.setTransform(...qt(this.suspendedCtx)),ch(this.suspendedCtx,a),yV(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ch(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,s){const a=s[0],r=s[1],o=s[2]-a,l=s[3]-r;o===0||l===0||(this.genericComposeSMask(e.context,i,o,l,e.subtype,e.backdrop,e.transferMap,a,r,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,s,a,r,o,l,c,u,d){let f=t.canvas,p=l-u,g=c-d;if(r){const A=z.makeHexColor(...r);if(p<0||g<0||p+i>f.width||g+s>f.height){const m=this.cachedCanvases.getCanvas("maskExtension",i,s),y=m.context;y.drawImage(f,-p,-g),y.globalCompositeOperation="destination-atop",y.fillStyle=A,y.fillRect(0,0,i,s),y.globalCompositeOperation="source-over",f=m.canvas,p=g=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const m=new Path2D;m.rect(p,g,i,s),t.clip(m),t.globalCompositeOperation="destination-atop",t.fillStyle=A,t.fillRect(p,g,i,s),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),a==="Alpha"&&o?e.filter=this.filterFactory.addAlphaFilter(o):a==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(o));const v=new Path2D;v.rect(l,c,i,s),e.clip(v),e.globalCompositeOperation="destination-in",e.drawImage(f,p,g,i,s,l,c,i,s),e.restore()}save(){this.inSMaskMode?(ch(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ch(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,i,s,a,r){this.ctx.transform(t,e,i,s,a,r),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i){const s=this.ctx,a=this.current;let r=a.x,o=a.y,l,c;const u=qt(s),d=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,f=d?i.slice(0):null;for(let p=0,g=0,v=t.length;p<v;p++)switch(t[p]|0){case wi.rectangle:r=e[g++],o=e[g++];const A=e[g++],m=e[g++],y=r+A,b=o+m;s.moveTo(r,o),A===0||m===0?s.lineTo(y,b):(s.lineTo(y,o),s.lineTo(y,b),s.lineTo(r,b)),d||a.updateRectMinMax(u,[r,o,y,b]),s.closePath();break;case wi.moveTo:r=e[g++],o=e[g++],s.moveTo(r,o),d||a.updatePathMinMax(u,r,o);break;case wi.lineTo:r=e[g++],o=e[g++],s.lineTo(r,o),d||a.updatePathMinMax(u,r,o);break;case wi.curveTo:l=r,c=o,r=e[g+4],o=e[g+5],s.bezierCurveTo(e[g],e[g+1],e[g+2],e[g+3],r,o),a.updateCurvePathMinMax(u,l,c,e[g],e[g+1],e[g+2],e[g+3],r,o,f),g+=6;break;case wi.curveTo2:l=r,c=o,s.bezierCurveTo(r,o,e[g],e[g+1],e[g+2],e[g+3]),a.updateCurvePathMinMax(u,l,c,r,o,e[g],e[g+1],e[g+2],e[g+3],f),r=e[g+2],o=e[g+3],g+=4;break;case wi.curveTo3:l=r,c=o,r=e[g+2],o=e[g+3],s.bezierCurveTo(e[g],e[g+1],r,o,r,o),a.updateCurvePathMinMax(u,l,c,e[g],e[g+1],r,o,r,o,f),g+=4;break;case wi.closePath:s.closePath();break}d&&a.updateScalingPathMinMax(u,f),a.setCurrentPoint(r,o)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,i=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(e.save(),e.strokeStyle=i.getPattern(e,this,Ds(e),cn.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,i=this.current.fillColor,s=this.current.patternFill;let a=!1;s&&(e.save(),e.fillStyle=i.getPattern(e,this,Ds(e),cn.FILL),a=!0);const r=this.current.getClippedPathBoundingBox();this.contentVisible&&r!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),a&&e.restore(),t&&this.consumePath(r)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=EV}eoClip(){this.pendingClip=GT}beginText(){this.current.textMatrix=fD,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const i of t)e.setTransform(...i.transform),e.translate(i.x,i.y),i.addToPath(e,i.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var u;const i=this.commonObjs.get(t),s=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=i.fontMatrix||e0,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&at("Invalid font matrix for font "+t),e<0?(e=-e,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;const a=i.loadedName||"sans-serif",r=((u=i.systemFontInfo)==null?void 0:u.css)||`"${a}", ${i.fallbackName}`;let o="normal";i.black?o="900":i.bold&&(o="bold");const l=i.italic?"italic":"normal";let c=e;e<FT?c=FT:e>jT&&(c=jT),this.current.fontSizeScale=e/c,this.ctx.font=`${l} ${o} ${c}px ${r}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,i,s,a,r){this.current.textMatrix=[t,e,i,s,a,r],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,i,s){const a=this.ctx,r=this.current,o=r.font,l=r.textRenderingMode,c=r.fontSize/r.fontSizeScale,u=l&Xe.FILL_STROKE_MASK,d=!!(l&Xe.ADD_TO_PATH_FLAG),f=r.patternFill&&!o.missingFile;let p;(o.disableFontFace||d||f)&&(p=o.getPathGenerator(this.commonObjs,t)),o.disableFontFace||f?(a.save(),a.translate(e,i),a.beginPath(),p(a,c),s&&a.setTransform(...s),(u===Xe.FILL||u===Xe.FILL_STROKE)&&a.fill(),(u===Xe.STROKE||u===Xe.FILL_STROKE)&&a.stroke(),a.restore()):((u===Xe.FILL||u===Xe.FILL_STROKE)&&a.fillText(t,e,i),(u===Xe.STROKE||u===Xe.FILL_STROKE)&&a.strokeText(t,e,i)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:qt(a),x:e,y:i,fontSize:c,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){i=!0;break}return dt(this,"isFontSubpixelAAEnabled",i)}showText(t){const e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(t);const s=e.fontSize;if(s===0)return;const a=this.ctx,r=e.fontSizeScale,o=e.charSpacing,l=e.wordSpacing,c=e.fontDirection,u=e.textHScale*c,d=t.length,f=i.vertical,p=f?1:-1,g=i.defaultVMetrics,v=s*e.fontMatrix[0],A=e.textRenderingMode===Xe.FILL&&!i.disableFontFace&&!e.patternFill;a.save(),a.transform(...e.textMatrix),a.translate(e.x,e.y+e.textRise),c>0?a.scale(u,-1):a.scale(u,1);let m;if(e.patternFill){a.save();const R=e.fillColor.getPattern(a,this,Ds(a),cn.FILL);m=qt(a),a.restore(),a.fillStyle=R}let y=e.lineWidth;const b=e.textMatrixScale;if(b===0||y===0){const R=e.textRenderingMode&Xe.FILL_STROKE_MASK;(R===Xe.STROKE||R===Xe.FILL_STROKE)&&(y=this.getSinglePixelWidth())}else y/=b;if(r!==1&&(a.scale(r,r),y/=r),a.lineWidth=y,i.isInvalidPDFjsFont){const R=[];let M=0;for(const D of t)R.push(D.unicode),M+=D.width;a.fillText(R.join(""),0,0),e.x+=M*v*u,a.restore(),this.compose();return}let w=0,T;for(T=0;T<d;++T){const R=t[T];if(typeof R=="number"){w+=p*R*s/1e3;continue}let M=!1;const D=(R.isSpace?l:0)+o,O=R.fontChar,k=R.accent;let B,$,X=R.width;if(f){const Y=R.vmetric||g,F=-(R.vmetric?Y[1]:X*.5)*v,P=Y[2]*v;X=Y?-Y[0]:X,B=F/r,$=(w+P)/r}else B=w/r,$=0;if(i.remeasure&&X>0){const Y=a.measureText(O).width*1e3/s*r;if(X<Y&&this.isFontSubpixelAAEnabled){const F=X/Y;M=!0,a.save(),a.scale(F,1),B/=F}else X!==Y&&(B+=(X-Y)/2e3*s/r)}if(this.contentVisible&&(R.isInFont||i.missingFile)){if(A&&!k)a.fillText(O,B,$);else if(this.paintChar(O,B,$,m),k){const Y=B+s*k.offset.x/r,F=$-s*k.offset.y/r;this.paintChar(k.fontChar,Y,F,m)}}const V=f?X*v-D*c:X*v+D*c;w+=V,M&&a.restore()}f?e.y-=w:e.x+=w*u,a.restore(),this.compose()}showType3Text(t){const e=this.ctx,i=this.current,s=i.font,a=i.fontSize,r=i.fontDirection,o=s.vertical?1:-1,l=i.charSpacing,c=i.wordSpacing,u=i.textHScale*r,d=i.fontMatrix||e0,f=t.length,p=i.textRenderingMode===Xe.INVISIBLE;let g,v,A,m;if(!(p||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...i.textMatrix),e.translate(i.x,i.y),e.scale(u,r),g=0;g<f;++g){if(v=t[g],typeof v=="number"){m=o*v*a/1e3,this.ctx.translate(m,0),i.x+=m*u;continue}const y=(v.isSpace?c:0)+l,b=s.charProcOperatorList[v.operatorListId];if(!b){at(`Type3 character "${v.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=v,this.save(),e.scale(a,a),e.transform(...d),this.executeOperatorList(b),this.restore()),A=z.applyTransform([v.width,0],d)[0]*a+y,e.translate(A,0),i.x+=A*u}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,i,s,a,r){this.ctx.rect(i,s,a-i,r-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const i=t[1],s=this.baseTransform||qt(this.ctx),a={createCanvasGraphics:r=>new EE(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new M0(t,i,this.ctx,a,s)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,i){this.ctx.strokeStyle=this.current.strokeColor=z.makeHexColor(t,e,i)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,i){this.ctx.fillStyle=this.current.fillColor=z.makeHexColor(t,e,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=pV(this.getObject(t)),this.cachedPatterns.set(t,i)),e&&(i.matrix=e),i}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const i=this._getPattern(t);e.fillStyle=i.getPattern(e,this,Ds(e),cn.SHADING);const s=Ds(e);if(s){const{width:a,height:r}=e.canvas,[o,l,c,u]=z.getAxialAlignedBoundingBox([0,0,a,r],s);this.ctx.fillRect(o,l,c-o,u-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Nt("Should not call beginInlineImage")}beginImageData(){Nt("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=qt(this.ctx),e)){const i=e[2]-e[0],s=e[3]-e[1];this.ctx.rect(e[0],e[1],i,s),this.current.updateRectMinMax(qt(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Ey("TODO: Support non-isolated groups."),t.knockout&&at("Knockout groups not supported.");const i=qt(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=z.getAxialAlignedBoundingBox(t.bbox,qt(e));const a=[0,0,e.canvas.width,e.canvas.height];s=z.intersect(s,a)||[0,0,0,0];const r=Math.floor(s[0]),o=Math.floor(s[1]),l=Math.max(Math.ceil(s[2])-r,1),c=Math.max(Math.ceil(s[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;t.smask&&(u+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(u,l,c),f=d.context;f.translate(-r,-o),f.transform(...i),t.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:r,offsetY:o,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(r,o),e.save()),ch(e,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=qt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const a=z.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],s);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(t,e,i,s,a){if(E(this,Pr,D0).call(this),Up(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const r=e[2]-e[0],o=e[3]-e[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=e[0],i[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=r,e[3]=o;const[l,c]=z.singularValueDecompose2dScale(qt(this.ctx)),{viewportScale:u}=this,d=Math.ceil(r*this.outputScaleX*u),f=Math.ceil(o*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:p,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(t,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,o*c),Up(this.ctx)}else Up(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],r,o),this.ctx.clip(),this.ctx.beginPath()}this.current=new UT(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),E(this,Pr,L0).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const i=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=bV(t)),s.compiled)){s.compiled(i);return}const a=this._createMaskCanvas(t),r=a.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(r,a.offsetX,a.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i=0,s=0,a,r){if(!this.contentVisible)return;t=this.getObject(t.data,t);const o=this.ctx;o.save();const l=qt(o);o.transform(e,i,s,a,0,0);const c=this._createMaskCanvas(t);o.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,d=r.length;u<d;u+=2){const f=z.transform(l,[e,i,s,a,r[u],r[u+1]]),[p,g]=z.applyTransform([0,0],f);o.drawImage(c.canvas,p,g)}o.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,i=this.current.fillColor,s=this.current.patternFill;for(const a of t){const{data:r,width:o,height:l,transform:c}=a,u=this.cachedCanvases.getCanvas("maskCanvas",o,l),d=u.context;d.save();const f=this.getObject(r,a);zT(d,f),d.globalCompositeOperation="source-in",d.fillStyle=s?i.getPattern(d,this,Ds(e),cn.FILL):i,d.fillRect(0,0,o,l),d.restore(),e.save(),e.transform(...c),e.scale(1,-1),Hp(e,u.canvas,0,0,o,l,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){at("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,i,s){if(!this.contentVisible)return;const a=this.getObject(t);if(!a){at("Dependent image isn't ready yet");return}const r=a.width,o=a.height,l=[];for(let c=0,u=s.length;c<u;c+=2)l.push({transform:[e,0,0,i,s[c],s[c+1]],x:0,y:0,w:r,h:o});this.paintInlineImageXObjectGroup(a,l)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:s}=t,a=this.cachedCanvases.getCanvas("inlineImage",i,s),r=a.context;return r.filter=this.current.transferMaps,r.drawImage(e,0,0),r.filter="none",a.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,i=t.height,s=this.ctx;if(this.save(),!an){const{filter:o}=s;o!=="none"&&o!==""&&(s.filter="none")}s.scale(1/e,-1/i);let a;if(t.bitmap)a=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)a=t;else{const l=this.cachedCanvases.getCanvas("inlineImage",e,i).context;IT(l,t),a=this.applyTransferMapsToCanvas(l)}const r=this._scaleImage(a,Ds(s));s.imageSmoothingEnabled=VT(qt(s),t.interpolate),Hp(s,r.img,0,0,r.paintWidth,r.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const a=t.width,r=t.height,l=this.cachedCanvases.getCanvas("inlineImage",a,r).context;IT(l,t),s=this.applyTransferMapsToCanvas(l)}for(const a of e)i.save(),i.transform(...a.transform),i.scale(1,-1),Hp(i,s,a.x,a.y,a.w,a.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const i=this.ctx;this.pendingClip&&(e||(this.pendingClip===GT?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=qt(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,s)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:s,d:a}=this.ctx.getTransform();let r,o;if(i===0&&s===0){const l=Math.abs(e),c=Math.abs(a);if(l===c)if(t===0)r=o=1/l;else{const u=l*t;r=o=u<1?1/u:1}else if(t===0)r=1/l,o=1/c;else{const u=l*t,d=c*t;r=u<1?1/u:1,o=d<1?1/d:1}}else{const l=Math.abs(e*a-i*s),c=Math.hypot(e,i),u=Math.hypot(s,a);if(t===0)r=u/l,o=c/l;else{const d=t*l;r=u>d?u/d:1,o=c>d?c/d:1}}this._cachedScaleForStroking[0]=r,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:i}=this.current,[s,a]=this.getScaleForStroking();if(e.lineWidth=i||1,s===1&&a===1){e.stroke();return}const r=e.getLineDash();if(t&&e.save(),e.scale(s,a),r.length>0){const o=Math.max(s,a);e.setLineDash(r.map(l=>l/o)),e.lineDashOffset/=o}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Pr=new WeakSet,D0=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},L0=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let Ac=EE;for(const n in wi)Ac.prototype[n]!==void 0&&(Ac.prototype[wi[n]]=Ac.prototype[n]);var Kd,Wd;class oa{static get workerPort(){return h(this,Kd)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");S(this,Kd,t)}static get workerSrc(){return h(this,Wd)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");S(this,Wd,t)}}Kd=new WeakMap,Wd=new WeakMap,x(oa,Kd,null),x(oa,Wd,"");const Ip={DATA:1,ERROR:2},ce={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Mn(n){switch(n instanceof Error||typeof n=="object"&&n!==null||Nt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Dl(n.message);case"MissingPDFException":return new Ml(n.message);case"PasswordException":return new n0(n.message,n.code);case"UnexpectedResponseException":return new wy(n.message,n.status);case"UnknownErrorException":return new i0(n.message,n.details);default:return new i0(n.message,n.toString())}}var Bc,gi,QD,ZD,JD,vm;class Th{constructor(t,e,i){x(this,gi);x(this,Bc,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",E(this,gi,QD).bind(this),{signal:h(this,Bc).signal})}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const s=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[s]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},i)}catch(r){a.reject(r)}return a.promise}sendWithStream(t,e,i,s){const a=this.streamId++,r=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[a]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:r,targetName:o,action:t,streamId:a,data:e,desiredSize:c.desiredSize},s),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[a].pullCall=u,l.postMessage({sourceName:r,targetName:o,stream:ce.PULL,streamId:a,desiredSize:c.desiredSize}),u.promise},cancel:c=>{Se(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[a].cancelCall=u,this.streamControllers[a].isClosed=!0,l.postMessage({sourceName:r,targetName:o,stream:ce.CANCEL,streamId:a,reason:Mn(c)}),u.promise}},i)}destroy(){var t;(t=h(this,Bc))==null||t.abort(),S(this,Bc,null)}}Bc=new WeakMap,gi=new WeakSet,QD=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){E(this,gi,JD).call(this,t);return}if(t.callback){const i=t.callbackId,s=this.callbackCapabilities[i];if(!s)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===Ip.DATA)s.resolve(t.data);else if(t.callback===Ip.ERROR)s.reject(Mn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,s=t.sourceName,a=this.comObj;new Promise(function(r){r(e(t.data))}).then(function(r){a.postMessage({sourceName:i,targetName:s,callback:Ip.DATA,callbackId:t.callbackId,data:r})},function(r){a.postMessage({sourceName:i,targetName:s,callback:Ip.ERROR,callbackId:t.callbackId,reason:Mn(r)})});return}if(t.streamId){E(this,gi,ZD).call(this,t);return}e(t.data)},ZD=function(t){const e=t.streamId,i=this.sourceName,s=t.sourceName,a=this.comObj,r=this,o=this.actionHandler[t.action],l={enqueue(c,u=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=u,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:i,targetName:s,stream:ce.ENQUEUE,streamId:e,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:i,targetName:s,stream:ce.CLOSE,streamId:e}),delete r.streamSinks[e])},error(c){Se(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:i,targetName:s,stream:ce.ERROR,streamId:e,reason:Mn(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[e]=l,new Promise(function(c){c(o(t.data,l))}).then(function(){a.postMessage({sourceName:i,targetName:s,stream:ce.START_COMPLETE,streamId:e,success:!0})},function(c){a.postMessage({sourceName:i,targetName:s,stream:ce.START_COMPLETE,streamId:e,reason:Mn(c)})})},JD=function(t){const e=t.streamId,i=this.sourceName,s=t.sourceName,a=this.comObj,r=this.streamControllers[e],o=this.streamSinks[e];switch(t.stream){case ce.START_COMPLETE:t.success?r.startCall.resolve():r.startCall.reject(Mn(t.reason));break;case ce.PULL_COMPLETE:t.success?r.pullCall.resolve():r.pullCall.reject(Mn(t.reason));break;case ce.PULL:if(!o){a.postMessage({sourceName:i,targetName:s,stream:ce.PULL_COMPLETE,streamId:e,success:!0});break}o.desiredSize<=0&&t.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=t.desiredSize,new Promise(function(l){var c;l((c=o.onPull)==null?void 0:c.call(o))}).then(function(){a.postMessage({sourceName:i,targetName:s,stream:ce.PULL_COMPLETE,streamId:e,success:!0})},function(l){a.postMessage({sourceName:i,targetName:s,stream:ce.PULL_COMPLETE,streamId:e,reason:Mn(l)})});break;case ce.ENQUEUE:if(Se(r,"enqueue should have stream controller"),r.isClosed)break;r.controller.enqueue(t.chunk);break;case ce.CLOSE:if(Se(r,"close should have stream controller"),r.isClosed)break;r.isClosed=!0,r.controller.close(),E(this,gi,vm).call(this,r,e);break;case ce.ERROR:Se(r,"error should have stream controller"),r.controller.error(Mn(t.reason)),E(this,gi,vm).call(this,r,e);break;case ce.CANCEL_COMPLETE:t.success?r.cancelCall.resolve():r.cancelCall.reject(Mn(t.reason)),E(this,gi,vm).call(this,r,e);break;case ce.CANCEL:if(!o)break;new Promise(function(l){var c;l((c=o.onCancel)==null?void 0:c.call(o,Mn(t.reason)))}).then(function(){a.postMessage({sourceName:i,targetName:s,stream:ce.CANCEL_COMPLETE,streamId:e,success:!0})},function(l){a.postMessage({sourceName:i,targetName:s,stream:ce.CANCEL_COMPLETE,streamId:e,reason:Mn(l)})}),o.sinkCapability.reject(Mn(t.reason)),o.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},vm=async function(t,e){var i,s,a;await Promise.allSettled([(i=t.startCall)==null?void 0:i.promise,(s=t.pullCall)==null?void 0:s.promise,(a=t.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[e]};var xo,Qd;class wV{constructor({parsedData:t,rawData:e}){x(this,xo);x(this,Qd);S(this,xo,t),S(this,Qd,e)}getRaw(){return h(this,Qd)}get(t){return h(this,xo).get(t)??null}getAll(){return oE(h(this,xo))}has(t){return h(this,xo).has(t)}}xo=new WeakMap,Qd=new WeakMap;const Gl=Symbol("INTERNAL");var Zd,Jd,tf,Hc;class xV{constructor(t,{name:e,intent:i,usage:s,rbGroups:a}){x(this,Zd,!1);x(this,Jd,!1);x(this,tf,!1);x(this,Hc,!0);S(this,Zd,!!(t&Hn.DISPLAY)),S(this,Jd,!!(t&Hn.PRINT)),this.name=e,this.intent=i,this.usage=s,this.rbGroups=a}get visible(){if(h(this,tf))return h(this,Hc);if(!h(this,Hc))return!1;const{print:t,view:e}=this.usage;return h(this,Zd)?(e==null?void 0:e.viewState)!=="OFF":h(this,Jd)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,i=!1){t!==Gl&&Nt("Internal method `_setVisible` called."),S(this,tf,i),S(this,Hc,e)}}Zd=new WeakMap,Jd=new WeakMap,tf=new WeakMap,Hc=new WeakMap;var Ja,St,Uc,Ic,ef,O0;class TV{constructor(t,e=Hn.DISPLAY){x(this,ef);x(this,Ja,null);x(this,St,new Map);x(this,Uc,null);x(this,Ic,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,S(this,Ic,t.order);for(const i of t.groups)h(this,St).set(i.id,new xV(e,i));if(t.baseState==="OFF")for(const i of h(this,St).values())i._setVisible(Gl,!1);for(const i of t.on)h(this,St).get(i)._setVisible(Gl,!0);for(const i of t.off)h(this,St).get(i)._setVisible(Gl,!1);S(this,Uc,this.getHash())}}isVisible(t){if(h(this,St).size===0)return!0;if(!t)return Ey("Optional content group not defined."),!0;if(t.type==="OCG")return h(this,St).has(t.id)?h(this,St).get(t.id).visible:(at(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return E(this,ef,O0).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!h(this,St).has(e))return at(`Optional content group not found: ${e}`),!0;if(h(this,St).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!h(this,St).has(e))return at(`Optional content group not found: ${e}`),!0;if(!h(this,St).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!h(this,St).has(e))return at(`Optional content group not found: ${e}`),!0;if(!h(this,St).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!h(this,St).has(e))return at(`Optional content group not found: ${e}`),!0;if(h(this,St).get(e).visible)return!1}return!0}return at(`Unknown optional content policy ${t.policy}.`),!0}return at(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){var a;const s=h(this,St).get(t);if(!s){at(`Optional content group not found: ${t}`);return}if(i&&e&&s.rbGroups.length)for(const r of s.rbGroups)for(const o of r)o!==t&&((a=h(this,St).get(o))==null||a._setVisible(Gl,!1,!0));s._setVisible(Gl,!!e,!0),S(this,Ja,null)}setOCGState({state:t,preserveRB:e}){let i;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":i=s;continue}const a=h(this,St).get(s);if(a)switch(i){case"ON":this.setVisibility(s,!0,e);break;case"OFF":this.setVisibility(s,!1,e);break;case"Toggle":this.setVisibility(s,!a.visible,e);break}}S(this,Ja,null)}get hasInitialVisibility(){return h(this,Uc)===null||this.getHash()===h(this,Uc)}getOrder(){return h(this,St).size?h(this,Ic)?h(this,Ic).slice():[...h(this,St).keys()]:null}getGroups(){return h(this,St).size>0?oE(h(this,St)):null}getGroup(t){return h(this,St).get(t)||null}getHash(){if(h(this,Ja)!==null)return h(this,Ja);const t=new UD;for(const[e,i]of h(this,St))t.update(`${e}:${i.visible}`);return S(this,Ja,t.hexdigest())}}Ja=new WeakMap,St=new WeakMap,Uc=new WeakMap,Ic=new WeakMap,ef=new WeakSet,O0=function(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let s=1;s<e;s++){const a=t[s];let r;if(Array.isArray(a))r=E(this,ef,O0).call(this,a);else if(h(this,St).has(a))r=h(this,St).get(a).visible;else return at(`Optional content group not found: ${a}`),!0;switch(i){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return i==="And"};class _V{constructor(t,{disableRange:e=!1,disableStream:i=!1}){Se(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:a,progressiveDone:r,contentDispositionFilename:o}=t;if(this._queuedChunks=[],this._progressiveDone=r,this._contentDispositionFilename=o,(a==null?void 0:a.length)>0){const l=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),t.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),t.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const s=this._rangeReaders.some(function(a){return a._begin!==t?!1:(a._enqueue(i),!0)});Se(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,i,s,a;t.total===void 0?(i=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||i.call(e,{loaded:t.loaded}):(a=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||a.call(s,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Se(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new CV(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new RV(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class CV{constructor(t,e,i=!1,s=null){this._stream=t,this._done=i||!1,this._filename=uE(s)?s:null,this._queuedChunks=e||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class RV{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function MV(n){let t=!0,e=i("filename\\*","i").exec(n);if(e){e=e[1];let u=o(e);return u=unescape(u),u=l(u),u=c(u),a(u)}if(e=r(n),e){const u=c(e);return a(u)}if(e=i("filename","i").exec(n),e){e=e[1];let u=o(e);return u=c(u),a(u)}function i(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function s(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(u,{fatal:!0}),p=xy(d);d=f.decode(p),t=!1}catch{}}return d}function a(u){return t&&/[\x80-\xff]/.test(u)&&(u=s("utf-8",u),t&&(u=s("iso-8859-1",u))),u}function r(u){const d=[];let f;const p=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(u))!==null;){let[,v,A,m]=f;if(v=parseInt(v,10),v in d){if(v===0)break;continue}d[v]=[A,m]}const g=[];for(let v=0;v<d.length&&v in d;++v){let[A,m]=d[v];m=o(m),A&&(m=unescape(m),v===0&&(m=l(m))),g.push(m)}return g.join("")}function o(u){if(u.startsWith('"')){const d=u.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function l(u){const d=u.indexOf("'");if(d===-1)return u;const f=u.slice(0,d),g=u.slice(d+1).replace(/^[^']*'/,"");return s(f,g)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,g){if(p==="q"||p==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,A){return String.fromCharCode(parseInt(A,16))}),s(f,g);try{g=atob(g)}catch{}return s(f,g)})}return""}function mE(n,t){const e=new Headers;if(!n||!t||typeof t!="object")return e;for(const i in t){const s=t[i];s!==void 0&&e.append(i,s)}return e}function gE({responseHeaders:n,isHttp:t,rangeChunkSize:e,disableRange:i}){const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(n.get("Content-Length"),10);return!Number.isInteger(a)||(s.suggestedLength=a,a<=2*e)||i||!t||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function yE(n){const t=n.get("Content-Disposition");if(t){let e=MV(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(uE(e))return e}return null}function Cy(n,t){return n===404||n===0&&t.startsWith("file:")?new Ml('Missing PDF "'+t+'".'):new wy(`Unexpected server response (${n}) while retrieving PDF "${t}".`,n)}function tL(n){return n===200||n===206}function eL(n,t,e){return{method:"GET",headers:n,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function nL(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(at(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class qT{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=mE(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Se(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new DV(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new LV(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class DV{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),s=e.url;fetch(s,eL(i,this._withCredentials,this._abortController)).then(a=>{if(!tL(a.status))throw Cy(a.status,s);this._reader=a.body.getReader(),this._headersCapability.resolve();const r=a.headers,{allowRangeRequests:o,suggestedLength:l}=gE({responseHeaders:r,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=yE(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Dl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:nL(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class LV{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const a=new Headers(t.headers);a.append("Range",`bytes=${e}-${i-1}`);const r=s.url;fetch(r,eL(a,this._withCredentials,this._abortController)).then(o=>{if(!tL(o.status))throw Cy(o.status,r);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:nL(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const Fv=200,jv=206;function OV(n){const t=n.response;return typeof t!="string"?t:xy(t).buffer}class kV{constructor({url:t,httpHeaders:e,withCredentials:i}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=mE(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,i){const s={begin:t,end:e};for(const a in i)s[a]=i[a];return this.request(s)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,s=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[a,r]of this.headers)e.setRequestHeader(a,r);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=jv):s.expectedStatus=Fv,e.responseType="arraybuffer",t.onError&&(e.onerror=function(a){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){var s;const i=this.pendingRequests[t];i&&((s=i.onProgress)==null||s.call(i,e))}onStateChange(t,e){var l,c,u;const i=this.pendingRequests[t];if(!i)return;const s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),s.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],s.status===0&&this.isHttp){(l=i.onError)==null||l.call(i,s.status);return}const a=s.status||Fv;if(!(a===Fv&&i.expectedStatus===jv)&&a!==i.expectedStatus){(c=i.onError)==null||c.call(i,s.status);return}const o=OV(s);if(a===jv){const d=s.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);i.onDone({begin:parseInt(f[1],10),chunk:o})}else o?i.onDone({begin:0,chunk:o}):(u=i.onError)==null||u.call(i,s.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class PV{constructor(t){this._source=t,this._manager=new kV(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Se(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new NV(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new FV(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class NV{constructor(t,e){this._manager=t;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(i),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),i=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(r=>{const[o,...l]=r.split(": ");return[o,l.join(": ")]})),{allowRangeRequests:s,suggestedLength:a}=gE({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=yE(i),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Cy(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class FV{constructor(t,e,i){this._manager=t;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,i,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=Cy(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const jV=/^[a-z][a-z0-9\-+.]+:/i;function BV(n){if(jV.test(n))return new URL(n);const t=Or.get("url");return new URL(t.pathToFileURL(n))}function iL(n,t,e){return n.protocol==="http:"?Or.get("http").request(n,{headers:t},e):Or.get("https").request(n,{headers:t},e)}class HV{constructor(t){this.source=t,this.url=BV(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=mE(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Se(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new zV(this):new UV(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=this.isFsUrl?new VV(this,t,e):new IV(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class sL{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Dl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class aL{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class UV extends sL{constructor(t){super(t);const e=Object.fromEntries(t.headers),i=s=>{if(s.statusCode===404){const l=new Ml(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(s);const a=new Headers(this._readableStream.headers),{allowRangeRequests:r,suggestedLength:o}=gE({responseHeaders:a,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=o||this._contentLength,this._filename=yE(a)};this._request=iL(this._url,e,i),this._request.on("error",s=>{this._storedError=s,this._headersCapability.reject(s)}),this._request.end()}}class IV extends aL{constructor(t,e,i){super(t);const s=Object.fromEntries(t.headers);s.Range=`bytes=${e}-${i-1}`;const a=r=>{if(r.statusCode===404){const o=new Ml(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(r)};this._request=iL(this._url,s,a),this._request.on("error",r=>{this._storedError=r}),this._request.end()}}class zV extends sL{constructor(t){super(t);const e=Or.get("fs");e.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new Ml(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class VV extends aL{constructor(t,e,i){super(t);const s=Or.get("fs");this._setReadableStream(s.createReadStream(this._url,{start:e,end:i-1}))}}const GV=1e5,vn=30,qV=.8;var a_,tr,Sn,nf,sf,To,Us,af,rf,_o,zc,Vc,er,Gc,of,qc,Co,lf,cf,Zt,Ro,Mo,uf,nr,Xc,_a,rL,oL,P0,$n,bm,N0,lL,cL;let k0=(Zt=class{constructor({textContentSource:t,container:e,viewport:i}){x(this,_a);x(this,tr,Promise.withResolvers());x(this,Sn,null);x(this,nf,!1);x(this,sf,!!((a_=globalThis.FontInspector)!=null&&a_.enabled));x(this,To,null);x(this,Us,null);x(this,af,0);x(this,rf,0);x(this,_o,null);x(this,zc,null);x(this,Vc,0);x(this,er,0);x(this,Gc,Object.create(null));x(this,of,[]);x(this,qc,null);x(this,Co,[]);x(this,lf,new WeakMap);x(this,cf,null);var l;if(t instanceof ReadableStream)S(this,qc,t);else if(typeof t=="object")S(this,qc,new ReadableStream({start(c){c.enqueue(t),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');S(this,Sn,S(this,zc,e)),S(this,er,i.scale*(globalThis.devicePixelRatio||1)),S(this,Vc,i.rotation),S(this,Us,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:a,pageX:r,pageY:o}=i.rawDims;S(this,cf,[1,0,0,-1,-r,o+a]),S(this,rf,s),S(this,af,a),E(l=Zt,$n,lL).call(l),ml(e,i),h(this,tr).promise.finally(()=>{h(Zt,Xc).delete(this),S(this,Us,null),S(this,Gc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=pn.platform;return dt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{h(this,_o).read().then(({value:e,done:i})=>{if(i){h(this,tr).resolve();return}h(this,To)??S(this,To,e.lang),Object.assign(h(this,Gc),e.styles),E(this,_a,rL).call(this,e.items),t()},h(this,tr).reject)};return S(this,_o,h(this,qc).getReader()),h(Zt,Xc).add(this),t(),h(this,tr).promise}update({viewport:t,onBefore:e=null}){var a;const i=t.scale*(globalThis.devicePixelRatio||1),s=t.rotation;if(s!==h(this,Vc)&&(e==null||e(),S(this,Vc,s),ml(h(this,zc),{rotation:s})),i!==h(this,er)){e==null||e(),S(this,er,i);const r={div:null,properties:null,ctx:E(a=Zt,$n,bm).call(a,h(this,To))};for(const o of h(this,Co))r.properties=h(this,lf).get(o),r.div=o,E(this,_a,P0).call(this,r)}}cancel(){var e;const t=new Dl("TextLayer task cancelled.");(e=h(this,_o))==null||e.cancel(t).catch(()=>{}),S(this,_o,null),h(this,tr).reject(t)}get textDivs(){return h(this,Co)}get textContentItemsStr(){return h(this,of)}static cleanup(){if(!(h(this,Xc).size>0)){h(this,Ro).clear();for(const{canvas:t}of h(this,Mo).values())t.remove();h(this,Mo).clear()}}},tr=new WeakMap,Sn=new WeakMap,nf=new WeakMap,sf=new WeakMap,To=new WeakMap,Us=new WeakMap,af=new WeakMap,rf=new WeakMap,_o=new WeakMap,zc=new WeakMap,Vc=new WeakMap,er=new WeakMap,Gc=new WeakMap,of=new WeakMap,qc=new WeakMap,Co=new WeakMap,lf=new WeakMap,cf=new WeakMap,Ro=new WeakMap,Mo=new WeakMap,uf=new WeakMap,nr=new WeakMap,Xc=new WeakMap,_a=new WeakSet,rL=function(t){var s,a;if(h(this,nf))return;(a=h(this,Us)).ctx??(a.ctx=E(s=Zt,$n,bm).call(s,h(this,To)));const e=h(this,Co),i=h(this,of);for(const r of t){if(e.length>GV){at("Ignoring additional textDivs for performance reasons."),S(this,nf,!0);return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const o=h(this,Sn);S(this,Sn,document.createElement("span")),h(this,Sn).classList.add("markedContent"),r.id!==null&&h(this,Sn).setAttribute("id",`${r.id}`),o.append(h(this,Sn))}else r.type==="endMarkedContent"&&S(this,Sn,h(this,Sn).parentNode);continue}i.push(r.str),E(this,_a,oL).call(this,r)}},oL=function(t){var v;const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};h(this,Co).push(e);const s=z.transform(h(this,cf),t.transform);let a=Math.atan2(s[1],s[0]);const r=h(this,Gc)[t.fontName];r.vertical&&(a+=Math.PI/2);let o=h(this,sf)&&r.fontSubstitution||r.fontFamily;o=Zt.fontFamilyMap.get(o)||o;const l=Math.hypot(s[2],s[3]),c=l*E(v=Zt,$n,cL).call(v,o,h(this,To));let u,d;a===0?(u=s[4],d=s[5]-c):(u=s[4]+c*Math.sin(a),d=s[5]-c*Math.cos(a));const f="calc(var(--scale-factor)*",p=e.style;h(this,Sn)===h(this,zc)?(p.left=`${(100*u/h(this,rf)).toFixed(2)}%`,p.top=`${(100*d/h(this,af)).toFixed(2)}%`):(p.left=`${f}${u.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${(h(Zt,nr)*l).toFixed(2)}px)`,p.fontFamily=o,i.fontSize=l,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,h(this,sf)&&(e.dataset.fontName=r.fontSubstitutionLoadedName||t.fontName),a!==0&&(i.angle=a*(180/Math.PI));let g=!1;if(t.str.length>1)g=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const A=Math.abs(t.transform[0]),m=Math.abs(t.transform[3]);A!==m&&Math.max(A,m)/Math.min(A,m)>1.5&&(g=!0)}if(g&&(i.canvasWidth=r.vertical?t.height:t.width),h(this,lf).set(e,i),h(this,Us).div=e,h(this,Us).properties=i,E(this,_a,P0).call(this,h(this,Us)),i.hasText&&h(this,Sn).append(e),i.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),h(this,Sn).append(A)}},P0=function(t){var o;const{div:e,properties:i,ctx:s}=t,{style:a}=e;let r="";if(h(Zt,nr)>1&&(r=`scale(${1/h(Zt,nr)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:l}=a,{canvasWidth:c,fontSize:u}=i;E(o=Zt,$n,N0).call(o,s,u*h(this,er),l);const{width:d}=s.measureText(e.textContent);d>0&&(r=`scaleX(${c*h(this,er)/d}) ${r}`)}i.angle!==0&&(r=`rotate(${i.angle}deg) ${r}`),r.length>0&&(a.transform=r)},$n=new WeakSet,bm=function(t=null){let e=h(this,Mo).get(t||(t=""));if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,Mo).set(t,e),h(this,uf).set(e,{size:0,family:""})}return e},N0=function(t,e,i){const s=h(this,uf).get(t);e===s.size&&i===s.family||(t.font=`${e}px ${i}`,s.size=e,s.family=i)},lL=function(){if(h(this,nr)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),S(this,nr,t.getBoundingClientRect().height),t.remove()},cL=function(t,e){const i=h(this,Ro).get(t);if(i)return i;const s=E(this,$n,bm).call(this,e);s.canvas.width=s.canvas.height=vn,E(this,$n,N0).call(this,s,vn,t);const a=s.measureText("");let r=a.fontBoundingBoxAscent,o=Math.abs(a.fontBoundingBoxDescent);if(r){const u=r/(r+o);return h(this,Ro).set(t,u),s.canvas.width=s.canvas.height=0,u}s.strokeStyle="red",s.clearRect(0,0,vn,vn),s.strokeText("g",0,0);let l=s.getImageData(0,0,vn,vn).data;o=0;for(let u=l.length-1-3;u>=0;u-=4)if(l[u]>0){o=Math.ceil(u/4/vn);break}s.clearRect(0,0,vn,vn),s.strokeText("A",0,vn),l=s.getImageData(0,0,vn,vn).data,r=0;for(let u=0,d=l.length;u<d;u+=4)if(l[u]>0){r=vn-Math.floor(u/4/vn);break}s.canvas.width=s.canvas.height=0;const c=r?r/(r+o):qV;return h(this,Ro).set(t,c),c},x(Zt,$n),x(Zt,Ro,new Map),x(Zt,Mo,new Map),x(Zt,uf,new WeakMap),x(Zt,nr,null),x(Zt,Xc,new Set),Zt);class Cd{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function s(a){var l;if(!a)return;let r=null;const o=a.name;if(o==="#text")r=a.value;else if(Cd.shouldBuildText(o))(l=a==null?void 0:a.attributes)!=null&&l.textContent?r=a.attributes.textContent:a.value&&(r=a.value);else return;if(r!==null&&e.push({str:r}),!!a.children)for(const c of a.children)s(c)}return s(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const XV=65536,YV=100,$V=5e3,KV=an?oV:sV,WV=an?lV:qD,QV=an?rV:aV,ZV=an?cV:KD;function JV(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const t=new F0,{docId:e}=t,i=n.url?t3(n.url):null,s=n.data?e3(n.data):null,a=n.httpHeaders||null,r=n.withCredentials===!0,o=n.password??null,l=n.range instanceof uL?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:XV;let u=n.worker instanceof Sc?n.worker:null;const d=n.verbosity,f=typeof n.docBaseUrl=="string"&&!_y(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,g=n.cMapPacked!==!1,v=n.CMapReaderFactory||WV,A=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,m=n.StandardFontDataFactory||ZV,y=n.stopAtErrors!==!0,b=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,w=n.isEvalSupported!==!1,T=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!an,R=typeof n.isChrome=="boolean"?n.isChrome:!pn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),M=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,D=typeof n.disableFontFace=="boolean"?n.disableFontFace:an,O=n.fontExtraProperties===!0,k=n.enableXfa===!0,B=n.ownerDocument||globalThis.document,$=n.disableRange===!0,X=n.disableStream===!0,V=n.disableAutoFetch===!0,Y=n.pdfBug===!0,F=n.CanvasFactory||KV,P=n.FilterFactory||QV,j=n.enableHWA===!0,Z=l?l.length:n.length??NaN,ot=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!an&&!D,ne=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:v===qD&&m===KD&&p&&A&&vh(p,document.baseURI)&&vh(A,document.baseURI);n.canvasFactory&&kT("`canvasFactory`-instance option, please use `CanvasFactory` instead."),n.filterFactory&&kT("`filterFactory`-instance option, please use `FilterFactory` instead.");const Ct=null;Nz(d);const bt={canvasFactory:new F({ownerDocument:B,enableHWA:j}),filterFactory:new P({docId:e,ownerDocument:B}),cMapReaderFactory:ne?null:new v({baseUrl:p,isCompressed:g}),standardFontDataFactory:ne?null:new m({baseUrl:A})};if(!u){const ie={verbosity:d,port:oa.workerPort};u=ie.port?Sc.fromPort(ie):new Sc(ie),t._worker=u}const Wt={docId:e,apiVersion:"4.8.69",data:s,password:o,disableAutoFetch:V,rangeChunkSize:c,length:Z,docBaseUrl:f,enableXfa:k,evaluatorOptions:{maxImageSize:b,disableFontFace:D,ignoreErrors:y,isEvalSupported:w,isOffscreenCanvasSupported:T,isChrome:R,canvasMaxAreaInBytes:M,fontExtraProperties:O,useSystemFonts:ot,cMapUrl:ne?p:null,standardFontDataUrl:ne?A:null}},Ge={disableFontFace:D,fontExtraProperties:O,ownerDocument:B,pdfBug:Y,styleElement:Ct,loadingParams:{disableAutoFetch:V,enableXfa:k}};return u.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const ie=u.messageHandler.sendWithPromise("GetDocRequest",Wt,s?[s.buffer]:null);let yt;if(l)yt=new _V(l,{disableRange:$,disableStream:X});else if(!s){if(!i)throw new Error("getDocument - no `url` parameter provided.");let Vi;an?Vi=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&vh(i)?qT:HV:Vi=vh(i)?qT:PV,yt=new Vi({url:i,length:Z,httpHeaders:a,withCredentials:r,rangeChunkSize:c,disableRange:$,disableStream:X})}return ie.then(Vi=>{if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const Ai=new Th(e,Vi,u.port),Bt=new a3(Ai,t,yt,Ge,bt);t._transport=Bt,Ai.send("Ready",null)})}).catch(t._capability.reject),t}function t3(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(an&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function e3(n){if(an&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return xy(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function XT(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var jg;const Bg=class Bg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${rn(Bg,jg)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,i;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(s){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};jg=new WeakMap,x(Bg,jg,0);let F0=Bg,uL=class{constructor(t,e,i=!1,s=null){this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const i of this._rangeListeners)i(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){Nt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class n3{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return dt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ir,Is,di,ql,Am;class i3{constructor(t,e,i,s=!1){x(this,di);x(this,ir,null);x(this,Is,!1);this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=s?new OT:null,this._pdfBug=s,this.commonObjs=i.commonObjs,this.objs=new hL,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:a=!1}={}){return new hp({viewBox:this.view,scale:t,rotation:e,offsetX:i,offsetY:s,dontFlip:a})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return dt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:i="display",annotationMode:s=Ia.ENABLE,transform:a=null,background:r=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null,isEditing:d=!1}){var w,T;(w=this._stats)==null||w.time("Overall");const f=this._transport.getRenderingIntent(i,s,u,d),{renderingIntent:p,cacheKey:g}=f;S(this,Is,!1),E(this,di,Am).call(this),o||(o=this._transport.getOptionalContentConfig(p));let v=this._intentStates.get(g);v||(v=Object.create(null),this._intentStates.set(g,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const A=!!(p&Hn.PRINT);v.displayReadyCapability||(v.displayReadyCapability=Promise.withResolvers(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(T=this._stats)==null||T.time("Page Request"),this._pumpOperatorList(f));const m=R=>{var M;v.renderTasks.delete(y),(this._maybeCleanupAfterRender||A)&&S(this,Is,!0),E(this,di,ql).call(this,!A),R?(y.capability.reject(R),this._abortOperatorList({intentState:v,reason:R instanceof Error?R:new Error(R)})):y.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(M=globalThis.Stats)!=null&&M.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},y=new B0({callback:m,params:{canvasContext:t,viewport:e,transform:a,background:r},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!A,pdfBug:this._pdfBug,pageColors:c});(v.renderTasks||(v.renderTasks=new Set)).add(y);const b=y.task;return Promise.all([v.displayReadyCapability.promise,o]).then(([R,M])=>{var D;if(this.destroyed){m();return}if((D=this._stats)==null||D.time("Rendering"),!(M.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");y.initializeGraphics({transparency:R,optionalContentConfig:M}),y.operatorListChanged()}).catch(m),b}getOperatorList({intent:t="display",annotationMode:e=Ia.ENABLE,printAnnotationStorage:i=null,isEditing:s=!1}={}){var c;function a(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const r=this._transport.getRenderingIntent(t,e,i,s,!0);let o=this._intentStates.get(r.cacheKey);o||(o=Object.create(null),this._intentStates.set(r.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=a,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(r)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Cd.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,s){function a(){r.read().then(function({value:l,done:c}){if(c){i(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),a()},s)}const r=e.getReader(),o={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),S(this,Is,!1),E(this,di,Am).call(this),Promise.all(t)}cleanup(t=!1){S(this,Is,!0);const e=E(this,di,ql).call(this,!1);return t&&e&&this._stats&&(this._stats=new OT),e}_startRenderPage(t,e){var s,a;const i=this._intentStates.get(e);i&&((s=this._stats)==null||s.timeEnd("Page Request"),(a=i.displayReadyCapability)==null||a.resolve(t))}_renderPageChunk(t,e){for(let i=0,s=t.length;i<s;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&E(this,di,ql).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:s}){const{map:a,transfer:r}=i,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:a,modifiedIds:s},r).getReader(),c=this._intentStates.get(e);c.streamReader=l;const u=()=>{l.read().then(({value:d,done:f})=>{if(f){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,c),u())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const f of c.renderTasks)f.operatorListChanged();E(this,di,ql).call(this,!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else if(c.opListReadCapability)c.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof cE){let s=YV;e.extraDelay>0&&e.extraDelay<1e3&&(s+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},s);return}}if(t.streamReader.cancel(new Dl(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,a]of this._intentStates)if(a===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}ir=new WeakMap,Is=new WeakMap,di=new WeakSet,ql=function(t=!1){if(E(this,di,Am).call(this),!h(this,Is)||this.destroyed)return!1;if(t)return S(this,ir,setTimeout(()=>{S(this,ir,null),E(this,di,ql).call(this,!1)},$V)),!1;for(const{renderTasks:e,operatorList:i}of this._intentStates.values())if(e.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),S(this,Is,!1),!0},Am=function(){h(this,ir)&&(clearTimeout(h(this,ir)),S(this,ir,null))};var zs,Hg;class s3{constructor(){x(this,zs,new Map);x(this,Hg,Promise.resolve())}postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};h(this,Hg).then(()=>{for(const[s]of h(this,zs))s.call(this,i)})}addEventListener(t,e,i=null){let s=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:a}=i;if(a.aborted){at("LoopbackPort - cannot use an `aborted` signal.");return}const r=()=>this.removeEventListener(t,e);s=()=>a.removeEventListener("abort",r),a.addEventListener("abort",r)}h(this,zs).set(e,s)}removeEventListener(t,e){const i=h(this,zs).get(e);i==null||i(),h(this,zs).delete(e)}terminate(){for(const[,t]of h(this,zs))t==null||t();h(this,zs).clear()}}zs=new WeakMap,Hg=new WeakMap;var Ug,Do,Lo,Yc,Sm,$c,Em;const Ht=class Ht{constructor({name:t=null,port:e=null,verbosity:i=Fz()}={}){x(this,Yc);var s;if(this.name=t,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((s=h(Ht,Lo))!=null&&s.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(h(Ht,Lo)||S(Ht,Lo,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return an?Promise.all([Or.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Th("main","worker",t),this._messageHandler.on("ready",function(){}),E(this,Yc,Sm).call(this)}_initialize(){if(h(Ht,Do)||h(Ht,$c,Em)){this._setupFakeWorker();return}let{workerSrc:t}=Ht;try{Ht._isSameOrigin(window.location.href,t)||(t=Ht._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new Th("main","worker",e),s=()=>{a.abort(),i.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},a=new AbortController;e.addEventListener("error",()=>{this._webWorker||s()},{signal:a.signal}),i.on("test",o=>{if(a.abort(),this.destroyed||!o){s();return}this._messageHandler=i,this._port=e,this._webWorker=e,E(this,Yc,Sm).call(this)}),i.on("ready",o=>{if(a.abort(),this.destroyed){s();return}try{r()}catch{this._setupFakeWorker()}});const r=()=>{const o=new Uint8Array;i.send("test",o,[o.buffer])};r();return}catch{Ey("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){h(Ht,Do)||(at("Setting up fake worker."),S(Ht,Do,!0)),Ht._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new s3;this._port=e;const i=`fake${rn(Ht,Ug)._++}`,s=new Th(i+"_worker",i,e);t.setup(s,e),this._messageHandler=new Th(i,i+"_worker",e),E(this,Yc,Sm).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=h(Ht,Lo))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var i;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(i=h(this,Lo))==null?void 0:i.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Ht(t)}static get workerSrc(){if(oa.workerSrc)return oa.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return dt(this,"_setupFakeWorkerGlobal",(async()=>h(this,$c,Em)?h(this,$c,Em):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ug=new WeakMap,Do=new WeakMap,Lo=new WeakMap,Yc=new WeakSet,Sm=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},$c=new WeakSet,Em=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},x(Ht,$c),x(Ht,Ug,0),x(Ht,Do,!1),x(Ht,Lo),an&&(S(Ht,Do,!0),oa.workerSrc||(oa.workerSrc="./pdf.worker.mjs")),Ht._isSameOrigin=(t,e)=>{let i;try{if(i=new URL(t),!i.origin||i.origin==="null")return!1}catch{return!1}const s=new URL(e,i);return i.origin===s.origin},Ht._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let Sc=Ht;var Vs,is,Kc,Wc,ss,Oo,_h;class a3{constructor(t,e,i,s,a){x(this,Oo);x(this,Vs,new Map);x(this,is,new Map);x(this,Kc,new Map);x(this,Wc,new Map);x(this,ss,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new hL,this.fontLoader=new nV({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return dt(this,"annotationStorage",new fE)}getRenderingIntent(t,e=Ia.ENABLE,i=null,s=!1,a=!1){let r=Hn.DISPLAY,o=x0;switch(t){case"any":r=Hn.ANY;break;case"display":break;case"print":r=Hn.PRINT;break;default:at(`getRenderingIntent - invalid intent: ${t}`)}const l=r&Hn.PRINT&&i instanceof zD?i:this.annotationStorage;switch(e){case Ia.DISABLE:r+=Hn.ANNOTATIONS_DISABLE;break;case Ia.ENABLE:break;case Ia.ENABLE_FORMS:r+=Hn.ANNOTATIONS_FORMS;break;case Ia.ENABLE_STORAGE:r+=Hn.ANNOTATIONS_STORAGE,o=l.serializable;break;default:at(`getRenderingIntent - invalid annotationMode: ${e}`)}s&&(r+=Hn.IS_EDITING),a&&(r+=Hn.OPLIST);const{ids:c,hash:u}=l.modifiedIds,d=[r,o.hash,u];return{renderingIntent:r,cacheKey:d.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=h(this,ss))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const s of h(this,is).values())t.push(s._destroy());h(this,is).clear(),h(this,Kc).clear(),h(this,Wc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var s;this.commonObjs.clear(),this.fontLoader.clear(),h(this,Vs).clear(),this.filterFactory.destroy(),k0.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new Dl("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,s)=>{Se(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},s.onPull=()=>{this._fullReader.read().then(function({value:a,done:r}){if(r){s.close();return}Se(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{this._fullReader.cancel(a),s.ready.catch(r=>{if(!this.destroyed)throw r})}}),t.on("ReaderHeadersReady",async i=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:a,contentLength:r}=this._fullReader;return(!s||!a)&&(this._lastProgress&&((o=e.onProgress)==null||o.call(e,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=e.onProgress)==null||c.call(e,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:s,isRangeSupported:a,contentLength:r}}),t.on("GetRangeReader",(i,s)=>{Se(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(i.begin,i.end);if(!a){s.close();return}s.onPull=()=>{a.read().then(function({value:r,done:o}){if(o){s.close();return}Se(r instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{s.error(r)})},s.onCancel=r=>{a.cancel(r),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new n3(i,this))}),t.on("DocException",function(i){let s;switch(i.name){case"PasswordException":s=new n0(i.message,i.code);break;case"InvalidPDFException":s=new pD(i.message);break;case"MissingPDFException":s=new Ml(i.message);break;case"UnexpectedResponseException":s=new wy(i.message,i.status);break;case"UnknownErrorException":s=new i0(i.message,i.details);break;default:Nt("DocException - expected a valid Error.")}e._capability.reject(s)}),t.on("PasswordRequest",i=>{if(S(this,ss,Promise.withResolvers()),e.onPassword){const s=a=>{a instanceof Error?h(this,ss).reject(a):h(this,ss).resolve({password:a})};try{e.onPassword(s,i.code)}catch(a){h(this,ss).reject(a)}}else h(this,ss).reject(new n0(i.message,i.code));return h(this,ss).promise}),t.on("DataLoaded",i=>{var s;(s=e.onProgress)==null||s.call(e,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;h(this,is).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,s,a])=>{var r;if(this.destroyed||this.commonObjs.has(i))return null;switch(s){case"Font":const{disableFontFace:o,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in a){const p=a.error;at(`Error during font loading: ${p}`),this.commonObjs.resolve(i,p);break}const u=c&&((r=globalThis.FontInspector)!=null&&r.enabled)?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,d=new iV(a,{disableFontFace:o,inspectFont:u});this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!l&&d.data&&(d.data=null),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:f}=a;Se(f,"The imageRef must be defined.");for(const p of h(this,is).values())for(const[,g]of p.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(i,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,a);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([i,s,a,r])=>{var l;if(this.destroyed)return;const o=h(this,is).get(s);if(!o.objs.has(i)){if(o._intentStates.size===0){(l=r==null?void 0:r.bitmap)==null||l.close();return}switch(a){case"Image":o.objs.resolve(i,r),(r==null?void 0:r.dataLen)>Lz&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(i,r);break;default:throw new Error(`Got unknown object type ${a}`)}}}),t.on("DocProgress",i=>{var s;this.destroyed||(s=e.onProgress)==null||s.call(e,{loaded:i.loaded,total:i.total})}),t.on("FetchBuiltInCMap",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(i)}),t.on("FetchStandardFontData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&at("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((i=this._fullReader)==null?void 0:i.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=h(this,Kc).get(e);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&h(this,Wc).set(a.refStr,t);const r=new i3(e,a,this,this._params.pdfBug);return h(this,is).set(e,r),r});return h(this,Kc).set(e,s),s}getPageIndex(t){return XT(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return E(this,Oo,_h).call(this,"GetFieldObjects")}hasJSActions(){return E(this,Oo,_h).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return E(this,Oo,_h).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return E(this,Oo,_h).call(this,"GetOptionalContentConfig").then(e=>new TV(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=h(this,Vs).get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(s=>{var a,r;return{info:s[0],metadata:s[1]?new wV(s[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((r=this._fullReader)==null?void 0:r.contentLength)??null}});return h(this,Vs).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of h(this,is).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),h(this,Vs).clear(),this.filterFactory.destroy(!0),k0.cleanup()}}cachedPageNumber(t){if(!XT(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return h(this,Wc).get(e)??null}}Vs=new WeakMap,is=new WeakMap,Kc=new WeakMap,Wc=new WeakMap,ss=new WeakMap,Oo=new WeakSet,_h=function(t,e=null){const i=h(this,Vs).get(t);if(i)return i;const s=this.messageHandler.sendWithPromise(t,e);return h(this,Vs).set(t,s),s};const zp=Symbol("INITIAL_DATA");var Mi,hf,j0;class hL{constructor(){x(this,hf);x(this,Mi,Object.create(null))}get(t,e=null){if(e){const s=E(this,hf,j0).call(this,t);return s.promise.then(()=>e(s.data)),null}const i=h(this,Mi)[t];if(!i||i.data===zp)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=h(this,Mi)[t];return!!e&&e.data!==zp}resolve(t,e=null){const i=E(this,hf,j0).call(this,t);i.data=e,i.resolve()}clear(){var t;for(const e in h(this,Mi)){const{data:i}=h(this,Mi)[e];(t=i==null?void 0:i.bitmap)==null||t.close()}S(this,Mi,Object.create(null))}*[Symbol.iterator](){for(const t in h(this,Mi)){const{data:e}=h(this,Mi)[t];e!==zp&&(yield[t,e])}}}Mi=new WeakMap,hf=new WeakSet,j0=function(t){var e;return(e=h(this,Mi))[t]||(e[t]={...Promise.withResolvers(),data:zp})};var sr;class r3{constructor(t){x(this,sr,null);S(this,sr,t),this.onContinue=null}get promise(){return h(this,sr).capability.promise}cancel(t=0){h(this,sr).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=h(this,sr).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=h(this,sr);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}sr=new WeakMap;var ar,ko;const Jr=class Jr{constructor({callback:t,params:e,objs:i,commonObjs:s,annotationCanvasMap:a,operatorList:r,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:f=null}){x(this,ar,null);this.callback=t,this.params=e,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=r,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new r3(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var o,l;if(this.cancelled)return;if(this._canvas){if(h(Jr,ko).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(Jr,ko).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:s,transform:a,background:r}=this.params;this.gfx=new Ac(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:s,transparency:t,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(t=null,e=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),h(this,ar)&&(window.cancelAnimationFrame(h(this,ar)),S(this,ar,null)),h(Jr,ko).delete(this._canvas),this.callback(t||new cE(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?S(this,ar,window.requestAnimationFrame(()=>{S(this,ar,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(Jr,ko).delete(this._canvas),this.callback())))}};ar=new WeakMap,ko=new WeakMap,x(Jr,ko,new WeakSet);let B0=Jr;const o3="4.8.69",l3="3634dab10";function YT(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function uh(n){return Math.max(0,Math.min(255,255*n))}class $T{static CMYK_G([t,e,i,s]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=uh(t),[t,t,t]}static G_HTML([t]){const e=YT(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(uh)}static RGB_HTML(t){return`#${t.map(YT).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,i+s),1-Math.min(1,e+s)]}static CMYK_rgb([t,e,i,s]){return[uh(1-Math.min(1,t+s)),uh(1-Math.min(1,i+s)),uh(1-Math.min(1,e+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const s=1-t,a=1-e,r=1-i,o=Math.min(s,a,r);return["CMYK",s,a,r,o]}}class c3{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),i||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${e}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${e}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Nt("Abstract method `_createSVG` called.")}}class vE extends c3{_createSVG(t){return document.createElementNS(Ls,t)}}class dL{static setupStorage(t,e,i,s,a){const r=s.getValue(e,{value:null});switch(i.name){case"textarea":if(r.value!==null&&(t.textContent=r.value),a==="print")break;t.addEventListener("input",o=>{s.setValue(e,{value:o.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(r.value===i.attributes.xfaOn?t.setAttribute("checked",!0):r.value===i.attributes.xfaOff&&t.removeAttribute("checked"),a==="print")break;t.addEventListener("change",o=>{s.setValue(e,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(r.value!==null&&t.setAttribute("value",r.value),a==="print")break;t.addEventListener("input",o=>{s.setValue(e,{value:o.target.value})})}break;case"select":if(r.value!==null){t.setAttribute("value",r.value);for(const o of i.children)o.attributes.value===r.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}t.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;s.setValue(e,{value:c})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:s,linkService:a}){const{attributes:r}=e,o=t instanceof HTMLAnchorElement;r.type==="radio"&&(r.name=`${r.name}-${s}`);for(const[l,c]of Object.entries(r))if(c!=null)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&t.setAttribute(l,c)}o&&a.addLinkAttributes(t,r.href,r.newWindow),i&&r.dataId&&this.setupStorage(t,r.dataId,e,i)}static render(t){var d,f;const e=t.annotationStorage,i=t.linkService,s=t.xfaHtml,a=t.intent||"display",r=document.createElement(s.name);s.attributes&&this.setAttributes({html:r,element:s,intent:a,linkService:i});const o=a!=="richText",l=t.div;if(l.append(r),t.viewport){const p=`matrix(${t.viewport.transform.join(",")})`;l.style.transform=p}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(s.children.length===0){if(s.value){const p=document.createTextNode(s.value);r.append(p),o&&Cd.shouldBuildText(s.name)&&c.push(p)}return{textDivs:c}}const u=[[s,-1,r]];for(;u.length>0;){const[p,g,v]=u.at(-1);if(g+1===p.children.length){u.pop();continue}const A=p.children[++u.at(-1)[1]];if(A===null)continue;const{name:m}=A;if(m==="#text"){const b=document.createTextNode(A.value);c.push(b),v.append(b);continue}const y=(d=A==null?void 0:A.attributes)!=null&&d.xmlns?document.createElementNS(A.attributes.xmlns,m):document.createElement(m);if(v.append(y),A.attributes&&this.setAttributes({html:y,element:A,storage:e,intent:a,linkService:i}),((f=A.children)==null?void 0:f.length)>0)u.push([A,-1,y]);else if(A.value){const b=document.createTextNode(A.value);o&&Cd.shouldBuildText(m)&&c.push(b),y.append(b)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const fp=1e3,u3=9,yl=new WeakSet;function ya(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class h3{static create(t){switch(t.data.annotationType){case me.LINK:return new fL(t);case me.TEXT:return new d3(t);case me.WIDGET:switch(t.data.fieldType){case"Tx":return new f3(t);case"Btn":return t.data.radioButton?new gL(t):t.data.checkBox?new m3(t):new g3(t);case"Ch":return new y3(t);case"Sig":return new p3(t)}return new Ll(t);case me.POPUP:return new U0(t);case me.FREETEXT:return new SL(t);case me.LINE:return new b3(t);case me.SQUARE:return new A3(t);case me.CIRCLE:return new S3(t);case me.POLYLINE:return new EL(t);case me.CARET:return new w3(t);case me.INK:return new bE(t);case me.POLYGON:return new E3(t);case me.HIGHLIGHT:return new wL(t);case me.UNDERLINE:return new x3(t);case me.SQUIGGLY:return new T3(t);case me.STRIKEOUT:return new _3(t);case me.STAMP:return new xL(t);case me.FILEATTACHMENT:return new C3(t);default:return new oe(t)}}}var Po,Qc,Zc,df,H0;const wE=class wE{constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:s=!1}={}){x(this,df);x(this,Po,null);x(this,Qc,!1);x(this,Zc,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:i}){return!!(t!=null&&t.str||e!=null&&e.str||i!=null&&i.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return wE._hasPopupData(this.data)}updateEdited(t){var i;if(!this.container)return;h(this,Po)||S(this,Po,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&E(this,df,H0).call(this,e),(i=h(this,Zc))==null||i.popup.updateEdited(t)}resetEdited(){var t;h(this,Po)&&(E(this,df,H0).call(this,h(this,Po).rect),(t=h(this,Zc))==null||t.popup.resetEdited(),S(this,Po,null))}_createContainer(t){const{data:e,parent:{page:i,viewport:s}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",e.id),this instanceof Ll||(a.tabIndex=fp);const{style:r}=a;if(r.zIndex=this.parent.zIndex++,e.alternativeText&&(a.title=e.alternativeText),e.noRotate&&a.classList.add("norotate"),!e.rect||this instanceof U0){const{rotation:v}=e;return!e.hasOwnCanvas&&v!==0&&this.setRotation(v,a),a}const{width:o,height:l}=ya(e.rect);if(!t&&e.borderStyle.width>0){r.borderWidth=`${e.borderStyle.width}px`;const v=e.borderStyle.horizontalCornerRadius,A=e.borderStyle.verticalCornerRadius;if(v>0||A>0){const y=`calc(${v}px * var(--scale-factor)) / calc(${A}px * var(--scale-factor))`;r.borderRadius=y}else if(this instanceof gL){const y=`calc(${o}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;r.borderRadius=y}switch(e.borderStyle.style){case lh.SOLID:r.borderStyle="solid";break;case lh.DASHED:r.borderStyle="dashed";break;case lh.BEVELED:at("Unimplemented border style: beveled");break;case lh.INSET:at("Unimplemented border style: inset");break;case lh.UNDERLINE:r.borderBottomStyle="solid";break}const m=e.borderColor||null;m?(S(this,Qc,!0),r.borderColor=z.makeHexColor(m[0]|0,m[1]|0,m[2]|0)):r.borderWidth=0}const c=z.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:u,pageHeight:d,pageX:f,pageY:p}=s.rawDims;r.left=`${100*(c[0]-f)/u}%`,r.top=`${100*(c[1]-p)/d}%`;const{rotation:g}=e;return e.hasOwnCanvas||g===0?(r.width=`${100*o/u}%`,r.height=`${100*l/d}%`):this.setRotation(g,a),a}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:s}=this.parent.viewport.rawDims,{width:a,height:r}=ya(this.data.rect);let o,l;t%180===0?(o=100*a/i,l=100*r/s):(o=100*r/i,l=100*a/s),e.style.width=`${o}%`,e.style.height=`${l}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,s)=>{const a=s.detail[e],r=a[0],o=a.slice(1);s.target.style[i]=$T[`${r}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[i]:$T[`${r}_rgb`](o)})};return dt(this,"_commonActions",{display:e=>{const{display:i}=e.detail,s=i%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const s of Object.keys(e.detail)){const a=t[s]||i[s];a==null||a(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[s,a]of Object.entries(e)){const r=i[s];if(r){const o={detail:{[s]:a},target:t};r(o),delete e[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,s,a]=this.data.rect.map(v=>Math.fround(v));if(t.length===8){const[v,A,m,y]=t.subarray(2,6);if(s===v&&a===A&&e===m&&i===y)return}const{style:r}=this.container;let o;if(h(this,Qc)){const{borderColor:v,borderWidth:A}=r;r.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const l=s-e,c=a-i,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const f=u.createElement("defs");d.append(f);const p=u.createElement("clipPath"),g=`clippath_${this.data.id}`;p.setAttribute("id",g),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let v=2,A=t.length;v<A;v+=8){const m=t[v],y=t[v+1],b=t[v+2],w=t[v+3],T=u.createElement("rect"),R=(b-e)/l,M=(a-y)/c,D=(m-b)/l,O=(y-w)/c;T.setAttribute("x",R),T.setAttribute("y",M),T.setAttribute("width",D),T.setAttribute("height",O),p.append(T),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${R}" y="${M}" width="${D}" height="${O}"/>`)}h(this,Qc)&&(o.push("</g></svg>')"),r.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{data:t}=this,e=S(this,Zc,new U0({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){Nt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:a,id:r,exportValues:o}of s){if(a===-1||r===e)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${r}"]`);if(c&&!yl.has(c)){at(`_getElementsByName - element not allowed: ${r}`);continue}i.push({id:r,exportValue:l,domElement:c})}return i}for(const s of document.getElementsByName(t)){const{exportValue:a}=s,r=s.getAttribute("data-element-id");r!==e&&yl.has(s)&&i.push({id:r,exportValue:a,domElement:s})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};Po=new WeakMap,Qc=new WeakMap,Zc=new WeakMap,df=new WeakSet,H0=function(t){const{container:{style:e},data:{rect:i,rotation:s},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:r,pageX:o,pageY:l}}}}=this;i==null||i.splice(0,4,...t);const{width:c,height:u}=ya(t);e.left=`${100*(t[0]-o)/a}%`,e.top=`${100*(r-t[3]+l)/r}%`,s===0?(e.width=`${100*c/a}%`,e.height=`${100*u/r}%`):this.setRotation(s)};let oe=wE;var In,Yr,pL,mL;class fL extends oe{constructor(e,i=null){super(e,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});x(this,In);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:i}=this,s=document.createElement("a");s.setAttribute("data-element-id",e.id);let a=!1;return e.url?(i.addLinkAttributes(s,e.url,e.newWindow),a=!0):e.action?(this._bindNamedAction(s,e.action),a=!0):e.attachment?(E(this,In,pL).call(this,s,e.attachment,e.attachmentDest),a=!0):e.setOCGState?(E(this,In,mL).call(this,s,e.setOCGState),a=!0):e.dest?(this._bindLink(s,e.dest),a=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,e),a=!0),e.resetForm?(this._bindResetFormAction(s,e.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(s,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(s),this.container}_bindLink(e,i){e.href=this.linkService.getDestinationHash(i),e.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&E(this,In,Yr).call(this)}_bindNamedAction(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(i),!1),E(this,In,Yr).call(this)}_bindJSAction(e,i){e.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(i.actions)){const r=s.get(a);r&&(e[r]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:a}}),!1})}e.onclick||(e.onclick=()=>!1),E(this,In,Yr).call(this)}_bindResetFormAction(e,i){const s=e.onclick;if(s||(e.href=this.linkService.getAnchorUrl("")),E(this,In,Yr).call(this),!this._fieldObjects){at('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(e.onclick=()=>!1);return}e.onclick=()=>{var d;s==null||s();const{fields:a,refs:r,include:o}=i,l=[];if(a.length!==0||r.length!==0){const f=new Set(r);for(const p of a){const g=this._fieldObjects[p]||[];for(const{id:v}of g)f.add(v)}for(const p of Object.values(this._fieldObjects))for(const g of p)f.has(g.id)===o&&l.push(g)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const c=this.annotationStorage,u=[];for(const f of l){const{id:p}=f;switch(u.push(p),f.type){case"text":{const v=f.defaultValue||"";c.setValue(p,{value:v});break}case"checkbox":case"radiobutton":{const v=f.defaultValue===f.exportValues;c.setValue(p,{value:v});break}case"combobox":case"listbox":{const v=f.defaultValue||"";c.setValue(p,{value:v});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!yl.has(g)){at(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}In=new WeakSet,Yr=function(){this.container.setAttribute("data-internal-link","")},pL=function(e,i,s=null){e.href=this.linkService.getAnchorUrl(""),i.description&&(e.title=i.description),e.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(i.content,i.filename,s),!1},E(this,In,Yr).call(this)},mL=function(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(i),!1),E(this,In,Yr).call(this)};class d3 extends oe{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Ll extends oe{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return pn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,s,a){i.includes("mouse")?t.addEventListener(i,r=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(r),shift:r.shiftKey,modifier:this._getKeyModifier(r)}})}):t.addEventListener(i,r=>{var o;if(i==="blur"){if(!e.focused||!r.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}a&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(r)}}))})}_setEventListeners(t,e,i,s){var a,r,o;for(const[l,c]of i)(c==="Action"||(a=this.data.actions)!=null&&a[c])&&((c==="Focus"||c==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,l,c,s),c==="Focus"&&!((r=this.data.actions)!=null&&r.Blur)?this._setEventListener(t,e,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":z.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||u3,a=t.style;let r;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),u=Math.round(c/(Ov*s))||1,d=c/u;r=Math.min(s,l(d/Ov))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);r=Math.min(s,l(c/Ov))}a.fontSize=`calc(${r}px * var(--scale-factor))`,a.color=z.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(a.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class f3 extends Ll{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,s){const a=this.annotationStorage;for(const r of this._getElementsByName(t.name,t.id))r.domElement&&(r.domElement[e]=i),a.setValue(r.id,{[s]:i})}render(){var s,a;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let o=r.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=r.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=c??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",c??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),yl.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=fp,this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",f=>{t.setValue(e,{value:f.target.value}),this.setPropertyOnSiblings(i,"value",f.target.value,"value"),u.formattedValue=null}),i.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";i.value=u.userValue=p,u.formattedValue=null});let d=f=>{const{formattedValue:p}=u;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",p=>{var v;if(u.focused)return;const{target:g}=p;u.userValue&&(g.value=u.userValue),u.lastCommittedValue=g.value,u.commitKey=1,(v=this.data.actions)!=null&&v.Focus||(u.focused=!0)}),i.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const g={value(v){u.userValue=v.detail.value??"",t.setValue(e,{value:u.userValue.toString()}),v.target.value=u.userValue},formattedValue(v){const{formattedValue:A}=v.detail;u.formattedValue=A,A!=null&&v.target!==document.activeElement&&(v.target.value=A),t.setValue(e,{formattedValue:A})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{var b;const{charLimit:A}=v.detail,{target:m}=v;if(A===0){m.removeAttribute("maxLength");return}m.setAttribute("maxLength",A);let y=u.userValue;!y||y.length<=A||(y=y.slice(0,A),m.value=u.userValue=y,t.setValue(e,{value:y}),(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:y,willCommit:!0,commitKey:1,selStart:m.selectionStart,selEnd:m.selectionEnd}}))}};this._dispatchEventFromSandbox(g,p)}),i.addEventListener("keydown",p=>{var A;u.commitKey=1;let g=-1;if(p.key==="Escape"?g=0:p.key==="Enter"&&!this.data.multiLine?g=2:p.key==="Tab"&&(u.commitKey=3),g===-1)return;const{value:v}=p.target;u.lastCommittedValue!==v&&(u.lastCommittedValue=v,u.userValue=v,(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:v,willCommit:!0,commitKey:g,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=d;d=null,i.addEventListener("blur",p=>{var v,A;if(!u.focused||!p.relatedTarget)return;(v=this.data.actions)!=null&&v.Blur||(u.focused=!1);const{value:g}=p.target;u.userValue=g,u.lastCommittedValue!==g&&((A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:g,willCommit:!0,commitKey:u.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(a=this.data.actions)!=null&&a.Keystroke&&i.addEventListener("beforeinput",p=>{var T;u.lastCommittedValue=null;const{data:g,target:v}=p,{value:A,selectionStart:m,selectionEnd:y}=v;let b=m,w=y;switch(p.inputType){case"deleteWordBackward":{const R=A.substring(0,m).match(/\w*[^\w]*$/);R&&(b-=R[0].length);break}case"deleteWordForward":{const R=A.substring(m).match(/^[^\w]*\w*/);R&&(w+=R[0].length);break}case"deleteContentBackward":m===y&&(b-=1);break;case"deleteContentForward":m===y&&(w+=1);break}p.preventDefault(),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,change:g||"",willCommit:!1,selStart:b,selEnd:w}})}),this._setEventListeners(i,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&i.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class p3 extends Ll{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class m3 extends Ll{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let s=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(i,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return yl.add(a),a.setAttribute("data-element-id",i),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=e.fieldName,s&&a.setAttribute("checked",!0),a.setAttribute("exportValue",e.exportValue),a.tabIndex=fp,a.addEventListener("change",r=>{const{name:o,checked:l}=r.target;for(const c of this._getElementsByName(o,i)){const u=l&&c.exportValue===e.exportValue;c.domElement&&(c.domElement.checked=u),t.setValue(c.id,{value:u})}t.setValue(i,{value:l})}),a.addEventListener("resetform",r=>{const o=e.defaultFieldValue||"Off";r.target.checked=o===e.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",r=>{const o={value(l){l.target.checked=l.detail.value!=="Off",t.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,r)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],r=>r.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class gL extends Ll{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let s=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof s=="string"&&(s=s!==e.buttonValue,t.setValue(i,{value:s})),s)for(const r of this._getElementsByName(e.fieldName,i))t.setValue(r.id,{value:!1});const a=document.createElement("input");if(yl.add(a),a.setAttribute("data-element-id",i),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=e.fieldName,s&&a.setAttribute("checked",!0),a.tabIndex=fp,a.addEventListener("change",r=>{const{name:o,checked:l}=r.target;for(const c of this._getElementsByName(o,i))t.setValue(c.id,{value:!1});t.setValue(i,{value:l})}),a.addEventListener("resetform",r=>{const o=e.defaultFieldValue;r.target.checked=o!=null&&o===e.buttonValue}),this.enableScripting&&this.hasJSActions){const r=e.buttonValue;a.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const u=r===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const f=u&&d.id===i;d.domElement&&(d.domElement.checked=f),t.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class g3 extends fL{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class y3 extends Ll{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),s=document.createElement("select");yl.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=fp;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",u=>{const d=this.data.defaultFieldValue;for(const f of s.options)f.selected=f.value===d});for(const u of this.data.options){const d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,i.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),a=!1),s.append(d)}let r=null;if(a){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),s.prepend(u),r=()=>{u.remove(),s.removeEventListener("input",r),r=null},s.addEventListener("input",r)}const o=u=>{const d=u?"value":"textContent",{options:f,multiple:p}=s;return p?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let l=o(!1);const c=u=>{const d=u.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",u=>{const d={value(f){r==null||r();const p=f.detail.value,g=new Set(Array.isArray(p)?p:[p]);for(const v of s.options)v.selected=g.has(v.value);t.setValue(e,{value:o(!0)}),l=o(!1)},multipleSelection(f){s.multiple=!0},remove(f){const p=s.options,g=f.detail.remove;p[g].selected=!1,s.remove(g),p.length>0&&Array.prototype.findIndex.call(p,A=>A.selected)===-1&&(p[0].selected=!0),t.setValue(e,{value:o(!0),items:c(f)}),l=o(!1)},clear(f){for(;s.length!==0;)s.remove(0);t.setValue(e,{value:null,items:[]}),l=o(!1)},insert(f){const{index:p,displayValue:g,exportValue:v}=f.detail.insert,A=s.children[p],m=document.createElement("option");m.textContent=g,m.value=v,A?A.before(m):s.append(m),t.setValue(e,{value:o(!0),items:c(f)}),l=o(!1)},items(f){const{items:p}=f.detail;for(;s.length!==0;)s.remove(0);for(const g of p){const{displayValue:v,exportValue:A}=g,m=document.createElement("option");m.textContent=v,m.value=A,s.append(m)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(e,{value:o(!0),items:c(f)}),l=o(!1)},indices(f){const p=new Set(f.detail.indices);for(const g of f.target.options)g.selected=p.has(g.index);t.setValue(e,{value:o(!0)}),l=o(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,u)}),s.addEventListener("input",u=>{var p;const d=o(!0),f=o(!1);t.setValue(e,{value:d}),u.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:l,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):s.addEventListener("input",function(u){t.setValue(e,{value:o(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class U0 extends oe{constructor(t){const{data:e,elements:i}=t;super(t,{isRenderable:oe._hasPopupData(e)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new v3({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",e.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(i=>`${lE}${i}`).join(",")),this.container}}var Jc,Ig,zg,tu,No,Qt,Gs,eu,ff,pf,nu,qs,Di,Xs,mf,Ys,gf,Fo,jo,_t,wm,I0,yL,vL,bL,AL,xm,Tm,z0;class v3{constructor({container:t,color:e,elements:i,titleObj:s,modificationDate:a,contentsObj:r,richText:o,parent:l,rect:c,parentRect:u,open:d}){x(this,_t);x(this,Jc,E(this,_t,bL).bind(this));x(this,Ig,E(this,_t,z0).bind(this));x(this,zg,E(this,_t,Tm).bind(this));x(this,tu,E(this,_t,xm).bind(this));x(this,No,null);x(this,Qt,null);x(this,Gs,null);x(this,eu,null);x(this,ff,null);x(this,pf,null);x(this,nu,null);x(this,qs,!1);x(this,Di,null);x(this,Xs,null);x(this,mf,null);x(this,Ys,null);x(this,gf,null);x(this,Fo,null);x(this,jo,!1);var f;S(this,Qt,t),S(this,gf,s),S(this,Gs,r),S(this,Ys,o),S(this,pf,l),S(this,No,e),S(this,mf,c),S(this,nu,u),S(this,ff,i),S(this,eu,hE.toDateObject(a)),this.trigger=i.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",h(this,tu)),p.addEventListener("mouseenter",h(this,zg)),p.addEventListener("mouseleave",h(this,Ig)),p.classList.add("popupTriggerArea");for(const p of i)(f=p.container)==null||f.addEventListener("keydown",h(this,Jc));h(this,Qt).hidden=!0,d&&E(this,_t,xm).call(this)}render(){if(h(this,Di))return;const t=S(this,Di,document.createElement("div"));if(t.className="popup",h(this,No)){const a=t.style.outlineColor=z.makeHexColor(...h(this,No));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`:t.style.backgroundColor=z.makeHexColor(...h(this,No).map(o=>Math.floor(.7*(255-o)+o)))}const e=document.createElement("span");e.className="header";const i=document.createElement("h1");if(e.append(i),{dir:i.dir,str:i.textContent}=h(this,gf),t.append(e),h(this,eu)){const a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:h(this,eu).valueOf()})),e.append(a)}const s=h(this,_t,wm);if(s)dL.render({xfaHtml:s,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(h(this,Gs));t.append(a)}h(this,Qt).append(t)}_formatContents({str:t,dir:e}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;const s=t.split(/(?:\r\n?|\n)/);for(let a=0,r=s.length;a<r;++a){const o=s[a];i.append(document.createTextNode(o)),a<r-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:t,popupContent:e}){var i;h(this,Fo)||S(this,Fo,{contentsObj:h(this,Gs),richText:h(this,Ys)}),t&&S(this,Xs,null),e&&(S(this,Ys,E(this,_t,vL).call(this,e)),S(this,Gs,null)),(i=h(this,Di))==null||i.remove(),S(this,Di,null)}resetEdited(){var t;h(this,Fo)&&({contentsObj:rn(this,Gs)._,richText:rn(this,Ys)._}=h(this,Fo),S(this,Fo,null),(t=h(this,Di))==null||t.remove(),S(this,Di,null),S(this,Xs,null))}forceHide(){S(this,jo,this.isVisible),h(this,jo)&&(h(this,Qt).hidden=!0)}maybeShow(){h(this,jo)&&(h(this,Di)||E(this,_t,Tm).call(this),S(this,jo,!1),h(this,Qt).hidden=!1)}get isVisible(){return h(this,Qt).hidden===!1}}Jc=new WeakMap,Ig=new WeakMap,zg=new WeakMap,tu=new WeakMap,No=new WeakMap,Qt=new WeakMap,Gs=new WeakMap,eu=new WeakMap,ff=new WeakMap,pf=new WeakMap,nu=new WeakMap,qs=new WeakMap,Di=new WeakMap,Xs=new WeakMap,mf=new WeakMap,Ys=new WeakMap,gf=new WeakMap,Fo=new WeakMap,jo=new WeakMap,_t=new WeakSet,wm=function(){const t=h(this,Ys),e=h(this,Gs);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&h(this,Ys).html||null},I0=function(){var t,e,i;return((i=(e=(t=h(this,_t,wm))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.fontSize)||0},yL=function(){var t,e,i;return((i=(e=(t=h(this,_t,wm))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.color)||null},vL=function(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},s={style:{color:h(this,_t,yL),fontSize:h(this,_t,I0)?`calc(${h(this,_t,I0)}px * var(--scale-factor))`:""}};for(const a of t.split(`
`))e.push({name:"span",value:a,attributes:s});return i},bL=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&h(this,qs))&&E(this,_t,xm).call(this)},AL=function(){if(h(this,Xs)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:s,pageY:a}}}=h(this,pf);let r=!!h(this,nu),o=r?h(this,nu):h(this,mf);for(const g of h(this,ff))if(!o||z.intersect(g.data.rect,o)!==null){o=g.data.rect,r=!0;break}const l=z.normalizeRect([o[0],t[3]-o[1]+t[1],o[2],t[3]-o[3]+t[1]]),u=r?o[2]-o[0]+5:0,d=l[0]+u,f=l[1];S(this,Xs,[100*(d-s)/e,100*(f-a)/i]);const{style:p}=h(this,Qt);p.left=`${h(this,Xs)[0]}%`,p.top=`${h(this,Xs)[1]}%`},xm=function(){S(this,qs,!h(this,qs)),h(this,qs)?(E(this,_t,Tm).call(this),h(this,Qt).addEventListener("click",h(this,tu)),h(this,Qt).addEventListener("keydown",h(this,Jc))):(E(this,_t,z0).call(this),h(this,Qt).removeEventListener("click",h(this,tu)),h(this,Qt).removeEventListener("keydown",h(this,Jc)))},Tm=function(){h(this,Di)||this.render(),this.isVisible?h(this,qs)&&h(this,Qt).classList.add("focused"):(E(this,_t,AL).call(this),h(this,Qt).hidden=!1,h(this,Qt).style.zIndex=parseInt(h(this,Qt).style.zIndex)+1e3)},z0=function(){h(this,Qt).classList.remove("focused"),!(h(this,qs)||!this.isVisible)&&(h(this,Qt).hidden=!0,h(this,Qt).style.zIndex=parseInt(h(this,Qt).style.zIndex)-1e3)};class SL extends oe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=nt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var yf;class b3 extends oe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,yf,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:i,height:s}=ya(e.rect),a=this.svgFactory.create(i,s,!0),r=S(this,yf,this.svgFactory.createElement("svg:line"));return r.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),r.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),r.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),r.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),r.setAttribute("stroke-width",e.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),a.append(r),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,yf)}addHighlightArea(){this.container.classList.add("highlightArea")}}yf=new WeakMap;var vf;class A3 extends oe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,vf,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:i,height:s}=ya(e.rect),a=this.svgFactory.create(i,s,!0),r=e.borderStyle.width,o=S(this,vf,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",r/2),o.setAttribute("y",r/2),o.setAttribute("width",i-r),o.setAttribute("height",s-r),o.setAttribute("stroke-width",r||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,vf)}addHighlightArea(){this.container.classList.add("highlightArea")}}vf=new WeakMap;var bf;class S3 extends oe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,bf,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:i,height:s}=ya(e.rect),a=this.svgFactory.create(i,s,!0),r=e.borderStyle.width,o=S(this,bf,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",i/2),o.setAttribute("cy",s/2),o.setAttribute("rx",i/2-r/2),o.setAttribute("ry",s/2-r/2),o.setAttribute("stroke-width",r||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,bf)}addHighlightArea(){this.container.classList.add("highlightArea")}}bf=new WeakMap;var Af;class EL extends oe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Af,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:i,borderStyle:s,popupRef:a}}=this;if(!i)return this.container;const{width:r,height:o}=ya(e),l=this.svgFactory.create(r,o,!0);let c=[];for(let d=0,f=i.length;d<f;d+=2){const p=i[d]-e[0],g=e[3]-i[d+1];c.push(`${p},${g}`)}c=c.join(" ");const u=S(this,Af,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",s.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Af)}addHighlightArea(){this.container.classList.add("highlightArea")}}Af=new WeakMap;class E3 extends EL{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class w3 extends oe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Sf;class bE extends oe{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Sf,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?nt.HIGHLIGHT:nt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:i,borderStyle:s,popupRef:a}}=this,{width:r,height:o}=ya(e),l=this.svgFactory.create(r,o,!0);for(const c of i){let u=[];for(let f=0,p=c.length;f<p;f+=2){const g=c[f]-e[0],v=e[3]-c[f+1];u.push(`${g},${v}`)}u=u.join(" ");const d=this.svgFactory.createElement(this.svgElementName);h(this,Sf).push(d),d.setAttribute("points",u),d.setAttribute("stroke-width",s.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return h(this,Sf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Sf=new WeakMap;class wL extends oe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=nt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class x3 extends oe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class T3 extends oe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class _3 extends oe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class xL extends oe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=nt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Ef,wf,V0;class C3 extends oe{constructor(e){var s;super(e,{isRenderable:!0});x(this,wf);x(this,Ef,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:i}=this;let s;i.hasAppearance||i.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),s.addEventListener("dblclick",E(this,wf,V0).bind(this)),S(this,Ef,s);const{isMac:a}=pn.platform;return e.addEventListener("keydown",r=>{r.key==="Enter"&&(a?r.metaKey:r.ctrlKey)&&E(this,wf,V0).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),e.append(s),e}getElementsToTriggerPopup(){return h(this,Ef)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ef=new WeakMap,wf=new WeakSet,V0=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var xf,Bo,Ho,Tf,bl,TL,G0,r_;let R3=(r_=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:s,page:a,viewport:r,structTreeLayer:o}){x(this,bl);x(this,xf,null);x(this,Bo,null);x(this,Ho,new Map);x(this,Tf,null);this.div=t,S(this,xf,e),S(this,Bo,i),S(this,Tf,o||null),this.page=a,this.viewport=r,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return h(this,Ho).size>0}async render(t){var r;const{annotations:e}=t,i=this.div;ml(i,this.viewport);const s=new Map,a={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new vE,annotationStorage:t.annotationStorage||new fE,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const o of e){if(o.noHTML)continue;const l=o.annotationType===me.POPUP;if(l){const d=s.get(o.id);if(!d)continue;a.elements=d}else{const{width:d,height:f}=ya(o.rect);if(d<=0||f<=0)continue}a.data=o;const c=h3.create(a);if(!c.isRenderable)continue;if(!l&&o.popupRef){const d=s.get(o.popupRef);d?d.push(c):s.set(o.popupRef,[c])}const u=c.render();o.hidden&&(u.style.visibility="hidden"),await E(this,bl,TL).call(this,u,o.id),c._isEditable&&(h(this,Ho).set(c.data.id,c),(r=this._annotationEditorUIManager)==null||r.renderAnnotationElement(c))}E(this,bl,G0).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,ml(e,{rotation:t.rotation}),E(this,bl,G0).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(h(this,Ho).values())}getEditableAnnotation(t){return h(this,Ho).get(t)}},xf=new WeakMap,Bo=new WeakMap,Ho=new WeakMap,Tf=new WeakMap,bl=new WeakSet,TL=async function(t,e){var r,o;const i=t.firstChild||t,s=i.id=`${lE}${e}`,a=await((r=h(this,Tf))==null?void 0:r.getAriaAttributes(s));if(a)for(const[l,c]of a)i.setAttribute(l,c);this.div.append(t),(o=h(this,xf))==null||o.moveElementInDOM(this.div,t,i,!1)},G0=function(){if(!h(this,Bo))return;const t=this.div;for(const[e,i]of h(this,Bo)){const s=t.querySelector(`[data-annotation-id="${e}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):s.append(i)}h(this,Bo).clear()},r_);const Vp=/\r\n?|\n/g;var Li,On,_f,Uo,kn,pe,_L,CL,RL,_m,ba,Cm,Rm,ML,X0,DL;const Lt=class Lt extends Et{constructor(e){super({...e,name:"freeTextEditor"});x(this,pe);x(this,Li);x(this,On,"");x(this,_f,`${this.id}-editor`);x(this,Uo,null);x(this,kn);S(this,Li,e.color||Lt._defaultColor||Et._defaultLineColor),S(this,kn,e.fontSize||Lt._defaultFontSize)}static get _keyboardManager(){const e=Lt.prototype,i=r=>r.isEmpty(),s=gl.TRANSLATE_SMALL,a=gl.TRANSLATE_BIG;return dt(this,"_keyboardManager",new dp([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[a,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:i}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,a],checker:i}]]))}static initialize(e,i){Et.initialize(e,i);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,i){switch(e){case W.FREETEXT_SIZE:Lt._defaultFontSize=i;break;case W.FREETEXT_COLOR:Lt._defaultColor=i;break}}updateParams(e,i){switch(e){case W.FREETEXT_SIZE:E(this,pe,_L).call(this,i);break;case W.FREETEXT_COLOR:E(this,pe,CL).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[W.FREETEXT_SIZE,Lt._defaultFontSize],[W.FREETEXT_COLOR,Lt._defaultColor||Et._defaultLineColor]]}get propertiesToUpdate(){return[[W.FREETEXT_SIZE,h(this,kn)],[W.FREETEXT_COLOR,h(this,Li)]]}_translateEmpty(e,i){this._uiManager.translateSelectedEditors(e,i,!0)}getInitialTranslation(){const e=this.parentScale;return[-Lt._internalPadding*e,-(Lt._internalPadding+h(this,kn))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(nt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),S(this,Uo,new AbortController);const e=this._uiManager.combinedSignal(h(this,Uo));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,_f)),this._isDraggable=!0,(e=h(this,Uo))==null||e.abort(),S(this,Uo,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=h(this,On),i=S(this,On,E(this,pe,RL).call(this).trimEnd());if(e===i)return;const s=a=>{if(S(this,On,a),!a){this.remove();return}E(this,pe,Rm).call(this),this._uiManager.rebuild(this),E(this,pe,_m).call(this)};this.addCommands({cmd:()=>{s(i)},undo:()=>{s(e)},mustExec:!1}),E(this,pe,_m).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Lt._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,i;this.width&&(e=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,_f)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${h(this,kn)}px * var(--scale-factor))`,s.color=h(this,Li),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),wg(this,this.div,["dblclick","keydown"]),this.width){const[a,r]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,d]=this.pageDimensions,[f,p]=this.pageTranslation;let g,v;switch(this.rotation){case 0:g=e+(o[0]-f)/u,v=i+this.height-(o[1]-p)/d;break;case 90:g=e+(o[0]-f)/u,v=i-(o[1]-p)/d,[l,c]=[c,-l];break;case 180:g=e-this.width+(o[0]-f)/u,v=i-(o[1]-p)/d,[l,c]=[-l,-c];break;case 270:g=e+(o[0]-f-this.height*d)/u,v=i+(o[1]-p-this.width*u)/d,[l,c]=[-c,l];break}this.setAt(g*a,v*r,l,c)}else this.setAt(e*a,i*r,this.width*a,this.height*r);E(this,pe,Rm).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var g,v,A;const i=e.clipboardData||window.clipboardData,{types:s}=i;if(s.length===1&&s[0]==="text/plain")return;e.preventDefault();const a=E(g=Lt,ba,X0).call(g,i.getData("text")||"").replaceAll(Vp,`
`);if(!a)return;const r=window.getSelection();if(!r.rangeCount)return;this.editorDiv.normalize(),r.deleteFromDocument();const o=r.getRangeAt(0);if(!a.includes(`
`)){o.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),r.collapseToStart();return}const{startContainer:l,startOffset:c}=o,u=[],d=[];if(l.nodeType===Node.TEXT_NODE){const m=l.parentElement;if(d.push(l.nodeValue.slice(c).replaceAll(Vp,"")),m!==this.editorDiv){let y=u;for(const b of this.editorDiv.childNodes){if(b===m){y=d;continue}y.push(E(v=Lt,ba,Cm).call(v,b))}}u.push(l.nodeValue.slice(0,c).replaceAll(Vp,""))}else if(l===this.editorDiv){let m=u,y=0;for(const b of this.editorDiv.childNodes)y++===c&&(m=d),m.push(E(A=Lt,ba,Cm).call(A,b))}S(this,On,`${u.join(`
`)}${a}${d.join(`
`)}`),E(this,pe,Rm).call(this);const f=new Range;let p=u.reduce((m,y)=>m+y.length,0);for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const y=m.nodeValue.length;if(p<=y){f.setStart(m,p),f.setEnd(m,p);break}p-=y}r.removeAllRanges(),r.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(e,i,s){var o;let a=null;if(e instanceof SL){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:d,id:f,popupRef:p},textContent:g,textPosition:v,parent:{page:{pageNumber:A}}}=e;if(!g||g.length===0)return null;a=e={annotationType:nt.FREETEXT,color:Array.from(c),fontSize:l,value:g.join(`
`),position:v,pageIndex:A-1,rect:u.slice(0),rotation:d,id:f,deleted:!1,popupRef:p}}const r=await super.deserialize(e,i,s);return S(r,kn,e.fontSize),S(r,Li,z.makeHexColor(...e.color)),S(r,On,E(o=Lt,ba,X0).call(o,e.value)),r.annotationElementId=e.id||null,r._initialData=a,r}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Lt._internalPadding*this.parentScale,s=this.getRect(i,i),a=Et._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,Li)),r={annotationType:nt.FREETEXT,color:a,fontSize:h(this,kn),value:E(this,pe,ML).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?r:this.annotationElementId&&!E(this,pe,DL).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(e){const i=super.renderAnnotationElement(e);if(this.deleted)return i;const{style:s}=i;s.fontSize=`calc(${h(this,kn)}px * var(--scale-factor))`,s.color=h(this,Li),i.replaceChildren();for(const r of h(this,On).split(`
`)){const o=document.createElement("div");o.append(r?document.createTextNode(r):document.createElement("br")),i.append(o)}const a=Lt._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(a,a),popupContent:h(this,On)}),i}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Li=new WeakMap,On=new WeakMap,_f=new WeakMap,Uo=new WeakMap,kn=new WeakMap,pe=new WeakSet,_L=function(e){const i=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--scale-factor))`,this.translate(0,-(a-h(this,kn))*this.parentScale),S(this,kn,a),E(this,pe,_m).call(this)},s=h(this,kn);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:W.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},CL=function(e){const i=a=>{S(this,Li,this.editorDiv.style.color=a)},s=h(this,Li);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:W.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},RL=function(){var s;const e=[];this.editorDiv.normalize();let i=null;for(const a of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(e.push(E(s=Lt,ba,Cm).call(s,a)),i=a);return e.join(`
`)},_m=function(){const[e,i]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:a,div:r}=this,o=r.style.display,l=r.classList.contains("hidden");r.classList.remove("hidden"),r.style.display="hidden",a.div.append(this.div),s=r.getBoundingClientRect(),r.remove(),r.style.display=o,r.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=s.width/e,this.height=s.height/i):(this.width=s.height/e,this.height=s.width/i),this.fixAndSetPosition()},ba=new WeakSet,Cm=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Vp,"")},Rm=function(){if(this.editorDiv.replaceChildren(),!!h(this,On))for(const e of h(this,On).split(`
`)){const i=document.createElement("div");i.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(i)}},ML=function(){return h(this,On).replaceAll(" "," ")},X0=function(e){return e.replaceAll(" "," ")},DL=function(e){const{value:i,fontSize:s,color:a,pageIndex:r}=this._initialData;return this._hasBeenMoved||e.value!==i||e.fontSize!==s||e.color.some((o,l)=>o!==a[l])||e.pageIndex!==r},x(Lt,ba),K(Lt,"_freeTextDefaultContent",""),K(Lt,"_internalPadding",0),K(Lt,"_defaultColor",null),K(Lt,"_defaultFontSize",10),K(Lt,"_type","freetext"),K(Lt,"_editorType",nt.FREETEXT);let q0=Lt;class LL{toSVGPath(){Nt("Abstract method `toSVGPath` must be implemented.")}get box(){Nt("Abstract getter `box` must be implemented.")}serialize(t,e){Nt("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Nt("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Nt("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Pn,Oi,iu,su,as,lt,Io,zo,Cf,Rf,au,ru,rr,Mf,Vg,Gg,Ee,Ch,OL,kL,PL,NL,FL,jL;const ks=class ks{constructor({x:t,y:e},i,s,a,r,o=0){x(this,Ee);x(this,Pn);x(this,Oi,[]);x(this,iu);x(this,su);x(this,as,[]);x(this,lt,new Float64Array(18));x(this,Io);x(this,zo);x(this,Cf);x(this,Rf);x(this,au);x(this,ru);x(this,rr,[]);S(this,Pn,i),S(this,ru,a*s),S(this,su,r),h(this,lt).set([NaN,NaN,NaN,NaN,t,e],6),S(this,iu,o),S(this,Rf,h(ks,Mf)*s),S(this,Cf,h(ks,Gg)*s),S(this,au,s),h(this,rr).push(t,e)}isEmpty(){return isNaN(h(this,lt)[8])}add({x:t,y:e}){var O;S(this,Io,t),S(this,zo,e);const[i,s,a,r]=h(this,Pn);let[o,l,c,u]=h(this,lt).subarray(8,12);const d=t-c,f=e-u,p=Math.hypot(d,f);if(p<h(this,Cf))return!1;const g=p-h(this,Rf),v=g/p,A=v*d,m=v*f;let y=o,b=l;o=c,l=u,c+=A,u+=m,(O=h(this,rr))==null||O.push(t,e);const w=-m/g,T=A/g,R=w*h(this,ru),M=T*h(this,ru);return h(this,lt).set(h(this,lt).subarray(2,8),0),h(this,lt).set([c+R,u+M],4),h(this,lt).set(h(this,lt).subarray(14,18),12),h(this,lt).set([c-R,u-M],16),isNaN(h(this,lt)[6])?(h(this,as).length===0&&(h(this,lt).set([o+R,l+M],2),h(this,as).push(NaN,NaN,NaN,NaN,(o+R-i)/a,(l+M-s)/r),h(this,lt).set([o-R,l-M],14),h(this,Oi).push(NaN,NaN,NaN,NaN,(o-R-i)/a,(l-M-s)/r)),h(this,lt).set([y,b,o,l,c,u],6),!this.isEmpty()):(h(this,lt).set([y,b,o,l,c,u],6),Math.abs(Math.atan2(b-l,y-o)-Math.atan2(m,A))<Math.PI/2?([o,l,c,u]=h(this,lt).subarray(2,6),h(this,as).push(NaN,NaN,NaN,NaN,((o+c)/2-i)/a,((l+u)/2-s)/r),[o,l,y,b]=h(this,lt).subarray(14,18),h(this,Oi).push(NaN,NaN,NaN,NaN,((y+o)/2-i)/a,((b+l)/2-s)/r),!0):([y,b,o,l,c,u]=h(this,lt).subarray(0,6),h(this,as).push(((y+5*o)/6-i)/a,((b+5*l)/6-s)/r,((5*o+c)/6-i)/a,((5*l+u)/6-s)/r,((o+c)/2-i)/a,((l+u)/2-s)/r),[c,u,o,l,y,b]=h(this,lt).subarray(12,18),h(this,Oi).push(((y+5*o)/6-i)/a,((b+5*l)/6-s)/r,((5*o+c)/6-i)/a,((5*l+u)/6-s)/r,((o+c)/2-i)/a,((l+u)/2-s)/r),!0))}toSVGPath(){if(this.isEmpty())return"";const t=h(this,as),e=h(this,Oi);if(isNaN(h(this,lt)[6])&&!this.isEmpty())return E(this,Ee,OL).call(this);const i=[];i.push(`M${t[4]} ${t[5]}`);for(let s=6;s<t.length;s+=6)isNaN(t[s])?i.push(`L${t[s+4]} ${t[s+5]}`):i.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);E(this,Ee,PL).call(this,i);for(let s=e.length-6;s>=6;s-=6)isNaN(e[s])?i.push(`L${e[s+4]} ${e[s+5]}`):i.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);return E(this,Ee,kL).call(this,i),i.join(" ")}newFreeDrawOutline(t,e,i,s,a,r){return new BL(t,e,i,s,a,r)}getOutlines(){var d;const t=h(this,as),e=h(this,Oi),i=h(this,lt),[s,a,r,o]=h(this,Pn),l=new Float64Array((((d=h(this,rr))==null?void 0:d.length)??0)+2);for(let f=0,p=l.length-2;f<p;f+=2)l[f]=(h(this,rr)[f]-s)/r,l[f+1]=(h(this,rr)[f+1]-a)/o;if(l[l.length-2]=(h(this,Io)-s)/r,l[l.length-1]=(h(this,zo)-a)/o,isNaN(i[6])&&!this.isEmpty())return E(this,Ee,NL).call(this,l);const c=new Float64Array(h(this,as).length+24+h(this,Oi).length);let u=t.length;for(let f=0;f<u;f+=2){if(isNaN(t[f])){c[f]=c[f+1]=NaN;continue}c[f]=t[f],c[f+1]=t[f+1]}u=E(this,Ee,jL).call(this,c,u);for(let f=e.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(e[f+p])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=e[f+p],c[u+1]=e[f+p+1],u+=2}return E(this,Ee,FL).call(this,c,u),this.newFreeDrawOutline(c,l,h(this,Pn),h(this,au),h(this,iu),h(this,su))}};Pn=new WeakMap,Oi=new WeakMap,iu=new WeakMap,su=new WeakMap,as=new WeakMap,lt=new WeakMap,Io=new WeakMap,zo=new WeakMap,Cf=new WeakMap,Rf=new WeakMap,au=new WeakMap,ru=new WeakMap,rr=new WeakMap,Mf=new WeakMap,Vg=new WeakMap,Gg=new WeakMap,Ee=new WeakSet,Ch=function(){const t=h(this,lt).subarray(4,6),e=h(this,lt).subarray(16,18),[i,s,a,r]=h(this,Pn);return[(h(this,Io)+(t[0]-e[0])/2-i)/a,(h(this,zo)+(t[1]-e[1])/2-s)/r,(h(this,Io)+(e[0]-t[0])/2-i)/a,(h(this,zo)+(e[1]-t[1])/2-s)/r]},OL=function(){const[t,e,i,s]=h(this,Pn),[a,r,o,l]=E(this,Ee,Ch).call(this);return`M${(h(this,lt)[2]-t)/i} ${(h(this,lt)[3]-e)/s} L${(h(this,lt)[4]-t)/i} ${(h(this,lt)[5]-e)/s} L${a} ${r} L${o} ${l} L${(h(this,lt)[16]-t)/i} ${(h(this,lt)[17]-e)/s} L${(h(this,lt)[14]-t)/i} ${(h(this,lt)[15]-e)/s} Z`},kL=function(t){const e=h(this,Oi);t.push(`L${e[4]} ${e[5]} Z`)},PL=function(t){const[e,i,s,a]=h(this,Pn),r=h(this,lt).subarray(4,6),o=h(this,lt).subarray(16,18),[l,c,u,d]=E(this,Ee,Ch).call(this);t.push(`L${(r[0]-e)/s} ${(r[1]-i)/a} L${l} ${c} L${u} ${d} L${(o[0]-e)/s} ${(o[1]-i)/a}`)},NL=function(t){const e=h(this,lt),[i,s,a,r]=h(this,Pn),[o,l,c,u]=E(this,Ee,Ch).call(this),d=new Float64Array(36);return d.set([NaN,NaN,NaN,NaN,(e[2]-i)/a,(e[3]-s)/r,NaN,NaN,NaN,NaN,(e[4]-i)/a,(e[5]-s)/r,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(e[16]-i)/a,(e[17]-s)/r,NaN,NaN,NaN,NaN,(e[14]-i)/a,(e[15]-s)/r],0),this.newFreeDrawOutline(d,t,h(this,Pn),h(this,au),h(this,iu),h(this,su))},FL=function(t,e){const i=h(this,Oi);return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6},jL=function(t,e){const i=h(this,lt).subarray(4,6),s=h(this,lt).subarray(16,18),[a,r,o,l]=h(this,Pn),[c,u,d,f]=E(this,Ee,Ch).call(this);return t.set([NaN,NaN,NaN,NaN,(i[0]-a)/o,(i[1]-r)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(s[0]-a)/o,(s[1]-r)/l],e),e+=24},x(ks,Mf,8),x(ks,Vg,2),x(ks,Gg,h(ks,Mf)+h(ks,Vg));let Tg=ks;var ou,Vo,$s,Df,Nn,Lf,se,Tn,Rh,Mh,HL;class BL extends LL{constructor(e,i,s,a,r,o){super();x(this,Tn);x(this,ou);x(this,Vo,null);x(this,$s);x(this,Df);x(this,Nn);x(this,Lf);x(this,se);S(this,se,e),S(this,Nn,i),S(this,ou,s),S(this,Lf,a),S(this,$s,r),S(this,Df,o),E(this,Tn,HL).call(this,o);const{x:l,y:c,width:u,height:d}=h(this,Vo);for(let f=0,p=e.length;f<p;f+=2)e[f]=(e[f]-l)/u,e[f+1]=(e[f+1]-c)/d;for(let f=0,p=i.length;f<p;f+=2)i[f]=(i[f]-l)/u,i[f+1]=(i[f+1]-c)/d}toSVGPath(){const e=[`M${h(this,se)[4]} ${h(this,se)[5]}`];for(let i=6,s=h(this,se).length;i<s;i+=6){if(isNaN(h(this,se)[i])){e.push(`L${h(this,se)[i+4]} ${h(this,se)[i+5]}`);continue}e.push(`C${h(this,se)[i]} ${h(this,se)[i+1]} ${h(this,se)[i+2]} ${h(this,se)[i+3]} ${h(this,se)[i+4]} ${h(this,se)[i+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,i,s,a],r){const o=s-e,l=a-i;let c,u;switch(r){case 0:c=E(this,Tn,Rh).call(this,h(this,se),e,a,o,-l),u=E(this,Tn,Rh).call(this,h(this,Nn),e,a,o,-l);break;case 90:c=E(this,Tn,Mh).call(this,h(this,se),e,i,o,l),u=E(this,Tn,Mh).call(this,h(this,Nn),e,i,o,l);break;case 180:c=E(this,Tn,Rh).call(this,h(this,se),s,i,-o,l),u=E(this,Tn,Rh).call(this,h(this,Nn),s,i,-o,l);break;case 270:c=E(this,Tn,Mh).call(this,h(this,se),s,a,-o,-l),u=E(this,Tn,Mh).call(this,h(this,Nn),s,a,-o,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return h(this,Vo)}newOutliner(e,i,s,a,r,o=0){return new Tg(e,i,s,a,r,o)}getNewOutline(e,i){const{x:s,y:a,width:r,height:o}=h(this,Vo),[l,c,u,d]=h(this,ou),f=r*u,p=o*d,g=s*u+l,v=a*d+c,A=this.newOutliner({x:h(this,Nn)[0]*f+g,y:h(this,Nn)[1]*p+v},h(this,ou),h(this,Lf),e,h(this,Df),i??h(this,$s));for(let m=2;m<h(this,Nn).length;m+=2)A.add({x:h(this,Nn)[m]*f+g,y:h(this,Nn)[m+1]*p+v});return A.getOutlines()}get mustRemoveSelfIntersections(){return!0}}ou=new WeakMap,Vo=new WeakMap,$s=new WeakMap,Df=new WeakMap,Nn=new WeakMap,Lf=new WeakMap,se=new WeakMap,Tn=new WeakSet,Rh=function(e,i,s,a,r){const o=new Float64Array(e.length);for(let l=0,c=e.length;l<c;l+=2)o[l]=i+e[l]*a,o[l+1]=s+e[l+1]*r;return o},Mh=function(e,i,s,a,r){const o=new Float64Array(e.length);for(let l=0,c=e.length;l<c;l+=2)o[l]=i+e[l+1]*a,o[l+1]=s+e[l]*r;return o},HL=function(e){const i=h(this,se);let s=i[4],a=i[5],r=s,o=a,l=s,c=a,u=s,d=a;const f=e?Math.max:Math.min;for(let m=6,y=i.length;m<y;m+=6){if(isNaN(i[m]))r=Math.min(r,i[m+4]),o=Math.min(o,i[m+5]),l=Math.max(l,i[m+4]),c=Math.max(c,i[m+5]),d<i[m+5]?(u=i[m+4],d=i[m+5]):d===i[m+5]&&(u=f(u,i[m+4]));else{const b=z.bezierBoundingBox(s,a,...i.slice(m,m+6));r=Math.min(r,b[0]),o=Math.min(o,b[1]),l=Math.max(l,b[2]),c=Math.max(c,b[3]),d<b[3]?(u=b[2],d=b[3]):d===b[3]&&(u=f(u,b[2]))}s=i[m+4],a=i[m+5]}const p=r-h(this,$s),g=o-h(this,$s),v=l-r+2*h(this,$s),A=c-o+2*h(this,$s);S(this,Vo,{x:p,y:g,width:v,height:A,lastPoint:[u,d]})};var Of,or,ki,gn,UL,Mm,IL,zL,Y0;class KT{constructor(t,e=0,i=0,s=!0){x(this,gn);x(this,Of);x(this,or,[]);x(this,ki,[]);let a=1/0,r=-1/0,o=1/0,l=-1/0;const c=10**-4;for(const{x:A,y:m,width:y,height:b}of t){const w=Math.floor((A-e)/c)*c,T=Math.ceil((A+y+e)/c)*c,R=Math.floor((m-e)/c)*c,M=Math.ceil((m+b+e)/c)*c,D=[w,R,M,!0],O=[T,R,M,!1];h(this,or).push(D,O),a=Math.min(a,w),r=Math.max(r,T),o=Math.min(o,R),l=Math.max(l,M)}const u=r-a+2*i,d=l-o+2*i,f=a-i,p=o-i,g=h(this,or).at(s?-1:-2),v=[g[0],g[2]];for(const A of h(this,or)){const[m,y,b]=A;A[0]=(m-f)/u,A[1]=(y-p)/d,A[2]=(b-p)/d}S(this,Of,{x:f,y:p,width:u,height:d,lastPoint:v})}getOutlines(){h(this,or).sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of h(this,or))e[3]?(t.push(...E(this,gn,Y0).call(this,e)),E(this,gn,IL).call(this,e)):(E(this,gn,zL).call(this,e),t.push(...E(this,gn,Y0).call(this,e)));return E(this,gn,UL).call(this,t)}}Of=new WeakMap,or=new WeakMap,ki=new WeakMap,gn=new WeakSet,UL=function(t){const e=[],i=new Set;for(const r of t){const[o,l,c]=r;e.push([o,l,r],[o,c,r])}e.sort((r,o)=>r[1]-o[1]||r[0]-o[0]);for(let r=0,o=e.length;r<o;r+=2){const l=e[r][2],c=e[r+1][2];l.push(c),c.push(l),i.add(l),i.add(c)}const s=[];let a;for(;i.size>0;){const r=i.values().next().value;let[o,l,c,u,d]=r;i.delete(r);let f=o,p=l;for(a=[o,c],s.push(a);;){let g;if(i.has(u))g=u;else if(i.has(d))g=d;else break;i.delete(g),[o,l,c,u,d]=g,f!==o&&(a.push(f,p,o,p===l?l:c),f=o),p=p===l?c:l}a.push(f,p)}return new M3(s,h(this,Of))},Mm=function(t){const e=h(this,ki);let i=0,s=e.length-1;for(;i<=s;){const a=i+s>>1,r=e[a][0];if(r===t)return a;r<t?i=a+1:s=a-1}return s+1},IL=function([,t,e]){const i=E(this,gn,Mm).call(this,t);h(this,ki).splice(i,0,[t,e])},zL=function([,t,e]){const i=E(this,gn,Mm).call(this,t);for(let s=i;s<h(this,ki).length;s++){const[a,r]=h(this,ki)[s];if(a!==t)break;if(a===t&&r===e){h(this,ki).splice(s,1);return}}for(let s=i-1;s>=0;s--){const[a,r]=h(this,ki)[s];if(a!==t)break;if(a===t&&r===e){h(this,ki).splice(s,1);return}}},Y0=function(t){const[e,i,s]=t,a=[[e,i,s]],r=E(this,gn,Mm).call(this,s);for(let o=0;o<r;o++){const[l,c]=h(this,ki)[o];for(let u=0,d=a.length;u<d;u++){const[,f,p]=a[u];if(!(c<=f||p<=l)){if(f>=l){if(p>c)a[u][1]=c;else{if(d===1)return[];a.splice(u,1),u--,d--}continue}a[u][2]=l,p>c&&a.push([e,c,p])}}}return a};var kf,lu;class M3 extends LL{constructor(e,i){super();x(this,kf);x(this,lu);S(this,lu,e),S(this,kf,i)}toSVGPath(){const e=[];for(const i of h(this,lu)){let[s,a]=i;e.push(`M${s} ${a}`);for(let r=2;r<i.length;r+=2){const o=i[r],l=i[r+1];o===s?(e.push(`V${l}`),a=l):l===a&&(e.push(`H${o}`),s=o)}e.push("Z")}return e.join(" ")}serialize([e,i,s,a],r){const o=[],l=s-e,c=a-i;for(const u of h(this,lu)){const d=new Array(u.length);for(let f=0;f<u.length;f+=2)d[f]=e+u[f]*l,d[f+1]=a-u[f+1]*c;o.push(d)}return o}get box(){return h(this,kf)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}kf=new WeakMap,lu=new WeakMap;class $0 extends Tg{newFreeDrawOutline(t,e,i,s,a,r){return new D3(t,e,i,s,a,r)}get classNamesForDrawing(){return["highlight","free"]}}class D3 extends BL{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,i,s,a,r=0){return new $0(t,e,i,s,a,r)}}var Pi,Go,cu,ye,Pf,uu,Nf,Ff,lr,Ni,hu,jf,Tt,K0,W0,Q0,$r,VL,Pa;const bn=class bn{constructor({editor:t=null,uiManager:e=null}){x(this,Tt);x(this,Pi,null);x(this,Go,null);x(this,cu);x(this,ye,null);x(this,Pf,!1);x(this,uu,!1);x(this,Nf,null);x(this,Ff);x(this,lr,null);x(this,Ni,null);x(this,hu);var i;t?(S(this,uu,!1),S(this,hu,W.HIGHLIGHT_COLOR),S(this,Nf,t)):(S(this,uu,!0),S(this,hu,W.HIGHLIGHT_DEFAULT_COLOR)),S(this,Ni,(t==null?void 0:t._uiManager)||e),S(this,Ff,h(this,Ni)._eventBus),S(this,cu,(t==null?void 0:t.color)||((i=h(this,Ni))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),h(bn,jf)||S(bn,jf,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return dt(this,"_keyboardManager",new dp([[["Escape","mac+Escape"],bn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],bn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],bn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],bn.prototype._moveToPrevious],[["Home","mac+Home"],bn.prototype._moveToBeginning],[["End","mac+End"],bn.prototype._moveToEnd]]))}renderButton(){const t=S(this,Pi,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=h(this,Ni)._signal;t.addEventListener("click",E(this,Tt,$r).bind(this),{signal:e}),t.addEventListener("keydown",E(this,Tt,Q0).bind(this),{signal:e});const i=S(this,Go,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=h(this,cu),t.append(i),t}renderMainDropdown(){const t=S(this,ye,E(this,Tt,K0).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===h(this,Pi)){E(this,Tt,$r).call(this,t);return}const e=t.target.getAttribute("data-color");e&&E(this,Tt,W0).call(this,e,t)}_moveToNext(t){var e,i;if(!h(this,Tt,Pa)){E(this,Tt,$r).call(this,t);return}if(t.target===h(this,Pi)){(e=h(this,ye).firstChild)==null||e.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var e,i;if(t.target===((e=h(this,ye))==null?void 0:e.firstChild)||t.target===h(this,Pi)){h(this,Tt,Pa)&&this._hideDropdownFromKeyboard();return}h(this,Tt,Pa)||E(this,Tt,$r).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var e;if(!h(this,Tt,Pa)){E(this,Tt,$r).call(this,t);return}(e=h(this,ye).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!h(this,Tt,Pa)){E(this,Tt,$r).call(this,t);return}(e=h(this,ye).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=h(this,ye))==null||t.classList.add("hidden"),(e=h(this,lr))==null||e.abort(),S(this,lr,null)}_hideDropdownFromKeyboard(){var t;if(!h(this,uu)){if(!h(this,Tt,Pa)){(t=h(this,Nf))==null||t.unselect();return}this.hideDropdown(),h(this,Pi).focus({preventScroll:!0,focusVisible:h(this,Pf)})}}updateColor(t){if(h(this,Go)&&(h(this,Go).style.backgroundColor=t),!h(this,ye))return;const e=h(this,Ni).highlightColors.values();for(const i of h(this,ye).children)i.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=h(this,Pi))==null||t.remove(),S(this,Pi,null),S(this,Go,null),(e=h(this,ye))==null||e.remove(),S(this,ye,null)}};Pi=new WeakMap,Go=new WeakMap,cu=new WeakMap,ye=new WeakMap,Pf=new WeakMap,uu=new WeakMap,Nf=new WeakMap,Ff=new WeakMap,lr=new WeakMap,Ni=new WeakMap,hu=new WeakMap,jf=new WeakMap,Tt=new WeakSet,K0=function(){const t=document.createElement("div"),e=h(this,Ni)._signal;t.addEventListener("contextmenu",bi,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,s]of h(this,Ni).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",s),a.title=i,a.setAttribute("data-l10n-id",h(bn,jf)[i]);const r=document.createElement("span");a.append(r),r.className="swatch",r.style.backgroundColor=s,a.setAttribute("aria-selected",s===h(this,cu)),a.addEventListener("click",E(this,Tt,W0).bind(this,s),{signal:e}),t.append(a)}return t.addEventListener("keydown",E(this,Tt,Q0).bind(this),{signal:e}),t},W0=function(t,e){e.stopPropagation(),h(this,Ff).dispatch("switchannotationeditorparams",{source:this,type:h(this,hu),value:t})},Q0=function(t){bn._keyboardManager.exec(this,t)},$r=function(t){if(h(this,Tt,Pa)){this.hideDropdown();return}if(S(this,Pf,t.detail===0),h(this,lr)||(S(this,lr,new AbortController),window.addEventListener("pointerdown",E(this,Tt,VL).bind(this),{signal:h(this,Ni).combinedSignal(h(this,lr))})),h(this,ye)){h(this,ye).classList.remove("hidden");return}const e=S(this,ye,E(this,Tt,K0).call(this));h(this,Pi).append(e)},VL=function(t){var e;(e=h(this,ye))!=null&&e.contains(t.target)||this.hideDropdown()},Pa=function(){return h(this,ye)&&!h(this,ye).classList.contains("hidden")},x(bn,jf,null);let _g=bn;var du,Bf,Ks,qo,fu,ii,Hf,Uf,Xo,Fi,We,En,pu,Ws,ve,mu,si,If,tt,Z0,Dm,GL,qL,XL,J0,Kr,fi,Xl,YL,Lm,Dh,$L,KL,WL,QL,ZL;const gt=class gt extends Et{constructor(e){super({...e,name:"highlightEditor"});x(this,tt);x(this,du,null);x(this,Bf,0);x(this,Ks);x(this,qo,null);x(this,fu,null);x(this,ii,null);x(this,Hf,null);x(this,Uf,0);x(this,Xo,null);x(this,Fi,null);x(this,We,null);x(this,En,!1);x(this,pu,null);x(this,Ws);x(this,ve,null);x(this,mu,"");x(this,si);x(this,If,"");this.color=e.color||gt._defaultColor,S(this,si,e.thickness||gt._defaultThickness),S(this,Ws,e.opacity||gt._defaultOpacity),S(this,Ks,e.boxes||null),S(this,If,e.methodOfCreation||""),S(this,mu,e.text||""),this._isDraggable=!1,e.highlightId>-1?(S(this,En,!0),E(this,tt,Dm).call(this,e),E(this,tt,Kr).call(this)):h(this,Ks)&&(S(this,du,e.anchorNode),S(this,Bf,e.anchorOffset),S(this,Hf,e.focusNode),S(this,Uf,e.focusOffset),E(this,tt,Z0).call(this),E(this,tt,Kr).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=gt.prototype;return dt(this,"_keyboardManager",new dp([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,En)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:h(this,si),methodOfCreation:h(this,If)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,i){var s;Et.initialize(e,i),gt._defaultColor||(gt._defaultColor=((s=i.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(e,i){switch(e){case W.HIGHLIGHT_DEFAULT_COLOR:gt._defaultColor=i;break;case W.HIGHLIGHT_THICKNESS:gt._defaultThickness=i;break}}translateInPage(e,i){}get toolbarPosition(){return h(this,pu)}updateParams(e,i){switch(e){case W.HIGHLIGHT_COLOR:E(this,tt,GL).call(this,i);break;case W.HIGHLIGHT_THICKNESS:E(this,tt,qL).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[W.HIGHLIGHT_DEFAULT_COLOR,gt._defaultColor],[W.HIGHLIGHT_THICKNESS,gt._defaultThickness]]}get propertiesToUpdate(){return[[W.HIGHLIGHT_COLOR,this.color||gt._defaultColor],[W.HIGHLIGHT_THICKNESS,h(this,si)||gt._defaultThickness],[W.HIGHLIGHT_FREE,h(this,En)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(S(this,fu,new _g({editor:this})),e.addColorPicker(h(this,fu))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(E(this,tt,Dh).call(this))}getBaseTranslation(){return[0,0]}getRect(e,i){return super.getRect(e,i,E(this,tt,Dh).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){E(this,tt,J0).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(E(this,tt,Kr).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var s;let i=!1;this.parent&&!e?E(this,tt,J0).call(this):e&&(E(this,tt,Kr).call(this,e),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),i&&this.select()}rotate(e){var a,r,o;const{drawLayer:i}=this.parent;let s;h(this,En)?(e=(e-this.rotation+360)%360,s=E(a=gt,fi,Xl).call(a,h(this,Fi).box,e)):s=E(r=gt,fi,Xl).call(r,this,e),i.rotate(h(this,We),e),i.rotate(h(this,ve),e),i.updateBox(h(this,We),s),i.updateBox(h(this,ve),E(o=gt,fi,Xl).call(o,h(this,ii).box,e))}render(){if(this.div)return this.div;const e=super.render();h(this,mu)&&(e.setAttribute("aria-label",h(this,mu)),e.setAttribute("role","mark")),h(this,En)?e.classList.add("free"):this.div.addEventListener("keydown",E(this,tt,YL).bind(this),{signal:this._uiManager._signal});const i=S(this,Xo,document.createElement("div"));e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=h(this,qo);const[s,a]=this.parentDimensions;return this.setDims(this.width*s,this.height*a),wg(this,h(this,Xo),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(h(this,ve),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(h(this,ve),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:E(this,tt,Lm).call(this,!0);break;case 1:case 3:E(this,tt,Lm).call(this,!1);break}}select(){var e,i;super.select(),h(this,ve)&&((e=this.parent)==null||e.drawLayer.removeClass(h(this,ve),"hovered"),(i=this.parent)==null||i.drawLayer.addClass(h(this,ve),"selected"))}unselect(){var e;super.unselect(),h(this,ve)&&((e=this.parent)==null||e.drawLayer.removeClass(h(this,ve),"selected"),h(this,En)||E(this,tt,Lm).call(this,!1))}get _mustFixPosition(){return!h(this,En)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(h(this,We),e),this.parent.drawLayer.show(h(this,ve),e))}static startHighlighting(e,i,{target:s,x:a,y:r}){const{x:o,y:l,width:c,height:u}=s.getBoundingClientRect(),d=new AbortController,f=e.combinedSignal(d),p=v=>{v.preventDefault(),v.stopPropagation()},g=v=>{d.abort(),E(this,fi,QL).call(this,e,v)};window.addEventListener("blur",g,{signal:f}),window.addEventListener("pointerup",g,{signal:f}),window.addEventListener("pointerdown",p,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",bi,{signal:f}),s.addEventListener("pointermove",E(this,fi,WL).bind(this,e),{signal:f}),this._freeHighlight=new $0({x:a,y:r},[o,l,c,u],e.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,i,s){var v,A,m,y;let a=null;if(e instanceof wL){const{data:{quadPoints:b,rect:w,rotation:T,id:R,color:M,opacity:D,popupRef:O},parent:{page:{pageNumber:k}}}=e;a=e={annotationType:nt.HIGHLIGHT,color:Array.from(M),opacity:D,quadPoints:b,boxes:null,pageIndex:k-1,rect:w.slice(0),rotation:T,id:R,deleted:!1,popupRef:O}}else if(e instanceof bE){const{data:{inkLists:b,rect:w,rotation:T,id:R,color:M,borderStyle:{rawWidth:D},popupRef:O},parent:{page:{pageNumber:k}}}=e;a=e={annotationType:nt.HIGHLIGHT,color:Array.from(M),thickness:D,inkLists:b,boxes:null,pageIndex:k-1,rect:w.slice(0),rotation:T,id:R,deleted:!1,popupRef:O}}const{color:r,quadPoints:o,inkLists:l,opacity:c}=e,u=await super.deserialize(e,i,s);u.color=z.makeHexColor(...r),S(u,Ws,c||1),l&&S(u,si,e.thickness),u.annotationElementId=e.id||null,u._initialData=a;const[d,f]=u.pageDimensions,[p,g]=u.pageTranslation;if(o){const b=S(u,Ks,[]);for(let w=0;w<o.length;w+=8)b.push({x:(o[w]-p)/d,y:1-(o[w+1]-g)/f,width:(o[w+2]-o[w])/d,height:(o[w+1]-o[w+5])/f});E(v=u,tt,Z0).call(v),E(A=u,tt,Kr).call(A),u.rotate(u.rotation)}else if(l){S(u,En,!0);const b=l[0],w={x:b[0]-p,y:f-(b[1]-g)},T=new $0(w,[0,0,d,f],1,h(u,si)/2,!0,.001);for(let D=0,O=b.length;D<O;D+=2)w.x=b[D]-p,w.y=f-(b[D+1]-g),T.add(w);const{id:R,clipPathId:M}=i.drawLayer.draw(T,u.color,u._defaultOpacity,!0);E(m=u,tt,Dm).call(m,{highlightOutlines:T.getOutlines(),highlightId:R,clipPathId:M}),E(y=u,tt,Kr).call(y)}return u}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),s=Et._colorManager.convert(this.color),a={annotationType:nt.HIGHLIGHT,color:s,opacity:h(this,Ws),thickness:h(this,si),quadPoints:E(this,tt,$L).call(this),outlines:E(this,tt,KL).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:E(this,tt,Dh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!E(this,tt,ZL).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};du=new WeakMap,Bf=new WeakMap,Ks=new WeakMap,qo=new WeakMap,fu=new WeakMap,ii=new WeakMap,Hf=new WeakMap,Uf=new WeakMap,Xo=new WeakMap,Fi=new WeakMap,We=new WeakMap,En=new WeakMap,pu=new WeakMap,Ws=new WeakMap,ve=new WeakMap,mu=new WeakMap,si=new WeakMap,If=new WeakMap,tt=new WeakSet,Z0=function(){const e=new KT(h(this,Ks),.001);S(this,Fi,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=h(this,Fi).box;const i=new KT(h(this,Ks),.0025,.001,this._uiManager.direction==="ltr");S(this,ii,i.getOutlines());const{lastPoint:s}=h(this,ii).box;S(this,pu,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},Dm=function({highlightOutlines:e,highlightId:i,clipPathId:s}){var d,f;if(S(this,Fi,e),S(this,ii,e.getNewOutline(h(this,si)/2+1.5,.0025)),i>=0)S(this,We,i),S(this,qo,s),this.parent.drawLayer.finalizeLine(i,e),S(this,ve,this.parent.drawLayer.drawOutline(h(this,ii)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(h(this,We),e),this.parent.drawLayer.updateBox(h(this,We),E(d=gt,fi,Xl).call(d,h(this,Fi).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(h(this,ve),h(this,ii)),this.parent.drawLayer.updateBox(h(this,ve),E(f=gt,fi,Xl).call(f,h(this,ii).box,p))}const{x:r,y:o,width:l,height:c}=e.box;switch(this.rotation){case 0:this.x=r,this.y=o,this.width=l,this.height=c;break;case 90:{const[p,g]=this.parentDimensions;this.x=o,this.y=1-r,this.width=l*g/p,this.height=c*p/g;break}case 180:this.x=1-r,this.y=1-o,this.width=l,this.height=c;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-o,this.y=r,this.width=l*g/p,this.height=c*p/g;break}}const{lastPoint:u}=h(this,ii).box;S(this,pu,[(u[0]-r)/l,(u[1]-o)/c])},GL=function(e){const i=(r,o)=>{var l,c,u;this.color=r,(l=this.parent)==null||l.drawLayer.changeColor(h(this,We),r),(c=h(this,fu))==null||c.updateColor(r),S(this,Ws,o),(u=this.parent)==null||u.drawLayer.changeOpacity(h(this,We),o)},s=this.color,a=h(this,Ws);this.addCommands({cmd:i.bind(this,e,gt._defaultOpacity),undo:i.bind(this,s,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:W.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},qL=function(e){const i=h(this,si),s=a=>{S(this,si,a),E(this,tt,XL).call(this,a)};this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:W.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},XL=function(e){if(!h(this,En))return;E(this,tt,Dm).call(this,{highlightOutlines:h(this,Fi).getNewOutline(e/2)}),this.fixAndSetPosition();const[i,s]=this.parentDimensions;this.setDims(this.width*i,this.height*s)},J0=function(){h(this,We)===null||!this.parent||(this.parent.drawLayer.remove(h(this,We)),S(this,We,null),this.parent.drawLayer.remove(h(this,ve)),S(this,ve,null))},Kr=function(e=this.parent){h(this,We)===null&&({id:rn(this,We)._,clipPathId:rn(this,qo)._}=e.drawLayer.draw(h(this,Fi),this.color,h(this,Ws)),S(this,ve,e.drawLayer.drawOutline(h(this,ii))),h(this,Xo)&&(h(this,Xo).style.clipPath=h(this,qo)))},fi=new WeakSet,Xl=function({x:e,y:i,width:s,height:a},r){switch(r){case 90:return{x:1-i-a,y:e,width:a,height:s};case 180:return{x:1-e-s,y:1-i-a,width:s,height:a};case 270:return{x:i,y:1-e-s,width:a,height:s}}return{x:e,y:i,width:s,height:a}},YL=function(e){gt._keyboardManager.exec(this,e)},Lm=function(e){if(!h(this,du))return;const i=window.getSelection();e?i.setPosition(h(this,du),h(this,Bf)):i.setPosition(h(this,Hf),h(this,Uf))},Dh=function(){return h(this,En)?this.rotation:0},$L=function(){if(h(this,En))return null;const[e,i]=this.pageDimensions,[s,a]=this.pageTranslation,r=h(this,Ks),o=new Float32Array(r.length*8);let l=0;for(const{x:c,y:u,width:d,height:f}of r){const p=c*e+s,g=(1-u-f)*i+a;o[l]=o[l+4]=p,o[l+1]=o[l+3]=g,o[l+2]=o[l+6]=p+d*e,o[l+5]=o[l+7]=g+f*i,l+=8}return o},KL=function(e){return h(this,Fi).serialize(e,E(this,tt,Dh).call(this))},WL=function(e,i){this._freeHighlight.add(i)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},QL=function(e,i){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},ZL=function(e){const{color:i}=this._initialData;return e.color.some((s,a)=>s!==i[a])},x(gt,fi),K(gt,"_defaultColor",null),K(gt,"_defaultOpacity",1),K(gt,"_defaultThickness",12),K(gt,"_type","highlight"),K(gt,"_editorType",nt.HIGHLIGHT),K(gt,"_freeHighlightId",-1),K(gt,"_freeHighlight",null),K(gt,"_freeHighlightClipId","");let Cg=gt;var Yo,$o,rs,Qs,ai,Ko,Wo,Qo,Zs,gu,Zo,Jo,cr,H,JL,tO,eO,nO,eA,iO,nA,sO,aO,rO,oO,lO,Wr,iA,sA,aA,Om,km,Yl,rA,Pm,Ca,cO,oA,uO,hO,lA,Nm,Lh;const zt=class zt extends Et{constructor(e){super({...e,name:"inkEditor"});x(this,H);x(this,Yo,0);x(this,$o,0);x(this,rs,null);x(this,Qs,new Path2D);x(this,ai,!1);x(this,Ko,null);x(this,Wo,!1);x(this,Qo,!1);x(this,Zs,null);x(this,gu,null);x(this,Zo,0);x(this,Jo,0);x(this,cr,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,i){Et.initialize(e,i)}static updateDefaultParams(e,i){switch(e){case W.INK_THICKNESS:zt._defaultThickness=i;break;case W.INK_COLOR:zt._defaultColor=i;break;case W.INK_OPACITY:zt._defaultOpacity=i/100;break}}updateParams(e,i){switch(e){case W.INK_THICKNESS:E(this,H,JL).call(this,i);break;case W.INK_COLOR:E(this,H,tO).call(this,i);break;case W.INK_OPACITY:E(this,H,eO).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[W.INK_THICKNESS,zt._defaultThickness],[W.INK_COLOR,zt._defaultColor||Et._defaultLineColor],[W.INK_OPACITY,Math.round(zt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[W.INK_THICKNESS,this.thickness||zt._defaultThickness],[W.INK_COLOR,this.color||zt._defaultColor||Et._defaultLineColor],[W.INK_OPACITY,Math.round(100*(this.opacity??zt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(E(this,H,Om).call(this),E(this,H,km).call(this)),this.isAttachedToDOM||(this.parent.add(this),E(this,H,Yl).call(this)),E(this,H,Lh).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,h(this,rs)&&(clearTimeout(h(this,rs)),S(this,rs,null)),(e=h(this,Zs))==null||e.disconnect(),S(this,Zs,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,i]=this.parentDimensions,s=this.width*e,a=this.height*i;this.setDimensions(s,a)}enableEditMode(){h(this,ai)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,E(this,H,iA).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),E(this,H,sA).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){h(this,ai)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),S(this,ai,!0),this.div.classList.add("disabled"),E(this,H,Lh).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||h(this,ai)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),E(this,H,iO).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),E(this,H,nA).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),E(this,H,aA).call(this,e)}canvasPointerleave(e){E(this,H,aA).call(this,e)}get isResizable(){return!this.isEmpty()&&h(this,ai)}render(){if(this.div)return this.div;let e,i;this.width&&(e=this.x,i=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[s,a,r,o]=E(this,H,nO).call(this);if(this.setAt(s,a,0,0),this.setDims(r,o),E(this,H,Om).call(this),this.width){const[l,c]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*c),this.setAt(e*l,i*c,this.width*l,this.height*c),S(this,Qo,!0),E(this,H,Yl).call(this),this.setDims(this.width*l,this.height*c),E(this,H,Wr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return E(this,H,km).call(this),this.div}setDimensions(e,i){const s=Math.round(e),a=Math.round(i);if(h(this,Zo)===s&&h(this,Jo)===a)return;S(this,Zo,s),S(this,Jo,a),this.canvas.style.visibility="hidden";const[r,o]=this.parentDimensions;this.width=e/r,this.height=i/o,this.fixAndSetPosition(),h(this,ai)&&E(this,H,rA).call(this,e,i),E(this,H,Yl).call(this),E(this,H,Wr).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,i,s){var A,m,y;if(e instanceof bE)return null;const a=await super.deserialize(e,i,s);a.thickness=e.thickness,a.color=z.makeHexColor(...e.color),a.opacity=e.opacity;const[r,o]=a.pageDimensions,l=a.width*r,c=a.height*o,u=a.parentScale,d=e.thickness/2;S(a,ai,!0),S(a,Zo,Math.round(l)),S(a,Jo,Math.round(c));const{paths:f,rect:p,rotation:g}=e;for(let{bezier:b}of f){b=E(A=zt,Ca,uO).call(A,b,p,g);const w=[];a.paths.push(w);let T=u*(b[0]-d),R=u*(b[1]-d);for(let D=2,O=b.length;D<O;D+=6){const k=u*(b[D]-d),B=u*(b[D+1]-d),$=u*(b[D+2]-d),X=u*(b[D+3]-d),V=u*(b[D+4]-d),Y=u*(b[D+5]-d);w.push([[T,R],[k,B],[$,X],[V,Y]]),T=V,R=Y}const M=E(this,Ca,cO).call(this,w);a.bezierPath2D.push(M)}const v=E(m=a,H,lA).call(m);return S(a,$o,Math.max(Et.MIN_SIZE,v[2]-v[0])),S(a,Yo,Math.max(Et.MIN_SIZE,v[3]-v[1])),E(y=a,H,rA).call(y,l,c),a}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),i=Et._colorManager.convert(this.ctx.strokeStyle);return{annotationType:nt.INK,color:i,thickness:this.thickness,opacity:this.opacity,paths:E(this,H,hO).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Yo=new WeakMap,$o=new WeakMap,rs=new WeakMap,Qs=new WeakMap,ai=new WeakMap,Ko=new WeakMap,Wo=new WeakMap,Qo=new WeakMap,Zs=new WeakMap,gu=new WeakMap,Zo=new WeakMap,Jo=new WeakMap,cr=new WeakMap,H=new WeakSet,JL=function(e){const i=a=>{this.thickness=a,E(this,H,Lh).call(this)},s=this.thickness;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:W.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},tO=function(e){const i=a=>{this.color=a,E(this,H,Wr).call(this)},s=this.color;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:W.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},eO=function(e){const i=a=>{this.opacity=a,E(this,H,Wr).call(this)};e/=100;const s=this.opacity;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:W.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},nO=function(){const{parentRotation:e,parentDimensions:[i,s]}=this;switch(e){case 90:return[0,s,s,i];case 180:return[i,s,i,s];case 270:return[i,0,s,i];default:return[0,0,i,s]}},eA=function(){const{ctx:e,color:i,opacity:s,thickness:a,parentScale:r,scaleFactor:o}=this;e.lineWidth=a*r/o,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${i}${Zz(s)}`},iO=function(e,i){this.canvas.addEventListener("contextmenu",bi,{signal:this._uiManager._signal}),E(this,H,sA).call(this),S(this,Ko,new AbortController);const s=this._uiManager.combinedSignal(h(this,Ko));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:s}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:s}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:s}),this.isEditing=!0,h(this,Qo)||(S(this,Qo,!0),E(this,H,Yl).call(this),this.thickness||(this.thickness=zt._defaultThickness),this.color||(this.color=zt._defaultColor||Et._defaultLineColor),this.opacity??(this.opacity=zt._defaultOpacity)),this.currentPath.push([e,i]),S(this,Wo,!1),E(this,H,eA).call(this),S(this,cr,()=>{E(this,H,rO).call(this),h(this,cr)&&window.requestAnimationFrame(h(this,cr))}),window.requestAnimationFrame(h(this,cr))},nA=function(e,i){const[s,a]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===s&&i===a)return;const r=this.currentPath;let o=h(this,Qs);if(r.push([e,i]),S(this,Wo,!0),r.length<=2){o.moveTo(...r[0]),o.lineTo(e,i);return}r.length===3&&(S(this,Qs,o=new Path2D),o.moveTo(...r[0])),E(this,H,oO).call(this,o,...r.at(-3),...r.at(-2),e,i)},sO=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);h(this,Qs).lineTo(...e)},aO=function(e,i){S(this,cr,null),e=Math.min(Math.max(e,0),this.canvas.width),i=Math.min(Math.max(i,0),this.canvas.height),E(this,H,nA).call(this,e,i),E(this,H,sO).call(this);let s;if(this.currentPath.length!==1)s=E(this,H,lO).call(this);else{const c=[e,i];s=[[c,c.slice(),c.slice(),c]]}const a=h(this,Qs),r=this.currentPath;this.currentPath=[],S(this,Qs,new Path2D);const o=()=>{this.allRawPaths.push(r),this.paths.push(s),this.bezierPath2D.push(a),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(E(this,H,Om).call(this),E(this,H,km).call(this)),E(this,H,Lh).call(this))};this.addCommands({cmd:o,undo:l,mustExec:!0})},rO=function(){if(!h(this,Wo))return;S(this,Wo,!1);const e=Math.ceil(this.thickness*this.parentScale),i=this.currentPath.slice(-3),s=i.map(o=>o[0]),a=i.map(o=>o[1]);Math.min(...s)-e,Math.max(...s)+e,Math.min(...a)-e,Math.max(...a)+e;const{ctx:r}=this;r.save(),r.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)r.stroke(o);r.stroke(h(this,Qs)),r.restore()},oO=function(e,i,s,a,r,o,l){const c=(i+a)/2,u=(s+r)/2,d=(a+o)/2,f=(r+l)/2;e.bezierCurveTo(c+2*(a-c)/3,u+2*(r-u)/3,d+2*(a-d)/3,f+2*(r-f)/3,d,f)},lO=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const i=[];let s,[a,r]=e[0];for(s=1;s<e.length-2;s++){const[p,g]=e[s],[v,A]=e[s+1],m=(p+v)/2,y=(g+A)/2,b=[a+2*(p-a)/3,r+2*(g-r)/3],w=[m+2*(p-m)/3,y+2*(g-y)/3];i.push([[a,r],b,w,[m,y]]),[a,r]=[m,y]}const[o,l]=e[s],[c,u]=e[s+1],d=[a+2*(o-a)/3,r+2*(l-r)/3],f=[c+2*(o-c)/3,u+2*(l-u)/3];return i.push([[a,r],d,f,[c,u]]),i},Wr=function(){if(this.isEmpty()){E(this,H,Pm).call(this);return}E(this,H,eA).call(this);const{canvas:e,ctx:i}=this;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,e.width,e.height),E(this,H,Pm).call(this);for(const s of this.bezierPath2D)i.stroke(s)},iA=function(){if(h(this,gu))return;S(this,gu,new AbortController);const e=this._uiManager.combinedSignal(h(this,gu));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},sA=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},aA=function(e){var i;(i=h(this,Ko))==null||i.abort(),S(this,Ko,null),E(this,H,iA).call(this),h(this,rs)&&clearTimeout(h(this,rs)),S(this,rs,setTimeout(()=>{S(this,rs,null),this.canvas.removeEventListener("contextmenu",bi)},10)),E(this,H,aO).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Om=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},km=function(){S(this,Zs,new ResizeObserver(e=>{const i=e[0].contentRect;i.width&&i.height&&this.setDimensions(i.width,i.height)})),h(this,Zs).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=h(this,Zs))==null||e.disconnect(),S(this,Zs,null)},{once:!0})},Yl=function(){if(!h(this,Qo))return;const[e,i]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*i),E(this,H,Pm).call(this)},rA=function(e,i){const s=E(this,H,Nm).call(this),a=(e-s)/h(this,$o),r=(i-s)/h(this,Yo);this.scaleFactor=Math.min(a,r)},Pm=function(){const e=E(this,H,Nm).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},Ca=new WeakSet,cO=function(e){const i=new Path2D;for(let s=0,a=e.length;s<a;s++){const[r,o,l,c]=e[s];s===0&&i.moveTo(...r),i.bezierCurveTo(o[0],o[1],l[0],l[1],c[0],c[1])}return i},oA=function(e,i,s){const[a,r,o,l]=i;switch(s){case 0:for(let c=0,u=e.length;c<u;c+=2)e[c]+=a,e[c+1]=l-e[c+1];break;case 90:for(let c=0,u=e.length;c<u;c+=2){const d=e[c];e[c]=e[c+1]+a,e[c+1]=d+r}break;case 180:for(let c=0,u=e.length;c<u;c+=2)e[c]=o-e[c],e[c+1]+=r;break;case 270:for(let c=0,u=e.length;c<u;c+=2){const d=e[c];e[c]=o-e[c+1],e[c+1]=l-d}break;default:throw new Error("Invalid rotation")}return e},uO=function(e,i,s){const[a,r,o,l]=i;switch(s){case 0:for(let c=0,u=e.length;c<u;c+=2)e[c]-=a,e[c+1]=l-e[c+1];break;case 90:for(let c=0,u=e.length;c<u;c+=2){const d=e[c];e[c]=e[c+1]-r,e[c+1]=d-a}break;case 180:for(let c=0,u=e.length;c<u;c+=2)e[c]=o-e[c],e[c+1]-=r;break;case 270:for(let c=0,u=e.length;c<u;c+=2){const d=e[c];e[c]=l-e[c+1],e[c+1]=o-d}break;default:throw new Error("Invalid rotation")}return e},hO=function(e,i,s,a){var u,d;const r=[],o=this.thickness/2,l=e*i+o,c=e*s+o;for(const f of this.paths){const p=[],g=[];for(let v=0,A=f.length;v<A;v++){const[m,y,b,w]=f[v];if(m[0]===w[0]&&m[1]===w[1]&&A===1){const X=e*m[0]+l,V=e*m[1]+c;p.push(X,V),g.push(X,V);break}const T=e*m[0]+l,R=e*m[1]+c,M=e*y[0]+l,D=e*y[1]+c,O=e*b[0]+l,k=e*b[1]+c,B=e*w[0]+l,$=e*w[1]+c;v===0&&(p.push(T,R),g.push(T,R)),p.push(M,D,O,k,B,$),g.push(M,D),v===A-1&&g.push(B,$)}r.push({bezier:E(u=zt,Ca,oA).call(u,p,a,this.rotation),points:E(d=zt,Ca,oA).call(d,g,a,this.rotation)})}return r},lA=function(){let e=1/0,i=-1/0,s=1/0,a=-1/0;for(const r of this.paths)for(const[o,l,c,u]of r){const d=z.bezierBoundingBox(...o,...l,...c,...u);e=Math.min(e,d[0]),s=Math.min(s,d[1]),i=Math.max(i,d[2]),a=Math.max(a,d[3])}return[e,s,i,a]},Nm=function(){return h(this,ai)?Math.ceil(this.thickness*this.parentScale):0},Lh=function(e=!1){if(this.isEmpty())return;if(!h(this,ai)){E(this,H,Wr).call(this);return}const i=E(this,H,lA).call(this),s=E(this,H,Nm).call(this);S(this,$o,Math.max(Et.MIN_SIZE,i[2]-i[0])),S(this,Yo,Math.max(Et.MIN_SIZE,i[3]-i[1]));const a=Math.ceil(s+h(this,$o)*this.scaleFactor),r=Math.ceil(s+h(this,Yo)*this.scaleFactor),[o,l]=this.parentDimensions;this.width=a/o,this.height=r/l,this.setAspectRatio(a,r);const c=this.translationX,u=this.translationY;this.translationX=-i[0],this.translationY=-i[1],E(this,H,Yl).call(this),E(this,H,Wr).call(this),S(this,Zo,a),S(this,Jo,r),this.setDims(a,r);const d=e?s/this.scaleFactor/2:0;this.translate(c-this.translationX-d,u-this.translationY-d)},x(zt,Ca),K(zt,"_defaultColor",null),K(zt,"_defaultOpacity",1),K(zt,"_defaultThickness",1),K(zt,"_type","ink"),K(zt,"_editorType",nt.INK);let tA=zt;var Gt,Be,ur,Js,hr,yu,os,ta,ls,Fn,vu,ut,Oh,kh,Fm,uA,dO,jm,hA,Bm,fO,pO;const nd=class nd extends Et{constructor(e){super({...e,name:"stampEditor"});x(this,ut);x(this,Gt,null);x(this,Be,null);x(this,ur,null);x(this,Js,null);x(this,hr,null);x(this,yu,"");x(this,os,null);x(this,ta,null);x(this,ls,null);x(this,Fn,!1);x(this,vu,!1);S(this,Js,e.bitmapUrl),S(this,hr,e.bitmapFile)}static initialize(e,i){Et.initialize(e,i)}static get supportedTypes(){return dt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return dt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,i){i.pasteEditor(nt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const i=e.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(e=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:r,height:o}=e||this.copyCanvas(null,null,!0).imageData,l=await s.guess({name:"altText",request:{data:a,width:r,height:o,channels:a.length/(r*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),i&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var e,i;h(this,Be)&&(S(this,Gt,null),this._uiManager.imageManager.deleteId(h(this,Be)),(e=h(this,os))==null||e.remove(),S(this,os,null),(i=h(this,ta))==null||i.disconnect(),S(this,ta,null),h(this,ls)&&(clearTimeout(h(this,ls)),S(this,ls,null))),super.remove()}rebuild(){if(!this.parent){h(this,Be)&&E(this,ut,Fm).call(this);return}super.rebuild(),this.div!==null&&(h(this,Be)&&h(this,os)===null&&E(this,ut,Fm).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(h(this,ur)||h(this,Gt)||h(this,Js)||h(this,hr)||h(this,Be))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,i;if(this.width&&(e=this.x,i=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),h(this,Gt)?E(this,ut,uA).call(this):E(this,ut,Fm).call(this),this.width&&!this.annotationElementId){const[s,a]=this.parentDimensions;this.setAt(e*s,i*a,this.width*s,this.height*a)}return this.div}copyCanvas(e,i,s=!1){var p;e||(e=224);const{width:a,height:r}=h(this,Gt),o=new a0;let l=h(this,Gt),c=a,u=r,d=null;if(i){if(a>i||r>i){const D=Math.min(i/a,i/r);c=Math.floor(a*D),u=Math.floor(r*D)}d=document.createElement("canvas");const g=d.width=Math.ceil(c*o.sx),v=d.height=Math.ceil(u*o.sy);h(this,Fn)||(l=E(this,ut,jm).call(this,g,v));const A=d.getContext("2d");A.filter=this._uiManager.hcmFilter;let m="white",y="#cfcfd8";this._uiManager.hcmFilter!=="none"?y="black":(p=window.matchMedia)!=null&&p.call(window,"(prefers-color-scheme: dark)").matches&&(m="#8f8f9d",y="#42414d");const b=15,w=b*o.sx,T=b*o.sy,R=new OffscreenCanvas(w*2,T*2),M=R.getContext("2d");M.fillStyle=m,M.fillRect(0,0,w*2,T*2),M.fillStyle=y,M.fillRect(0,0,w,T),M.fillRect(w,T,w,T),A.fillStyle=A.createPattern(R,"repeat"),A.fillRect(0,0,g,v),A.drawImage(l,0,0,l.width,l.height,0,0,g,v)}let f=null;if(s){let g,v;if(o.symmetric&&l.width<e&&l.height<e)g=l.width,v=l.height;else if(l=h(this,Gt),a>e||r>e){const y=Math.min(e/a,e/r);g=Math.floor(a*y),v=Math.floor(r*y),h(this,Fn)||(l=E(this,ut,jm).call(this,g,v))}const m=new OffscreenCanvas(g,v).getContext("2d",{willReadFrequently:!0});m.drawImage(l,0,0,l.width,l.height,0,0,g,v),f={width:g,height:v,data:m.getImageData(0,0,g,v).data}}return{canvas:d,width:c,height:u,imageData:f}}getImageForAltText(){return h(this,os)}static async deserialize(e,i,s){var v;let a=null;if(e instanceof xL){const{data:{rect:A,rotation:m,id:y,structParent:b,popupRef:w},container:T,parent:{page:{pageNumber:R}}}=e,M=T.querySelector("canvas"),D=s.imageManager.getFromCanvas(T.id,M);M.remove();const O=((v=await i._structTree.getAriaAttributes(`${lE}${y}`))==null?void 0:v.get("aria-label"))||"";a=e={annotationType:nt.STAMP,bitmapId:D.id,bitmap:D.bitmap,pageIndex:R-1,rect:A.slice(0),rotation:m,id:y,deleted:!1,accessibilityData:{decorative:!1,altText:O},isSvg:!1,structParent:b,popupRef:w}}const r=await super.deserialize(e,i,s),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:u,isSvg:d,accessibilityData:f}=e;u&&s.imageManager.isValidId(u)?(S(r,Be,u),l&&S(r,Gt,l)):S(r,Js,c),S(r,Fn,d);const[p,g]=r.pageDimensions;return r.width=(o[2]-o[0])/p,r.height=(o[3]-o[1])/g,r.annotationElementId=e.id||null,f&&(r.altTextData=f),r._initialData=a,S(r,vu,!!a),r}serialize(e=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:nt.STAMP,bitmapId:h(this,Be),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:h(this,Fn),structTreeParentId:this._structTreeParentId};if(e)return s.bitmapUrl=E(this,ut,Bm).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s;const{decorative:a,altText:r}=this.serializeAltText(!1);if(!a&&r&&(s.accessibilityData={type:"Figure",alt:r}),this.annotationElementId){const l=E(this,ut,pO).call(this,s);if(l.isSame)return null;l.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,i===null)return s;i.stamps||(i.stamps=new Map);const o=h(this,Fn)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!i.stamps.has(h(this,Be)))i.stamps.set(h(this,Be),{area:o,serialized:s}),s.bitmap=E(this,ut,Bm).call(this,!1);else if(h(this,Fn)){const l=i.stamps.get(h(this,Be));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=E(this,ut,Bm).call(this,!1))}return s}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};Gt=new WeakMap,Be=new WeakMap,ur=new WeakMap,Js=new WeakMap,hr=new WeakMap,yu=new WeakMap,os=new WeakMap,ta=new WeakMap,ls=new WeakMap,Fn=new WeakMap,vu=new WeakMap,ut=new WeakSet,Oh=function(e,i=!1){if(!e){this.remove();return}S(this,Gt,e.bitmap),i||(S(this,Be,e.id),S(this,Fn,e.isSvg)),e.file&&S(this,yu,e.file.name),E(this,ut,uA).call(this)},kh=function(){if(S(this,ur,null),this._uiManager.enableWaiting(!1),!!h(this,os)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,Gt)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,Gt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Fm=function(){if(h(this,Be)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,Be)).then(s=>E(this,ut,Oh).call(this,s,!0)).finally(()=>E(this,ut,kh).call(this));return}if(h(this,Js)){const s=h(this,Js);S(this,Js,null),this._uiManager.enableWaiting(!0),S(this,ur,this._uiManager.imageManager.getFromUrl(s).then(a=>E(this,ut,Oh).call(this,a)).finally(()=>E(this,ut,kh).call(this)));return}if(h(this,hr)){const s=h(this,hr);S(this,hr,null),this._uiManager.enableWaiting(!0),S(this,ur,this._uiManager.imageManager.getFromFile(s).then(a=>E(this,ut,Oh).call(this,a)).finally(()=>E(this,ut,kh).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=nd.supportedTypesStr;const i=this._uiManager._signal;S(this,ur,new Promise(s=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),E(this,ut,Oh).call(this,a)}s()},{signal:i}),e.addEventListener("cancel",()=>{this.remove(),s()},{signal:i})}).finally(()=>E(this,ut,kh).call(this))),e.click()},uA=function(){const{div:e}=this;let{width:i,height:s}=h(this,Gt);const[a,r]=this.pageDimensions,o=.75;if(this.width)i=this.width*a,s=this.height*r;else if(i>o*a||s>o*r){const d=Math.min(o*a/i,o*r/s);i*=d,s*=d}const[l,c]=this.parentDimensions;this.setDims(i*l/a,s*c/r),this._uiManager.enableWaiting(!1);const u=S(this,os,document.createElement("canvas"));u.setAttribute("role","img"),this.addContainer(u),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),E(this,ut,hA).call(this,i,s),E(this,ut,fO).call(this),h(this,vu)||(this.parent.addUndoableEditor(this),S(this,vu,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,yu)&&u.setAttribute("aria-label",h(this,yu))},dO=function(e,i){var o;const[s,a]=this.parentDimensions;this.width=e/s,this.height=i/a,(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,h(this,ls)!==null&&clearTimeout(h(this,ls)),S(this,ls,setTimeout(()=>{S(this,ls,null),E(this,ut,hA).call(this,e,i)},200))},jm=function(e,i){const{width:s,height:a}=h(this,Gt);let r=s,o=a,l=h(this,Gt);for(;r>2*e||o>2*i;){const c=r,u=o;r>2*e&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),o>2*i&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const d=new OffscreenCanvas(r,o);d.getContext("2d").drawImage(l,0,0,c,u,0,0,r,o),l=d.transferToImageBitmap()}return l},hA=function(e,i){const s=new a0,a=Math.ceil(e*s.sx),r=Math.ceil(i*s.sy),o=h(this,os);if(!o||o.width===a&&o.height===r)return;o.width=a,o.height=r;const l=h(this,Fn)?h(this,Gt):E(this,ut,jm).call(this,a,r),c=o.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,a,r)},Bm=function(e){if(e){if(h(this,Fn)){const a=this._uiManager.imageManager.getSvgUrl(h(this,Be));if(a)return a}const i=document.createElement("canvas");return{width:i.width,height:i.height}=h(this,Gt),i.getContext("2d").drawImage(h(this,Gt),0,0),i.toDataURL()}if(h(this,Fn)){const[i,s]=this.pageDimensions,a=Math.round(this.width*i*Lr.PDF_TO_CSS_UNITS),r=Math.round(this.height*s*Lr.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(a,r);return o.getContext("2d").drawImage(h(this,Gt),0,0,h(this,Gt).width,h(this,Gt).height,0,0,a,r),o.transferToImageBitmap()}return structuredClone(h(this,Gt))},fO=function(){this._uiManager._signal&&(S(this,ta,new ResizeObserver(e=>{const i=e[0].contentRect;i.width&&i.height&&E(this,ut,dO).call(this,i.width,i.height)})),h(this,ta).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=h(this,ta))==null||e.disconnect(),S(this,ta,null)},{once:!0}))},pO=function(e){var c;const{rect:i,pageIndex:s,accessibilityData:{altText:a}}=this._initialData,r=e.rect.every((u,d)=>Math.abs(u-i[d])<1),o=e.pageIndex===s,l=(((c=e.accessibilityData)==null?void 0:c.alt)||"")===a;return{isSame:r&&o&&l,isSameAltText:l}},K(nd,"_type","stamp"),K(nd,"_editorType",nt.STAMP);let cA=nd;var tl,bu,cs,dr,ea,jn,fr,Au,Su,Qe,na,G,pr,Ve,mO,fA,pA,mA,Hm;const Ei=class Ei{constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:s,accessibilityManager:a,annotationLayer:r,drawLayer:o,textLayer:l,viewport:c,l10n:u}){x(this,Ve);x(this,tl);x(this,bu,!1);x(this,cs,null);x(this,dr,null);x(this,ea,null);x(this,jn,new Map);x(this,fr,!1);x(this,Au,!1);x(this,Su,!1);x(this,Qe,null);x(this,na,null);x(this,G);const d=[...h(Ei,pr).values()];if(!Ei._initialized){Ei._initialized=!0;for(const f of d)f.initialize(u,t)}t.registerEditorTypes(d),S(this,G,t),this.pageIndex=e,this.div=i,S(this,tl,a),S(this,cs,r),this.viewport=c,S(this,Qe,l),this.drawLayer=o,this._structTree=s,h(this,G).addLayer(this)}get isEmpty(){return h(this,jn).size===0}get isInvisible(){return this.isEmpty&&h(this,G).getMode()===nt.NONE}updateToolbar(t){h(this,G).updateToolbar(t)}updateMode(t=h(this,G).getMode()){switch(E(this,Ve,Hm).call(this),t){case nt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case nt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case nt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const i of h(Ei,pr).values())e.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=h(this,Qe))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(h(this,G).getMode()!==nt.INK)return;if(!t){for(const i of h(this,jn).values())if(i.isEmpty()){i.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){h(this,G).setEditingState(t)}addCommands(t){h(this,G).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=h(this,cs))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const i of h(this,jn).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(h(this,G).removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!h(this,cs))return;const e=h(this,cs).getEditableAnnotations();for(const i of e){if(i.hide(),h(this,G).isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){var s;S(this,Su,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const a of h(this,jn).values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){t.set(a.annotationElementId,a);continue}else e.set(a.annotationElementId,a);(s=this.getEditableAnnotation(a.annotationElementId))==null||s.show(),a.remove()}if(h(this,cs)){const a=h(this,cs).getEditableAnnotations();for(const r of a){const{id:o}=r.data;if(h(this,G).isDeletedAnnotationElement(o))continue;let l=e.get(o);if(l){l.resetAnnotationElement(r),l.show(!1),r.show();continue}l=t.get(o),l&&(h(this,G).addChangedExistingAnnotation(l),l.renderAnnotationElement(r)&&l.show(!1)),r.show()}}E(this,Ve,Hm).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const a of h(Ei,pr).values())i.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),S(this,Su,!1)}getEditableAnnotation(t){var e;return((e=h(this,cs))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){h(this,G).getActive()!==t&&h(this,G).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=h(this,Qe))!=null&&t.div&&!h(this,na)){S(this,na,new AbortController);const e=h(this,G).combinedSignal(h(this,na));h(this,Qe).div.addEventListener("pointerdown",E(this,Ve,mO).bind(this),{signal:e}),h(this,Qe).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=h(this,Qe))!=null&&t.div&&h(this,na)&&(h(this,na).abort(),S(this,na,null),h(this,Qe).div.classList.remove("highlighting"))}enableClick(){if(h(this,dr))return;S(this,dr,new AbortController);const t=h(this,G).combinedSignal(h(this,dr));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=h(this,dr))==null||t.abort(),S(this,dr,null)}attach(t){h(this,jn).set(t.id,t);const{annotationElementId:e}=t;e&&h(this,G).isDeletedAnnotationElement(e)&&h(this,G).removeDeletedAnnotationElement(t)}detach(t){var e;h(this,jn).delete(t.id),(e=h(this,tl))==null||e.removePointerInTextLayer(t.contentDiv),!h(this,Su)&&t.annotationElementId&&h(this,G).addDeletedAnnotationElement(t)}remove(t){this.detach(t),h(this,G).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,h(this,Au)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(h(this,G).addDeletedAnnotationElement(t.annotationElementId),Et.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),h(this,G).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),h(this,G).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!h(this,ea)&&(t._focusEventsAllowed=!1,S(this,ea,setTimeout(()=>{S(this,ea,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:h(this,G)._signal}),e.focus())},0))),t._structTreeParentId=(i=h(this,tl))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getNextId(){return h(this,G).getId()}combinedSignal(t){return h(this,G).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=h(this,Ve,fA))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){h(this,G).updateToolbar(t),h(this,G).updateMode(t);const{offsetX:i,offsetY:s}=E(this,Ve,mA).call(this),a=this.getNextId(),r=E(this,Ve,pA).call(this,{parent:this,id:a,x:i,y:s,uiManager:h(this,G),isCentered:!0,...e});r&&this.add(r)}async deserialize(t){var e;return await((e=h(Ei,pr).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,h(this,G)))||null}createAndAddNewEditor(t,e,i={}){const s=this.getNextId(),a=E(this,Ve,pA).call(this,{parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:h(this,G),isCentered:e,...i});return a&&this.add(a),a}addNewEditor(){this.createAndAddNewEditor(E(this,Ve,mA).call(this),!0)}setSelected(t){h(this,G).setSelected(t)}toggleSelected(t){h(this,G).toggleSelected(t)}unselect(t){h(this,G).unselect(t)}pointerup(t){const{isMac:e}=pn.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&h(this,fr)){if(S(this,fr,!1),!h(this,bu)){S(this,bu,!0);return}if(h(this,G).getMode()===nt.STAMP){h(this,G).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(h(this,G).getMode()===nt.HIGHLIGHT&&this.enableTextSelection(),h(this,fr)){S(this,fr,!1);return}const{isMac:e}=pn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;S(this,fr,!0);const i=h(this,G).getActive();S(this,bu,!i||i.isEmpty())}findNewParent(t,e,i){const s=h(this,G).findParent(e,i);return s===null||s===this?!1:(s.changeParent(t),!0)}destroy(){var t,e;((t=h(this,G).getActive())==null?void 0:t.parent)===this&&(h(this,G).commitOrRemove(),h(this,G).setActiveEditor(null)),h(this,ea)&&(clearTimeout(h(this,ea)),S(this,ea,null));for(const i of h(this,jn).values())(e=h(this,tl))==null||e.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,h(this,jn).clear(),h(this,G).removeLayer(this)}render({viewport:t}){this.viewport=t,ml(this.div,t);for(const e of h(this,G).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){h(this,G).commitOrRemove(),E(this,Ve,Hm).call(this);const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,ml(this.div,{rotation:i}),e!==i)for(const s of h(this,jn).values())s.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return h(this,G).viewParameters.realScale}};tl=new WeakMap,bu=new WeakMap,cs=new WeakMap,dr=new WeakMap,ea=new WeakMap,jn=new WeakMap,fr=new WeakMap,Au=new WeakMap,Su=new WeakMap,Qe=new WeakMap,na=new WeakMap,G=new WeakMap,pr=new WeakMap,Ve=new WeakSet,mO=function(t){h(this,G).unselectAll();const{target:e}=t;if(e===h(this,Qe).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&h(this,Qe).div.contains(e)){const{isMac:i}=pn.platform;if(t.button!==0||t.ctrlKey&&i)return;h(this,G).showAllEditors("highlight",!0,!0),h(this,Qe).div.classList.add("free"),this.toggleDrawing(),Cg.startHighlighting(this,h(this,G).direction==="ltr",{target:h(this,Qe).div,x:t.x,y:t.y}),h(this,Qe).div.addEventListener("pointerup",()=>{h(this,Qe).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:h(this,G)._signal}),t.preventDefault()}},fA=function(){return h(Ei,pr).get(h(this,G).getMode())},pA=function(t){const e=h(this,Ve,fA);return e?new e.prototype.constructor(t):null},mA=function(){const{x:t,y:e,width:i,height:s}=this.div.getBoundingClientRect(),a=Math.max(0,t),r=Math.max(0,e),o=Math.min(window.innerWidth,t+i),l=Math.min(window.innerHeight,e+s),c=(a+o)/2-t,u=(r+l)/2-e,[d,f]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:d,offsetY:f}},Hm=function(){S(this,Au,!0);for(const t of h(this,jn).values())t.isEmpty()&&t.remove();S(this,Au,!1)},K(Ei,"_initialized",!1),x(Ei,pr,new Map([q0,tA,cA,Cg].map(t=>[t._editorType,t])));let dA=Ei;var us,zf,ue,ia,Vf,yA,Al,vA,gO;const Ne=class Ne{constructor({pageIndex:t}){x(this,Al);x(this,us,null);x(this,zf,0);x(this,ue,new Map);x(this,ia,new Map);this.pageIndex=t}setParent(t){if(!h(this,us)){S(this,us,t);return}if(h(this,us)!==t){if(h(this,ue).size>0)for(const e of h(this,ue).values())e.remove(),t.append(e);S(this,us,t)}}static get _svgFactory(){return dt(this,"_svgFactory",new vE)}draw(t,e,i,s=!1){const a=rn(this,zf)._++,r=E(this,Al,vA).call(this,t.box);r.classList.add(...t.classNamesForDrawing);const o=Ne._svgFactory.createElement("defs");r.append(o);const l=Ne._svgFactory.createElement("path");o.append(l);const c=`path_p${this.pageIndex}_${a}`;l.setAttribute("id",c),l.setAttribute("d",t.toSVGPath()),s&&h(this,ia).set(a,l);const u=E(this,Al,gO).call(this,o,c),d=Ne._svgFactory.createElement("use");return r.append(d),r.setAttribute("fill",e),r.setAttribute("fill-opacity",i),d.setAttribute("href",`#${c}`),h(this,ue).set(a,r),{id:a,clipPathId:`url(#${u})`}}drawOutline(t){const e=rn(this,zf)._++,i=E(this,Al,vA).call(this,t.box);i.classList.add(...t.classNamesForOutlining);const s=Ne._svgFactory.createElement("defs");i.append(s);const a=Ne._svgFactory.createElement("path");s.append(a);const r=`path_p${this.pageIndex}_${e}`;a.setAttribute("id",r),a.setAttribute("d",t.toSVGPath()),a.setAttribute("vector-effect","non-scaling-stroke");let o;if(t.mustRemoveSelfIntersections){const u=Ne._svgFactory.createElement("mask");s.append(u),o=`mask_p${this.pageIndex}_${e}`,u.setAttribute("id",o),u.setAttribute("maskUnits","objectBoundingBox");const d=Ne._svgFactory.createElement("rect");u.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const f=Ne._svgFactory.createElement("use");u.append(f),f.setAttribute("href",`#${r}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=Ne._svgFactory.createElement("use");i.append(l),l.setAttribute("href",`#${r}`),o&&l.setAttribute("mask",`url(#${o})`);const c=l.cloneNode();return i.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),h(this,ue).set(e,i),e}finalizeLine(t,e){const i=h(this,ia).get(t);h(this,ia).delete(t),this.updateBox(t,e.box),i.setAttribute("d",e.toSVGPath())}updateLine(t,e){h(this,ue).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){h(this,ia).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var i;E(i=Ne,Vf,yA).call(i,h(this,ue).get(t),e)}show(t,e){h(this,ue).get(t).classList.toggle("hidden",!e)}rotate(t,e){h(this,ue).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){h(this,ue).get(t).setAttribute("fill",e)}changeOpacity(t,e){h(this,ue).get(t).setAttribute("fill-opacity",e)}addClass(t,e){h(this,ue).get(t).classList.add(e)}removeClass(t,e){h(this,ue).get(t).classList.remove(e)}getSVGRoot(t){return h(this,ue).get(t)}remove(t){h(this,ia).delete(t),h(this,us)!==null&&(h(this,ue).get(t).remove(),h(this,ue).delete(t))}destroy(){S(this,us,null);for(const t of h(this,ue).values())t.remove();h(this,ue).clear(),h(this,ia).clear()}};us=new WeakMap,zf=new WeakMap,ue=new WeakMap,ia=new WeakMap,Vf=new WeakSet,yA=function(t,{x:e=0,y:i=0,width:s=1,height:a=1}={}){const{style:r}=t;r.top=`${100*i}%`,r.left=`${100*e}%`,r.width=`${100*s}%`,r.height=`${100*a}%`},Al=new WeakSet,vA=function(t){var i;const e=Ne._svgFactory.create(1,1,!0);return h(this,us).append(e),e.setAttribute("aria-hidden",!0),E(i=Ne,Vf,yA).call(i,e,t),e},gO=function(t,e){const i=Ne._svgFactory.createElement("clipPath");t.append(i);const s=`clip_${e}`;i.setAttribute("id",s),i.setAttribute("clipPathUnits","objectBoundingBox");const a=Ne._svgFactory.createElement("use");return i.append(a),a.setAttribute("href",`#${e}`),a.classList.add("clip"),s},x(Ne,Vf);let gA=Ne;var L3=Q.AbortException,O3=Q.AnnotationEditorLayer,k3=Q.AnnotationEditorParamsType,P3=Q.AnnotationEditorType,N3=Q.AnnotationEditorUIManager,yO=Q.AnnotationLayer,vO=Q.AnnotationMode,F3=Q.ColorPicker,j3=Q.DOMSVGFactory,B3=Q.DrawLayer,H3=Q.FeatureTest,AE=Q.GlobalWorkerOptions,U3=Q.ImageKind,I3=Q.InvalidPDFException,z3=Q.MissingPDFException,V3=Q.OPS,G3=Q.OutputScale,q3=Q.PDFDataRangeTransport,X3=Q.PDFDateString,Y3=Q.PDFWorker,$3=Q.PasswordResponses,K3=Q.PermissionFlag,W3=Q.PixelsPerInch,Q3=Q.RenderingCancelledException,bO=Q.TextLayer,Z3=Q.UnexpectedResponseException,J3=Q.Util,t5=Q.VerbosityLevel,e5=Q.XfaLayer,n5=Q.build,i5=Q.createValidAbsoluteUrl,s5=Q.fetchData,AO=Q.getDocument,a5=Q.getFilenameFromUrl,r5=Q.getPdfFilenameFromUrl,o5=Q.getXfaPageViewport,l5=Q.isDataScheme,c5=Q.isPdfFile,u5=Q.noContextMenu,h5=Q.normalizeUnicode,d5=Q.setLayerDimensions,f5=Q.shadow,SO=Q.version;const p5=Object.freeze(Object.defineProperty({__proto__:null,AbortException:L3,AnnotationEditorLayer:O3,AnnotationEditorParamsType:k3,AnnotationEditorType:P3,AnnotationEditorUIManager:N3,AnnotationLayer:yO,AnnotationMode:vO,ColorPicker:F3,DOMSVGFactory:j3,DrawLayer:B3,FeatureTest:H3,GlobalWorkerOptions:AE,ImageKind:U3,InvalidPDFException:I3,MissingPDFException:z3,OPS:V3,OutputScale:G3,PDFDataRangeTransport:q3,PDFDateString:X3,PDFWorker:Y3,PasswordResponses:$3,PermissionFlag:K3,PixelsPerInch:W3,RenderingCancelledException:Q3,TextLayer:bO,UnexpectedResponseException:Z3,Util:J3,VerbosityLevel:t5,XfaLayer:e5,build:n5,createValidAbsoluteUrl:i5,fetchData:s5,getDocument:AO,getFilenameFromUrl:a5,getPdfFilenameFromUrl:r5,getXfaPageViewport:o5,isDataScheme:l5,isPdfFile:c5,noContextMenu:u5,normalizeUnicode:h5,setLayerDimensions:d5,shadow:f5,version:SO},Symbol.toStringTag,{value:"Module"}));var Te=function(n,t,e){if(e||arguments.length===2)for(var i=0,s=t.length,a;i<s;i++)(a||!(i in t))&&(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return n.concat(a||Array.prototype.slice.call(t))},m5=["onCopy","onCut","onPaste"],g5=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],y5=["onFocus","onBlur"],v5=["onInput","onInvalid","onReset","onSubmit"],b5=["onLoad","onError"],A5=["onKeyDown","onKeyPress","onKeyUp"],S5=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],E5=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],w5=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],x5=["onSelect"],T5=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],_5=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],C5=["onScroll"],R5=["onWheel"],M5=["onAnimationStart","onAnimationEnd","onAnimationIteration"],D5=["onTransitionEnd"],L5=["onToggle"],O5=["onChange"],k5=Te(Te(Te(Te(Te(Te(Te(Te(Te(Te(Te(Te(Te(Te(Te(Te(Te(Te([],m5,!0),g5,!0),y5,!0),v5,!0),b5,!0),A5,!0),S5,!0),E5,!0),w5,!0),x5,!0),T5,!0),_5,!0),C5,!0),R5,!0),M5,!0),D5,!0),O5,!0),L5,!0);function EO(n,t){var e={};return k5.forEach(function(i){var s=n[i];s&&(t?e[i]=function(a){return s(a,t(i))}:e[i]=s)}),e}function pp(n){var t=!1,e=new Promise(function(i,s){n.then(function(a){return!t&&i(a)}).catch(function(a){return!t&&s(a)})});return{promise:e,cancel:function(){t=!0}}}function wO(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(t=0;t<s;t++)n[t]&&(e=wO(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function Ry(){for(var n,t,e=0,i="",s=arguments.length;e<s;e++)(n=arguments[e])&&(t=wO(n))&&(i&&(i+=" "),i+=t);return i}var P5="Invariant failed";function Rt(n,t){if(!n)throw new Error(P5)}var N5=function(){},F5=N5;const tn=SA(F5);var WT=Object.prototype.hasOwnProperty;function QT(n,t,e){for(e of n.keys())if(Ec(e,t))return e}function Ec(n,t){var e,i,s;if(n===t)return!0;if(n&&t&&(e=n.constructor)===t.constructor){if(e===Date)return n.getTime()===t.getTime();if(e===RegExp)return n.toString()===t.toString();if(e===Array){if((i=n.length)===t.length)for(;i--&&Ec(n[i],t[i]););return i===-1}if(e===Set){if(n.size!==t.size)return!1;for(i of n)if(s=i,s&&typeof s=="object"&&(s=QT(t,s),!s)||!t.has(s))return!1;return!0}if(e===Map){if(n.size!==t.size)return!1;for(i of n)if(s=i[0],s&&typeof s=="object"&&(s=QT(t,s),!s)||!Ec(i[1],t.get(s)))return!1;return!0}if(e===ArrayBuffer)n=new Uint8Array(n),t=new Uint8Array(t);else if(e===DataView){if((i=n.byteLength)===t.byteLength)for(;i--&&n.getInt8(i)===t.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===t.byteLength)for(;i--&&n[i]===t[i];);return i===-1}if(!e||typeof n=="object"){i=0;for(e in n)if(WT.call(n,e)&&++i&&!WT.call(t,e)||!(e in t)||!Ec(n[e],t[e]))return!1;return Object.keys(t).length===i}}return n!==n&&t!==t}const xO=C.createContext(null);function wc({children:n,type:t}){return _.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:n})}const j5="noopener noreferrer nofollow";class B5{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Rt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Rt(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{Rt(this.pdfDocument),Rt(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{Rt(Array.isArray(e));const i=e[0];new Promise(s=>{Rt(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(a=>{s(a)}).catch(()=>{Rt(!1)}):typeof i=="number"?s(i):Rt(!1)}).then(s=>{const a=s+1;Rt(this.pdfViewer),Rt(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:s,pageNumber:a})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;Rt(this.pdfViewer),Rt(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,i){t.href=e,t.rel=this.externalLinkRel||j5,t.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const ZT={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},My=typeof window<"u",TO=My&&window.location.protocol==="file:";function H5(n){return typeof n<"u"}function Vr(n){return H5(n)&&n!==null}function U5(n){return typeof n=="string"}function I5(n){return n instanceof ArrayBuffer}function z5(n){return Rt(My),n instanceof Blob}function bA(n){return U5(n)&&/^data:/.test(n)}function JT(n){Rt(bA(n));const[t="",e=""]=n.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function V5(){return My&&window.devicePixelRatio||1}const _O="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function t_(){tn(!TO,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${_O}`)}function G5(){tn(!TO,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${_O}`)}function vl(n){n!=null&&n.cancel&&n.cancel()}function AA(n,t){return Object.defineProperty(n,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function q5(n){return n.name==="RenderingCancelledException"}function X5(n){return new Promise((t,e)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return e(new Error("Error while reading a file."));t(i.result)},i.onerror=s=>{if(!s.target)return e(new Error("Error while reading a file."));const{error:a}=s.target;if(!a)return e(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},i.readAsArrayBuffer(n)})}function Y5(n,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Pu(){return C.useReducer(Y5,{value:void 0,error:void 0})}var $5=function(n,t,e,i){function s(a){return a instanceof e?a:new e(function(r){r(a)})}return new(e||(e=Promise))(function(a,r){function o(u){try{c(i.next(u))}catch(d){r(d)}}function l(u){try{c(i.throw(u))}catch(d){r(d)}}function c(u){u.done?a(u.value):s(u.value).then(o,l)}c((i=i.apply(n,t||[])).next())})},e_=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};const{PDFDataRangeTransport:K5}=p5,W5=(n,t)=>{switch(t){case ZT.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");n(e);break}case ZT.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");n(e);break}}};function n_(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const Q5=C.forwardRef(function(t,e){var{children:i,className:s,error:a="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:u,loading:d="Loading PDF…",noData:f="No PDF file specified.",onItemClick:p,onLoadError:g,onLoadProgress:v,onLoadSuccess:A,onPassword:m=W5,onSourceError:y,onSourceSuccess:b,options:w,renderMode:T,rotate:R}=t,M=e_(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[D,O]=Pu(),{value:k,error:B}=D,[$,X]=Pu(),{value:V,error:Y}=$,F=C.useRef(new B5),P=C.useRef([]),j=C.useRef(void 0),Z=C.useRef(void 0);l&&l!==j.current&&n_(l)&&(tn(!Ec(l,j.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),j.current=l),w&&w!==Z.current&&(tn(!Ec(w,Z.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Z.current=w);const ot=C.useRef({scrollPageIntoView:Dt=>{const{dest:le,pageNumber:qe,pageIndex:xe=qe-1}=Dt;if(p){p({dest:le,pageIndex:xe,pageNumber:qe});return}const Ol=P.current[xe];if(Ol){Ol.scrollIntoView();return}tn(!1,`An internal link leading to page ${qe} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});C.useImperativeHandle(e,()=>({linkService:F,pages:P,viewer:ot}),[]);function ne(){b&&b()}function Ct(){B&&(tn(!1,B.toString()),y&&y(B))}function bt(){O({type:"RESET"})}C.useEffect(bt,[l,O]);const Wt=C.useCallback(()=>$5(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return bA(l)?{data:JT(l)}:(t_(),{url:l});if(l instanceof K5)return{range:l};if(I5(l))return{data:l};if(My&&z5(l))return{data:yield X5(l)};if(Rt(typeof l=="object"),Rt(n_(l)),"url"in l&&typeof l.url=="string"){if(bA(l.url)){const{url:Dt}=l,le=e_(l,["url"]),qe=JT(Dt);return Object.assign({data:qe},le)}t_()}return l}),[l]);C.useEffect(()=>{const Dt=pp(Wt());return Dt.promise.then(le=>{O({type:"RESOLVE",value:le})}).catch(le=>{O({type:"REJECT",error:le})}),()=>{vl(Dt)}},[Wt,O]),C.useEffect(()=>{if(!(typeof k>"u")){if(k===!1){Ct();return}ne()}},[k]);function Ge(){V&&(A&&A(V),P.current=new Array(V.numPages),F.current.setDocument(V))}function ie(){Y&&(tn(!1,Y.toString()),g&&g(Y))}C.useEffect(function(){X({type:"RESET"})},[X,k]),C.useEffect(function(){if(!k)return;const le=w?Object.assign(Object.assign({},k),w):k,qe=AO(le);v&&(qe.onProgress=v),m&&(qe.onPassword=m);const xe=qe,Ol=xe.promise.then(Wu=>{X({type:"RESOLVE",value:Wu})}).catch(Wu=>{xe.destroyed||X({type:"REJECT",error:Wu})});return()=>{Ol.finally(()=>xe.destroy())}},[w,X,k]),C.useEffect(()=>{if(!(typeof V>"u")){if(V===!1){ie();return}Ge()}},[V]),C.useEffect(function(){F.current.setViewer(ot.current),F.current.setExternalLinkRel(r),F.current.setExternalLinkTarget(o)},[r,o]);const yt=C.useCallback((Dt,le)=>{P.current[Dt]=le},[]),Vi=C.useCallback(Dt=>{delete P.current[Dt]},[]),Ai=C.useMemo(()=>({imageResourcesPath:u,linkService:F.current,onItemClick:p,pdf:V,registerPage:yt,renderMode:T,rotate:R,unregisterPage:Vi}),[u,p,V,yt,T,R,Vi]),Bt=C.useMemo(()=>EO(M,()=>V),[M,V]);function $u(){return _.jsx(xO.Provider,{value:Ai,children:i})}function Ku(){return l?V==null?_.jsx(wc,{type:"loading",children:typeof d=="function"?d():d}):V===!1?_.jsx(wc,{type:"error",children:typeof a=="function"?a():a}):$u():_.jsx(wc,{type:"no-data",children:typeof f=="function"?f():f})}return _.jsx("div",Object.assign({className:Ry("react-pdf__Document",s),ref:c,style:{"--scale-factor":"1"}},Bt,{children:Ku()}))});function CO(){return C.useContext(xO)}function RO(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n.filter(Boolean);if(e.length<=1){var i=e[0];return i||null}return function(a){e.forEach(function(r){typeof r=="function"?r(a):r&&(r.current=a)})}}const MO=C.createContext(null),DO={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Z5=/^H(\d+)$/;function J5(n){return n in DO}function Dy(n){return"children"in n}function LO(n){return Dy(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function t4(n){const t={};if(Dy(n)){const{role:e}=n,i=e.match(Z5);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(J5(e)){const s=DO[e];s&&(t.role=s)}}return t}function OO(n){const t={};if(Dy(n)){if(n.alt!==void 0&&(t["aria-label"]=n.alt),n.lang!==void 0&&(t.lang=n.lang),LO(n)){const[e]=n.children;if(e){const i=OO(e);return Object.assign(Object.assign({},t),i)}}}else"id"in n&&(t["aria-owns"]=n.id);return t}function e4(n){return n?Object.assign(Object.assign({},t4(n)),OO(n)):null}function kO({className:n,node:t}){const e=C.useMemo(()=>e4(t),[t]),i=C.useMemo(()=>!Dy(t)||LO(t)?null:t.children.map((s,a)=>_.jsx(kO,{node:s},a)),[t]);return _.jsx("span",Object.assign({className:n},e,{children:i}))}function Ly(){return C.useContext(MO)}function n4(){const n=Ly();Rt(n);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=n,[i,s]=Pu(),{value:a,error:r}=i,{customTextRenderer:o,page:l}=n;function c(){a&&e&&e(a)}function u(){r&&(tn(!1,r.toString()),t&&t(r))}return C.useEffect(function(){s({type:"RESET"})},[s,l]),C.useEffect(function(){if(o||!l)return;const f=pp(l.getStructTree()),p=f;return f.promise.then(g=>{s({type:"RESOLVE",value:g})}).catch(g=>{s({type:"REJECT",error:g})}),()=>vl(p)},[o,l,s]),C.useEffect(()=>{if(a!==void 0){if(a===!1){u();return}c()}},[a]),a?_.jsx(kO,{className:"react-pdf__Page__structTree structTree",node:a}):null}const i_=vO;function i4(n){const t=Ly();Rt(t);const e=Object.assign(Object.assign({},t),n),{_className:i,canvasBackground:s,devicePixelRatio:a=V5(),onRenderError:r,onRenderSuccess:o,page:l,renderForms:c,renderTextLayer:u,rotate:d,scale:f}=e,{canvasRef:p}=n;Rt(l);const g=C.useRef(null);function v(){l&&o&&o(AA(l,f))}function A(w){q5(w)||(tn(!1,w.toString()),r&&r(w))}const m=C.useMemo(()=>l.getViewport({scale:f*a,rotation:d}),[a,l,d,f]),y=C.useMemo(()=>l.getViewport({scale:f,rotation:d}),[l,d,f]);C.useEffect(function(){if(!l)return;l.cleanup();const{current:T}=g;if(!T)return;T.width=m.width,T.height=m.height,T.style.width=`${Math.floor(y.width)}px`,T.style.height=`${Math.floor(y.height)}px`,T.style.visibility="hidden";const R={annotationMode:c?i_.ENABLE_FORMS:i_.ENABLE,canvasContext:T.getContext("2d",{alpha:!1}),viewport:m};s&&(R.background=s);const M=l.render(R),D=M;return M.promise.then(()=>{T.style.visibility="",v()}).catch(A),()=>vl(D)},[s,l,c,m,y]);const b=C.useCallback(()=>{const{current:w}=g;w&&(w.width=0,w.height=0)},[]);return C.useEffect(()=>b,[b]),_.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:RO(p,g),style:{display:"block",userSelect:"none"},children:u?_.jsx(n4,{}):null})}function s4(n){return"str"in n}function a4(){const n=Ly();Rt(n);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:i,onRenderTextLayerError:s,onRenderTextLayerSuccess:a,page:r,pageIndex:o,pageNumber:l,rotate:c,scale:u}=n;Rt(r);const[d,f]=Pu(),{value:p,error:g}=d,v=C.useRef(null);tn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function A(){p&&i&&i(p)}function m(){g&&(tn(!1,g.toString()),e&&e(g))}C.useEffect(function(){f({type:"RESET"})},[r,f]),C.useEffect(function(){if(!r)return;const D=pp(r.getTextContent()),O=D;return D.promise.then(k=>{f({type:"RESOLVE",value:k})}).catch(k=>{f({type:"REJECT",error:k})}),()=>vl(O)},[r,f]),C.useEffect(()=>{if(p!==void 0){if(p===!1){m();return}A()}},[p]);const y=C.useCallback(()=>{a&&a()},[a]),b=C.useCallback(M=>{tn(!1,M.toString()),s&&s(M)},[s]);function w(){const M=v.current;M&&M.classList.add("selecting")}function T(){const M=v.current;M&&M.classList.remove("selecting")}const R=C.useMemo(()=>r.getViewport({scale:u,rotation:c}),[r,c,u]);return C.useLayoutEffect(function(){if(!r||!p)return;const{current:D}=v;if(!D)return;D.innerHTML="";const O=r.streamTextContent({includeMarkedContent:!0}),k={container:D,textContentSource:O,viewport:R},B=new bO(k),$=B;return B.render().then(()=>{const X=document.createElement("div");X.className="endOfContent",D.append(X);const V=D.querySelectorAll('[role="presentation"]');if(t){let Y=0;p.items.forEach((F,P)=>{if(!s4(F))return;const j=V[Y];if(!j)return;const Z=t(Object.assign({pageIndex:o,pageNumber:l,itemIndex:P},F));j.innerHTML=Z,Y+=F.str&&F.hasEOL?2:1})}y()}).catch(b),()=>vl($)},[t,b,y,r,o,l,p,R]),_.jsx("div",{className:Ry("react-pdf__Page__textContent","textLayer"),onMouseUp:T,onMouseDown:w,ref:v})}function r4(){const n=CO(),t=Ly();Rt(t);const e=Object.assign(Object.assign({},n),t),{imageResourcesPath:i,linkService:s,onGetAnnotationsError:a,onGetAnnotationsSuccess:r,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:l,page:c,pdf:u,renderForms:d,rotate:f,scale:p=1}=e;Rt(u),Rt(c),Rt(s);const[g,v]=Pu(),{value:A,error:m}=g,y=C.useRef(null);tn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function b(){A&&r&&r(A)}function w(){m&&(tn(!1,m.toString()),a&&a(m))}C.useEffect(function(){v({type:"RESET"})},[v,c]),C.useEffect(function(){if(!c)return;const O=pp(c.getAnnotations()),k=O;return O.promise.then(B=>{v({type:"RESOLVE",value:B})}).catch(B=>{v({type:"REJECT",error:B})}),()=>{vl(k)}},[v,c]),C.useEffect(()=>{if(A!==void 0){if(A===!1){w();return}b()}},[A]);function T(){l&&l()}function R(D){tn(!1,`${D}`),o&&o(D)}const M=C.useMemo(()=>c.getViewport({scale:p,rotation:f}),[c,f,p]);return C.useEffect(function(){if(!u||!c||!s||!A)return;const{current:O}=y;if(!O)return;const k=M.clone({dontFlip:!0}),B={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:O,l10n:null,page:c,structTreeLayer:null,viewport:k},$={annotations:A,annotationStorage:u.annotationStorage,div:O,imageResourcesPath:i,linkService:s,page:c,renderForms:d,viewport:k};O.innerHTML="";try{new yO(B).render($),T()}catch(X){R(X)}return()=>{}},[A,i,s,c,u,d,M]),_.jsx("div",{className:Ry("react-pdf__Page__annotations","annotationLayer"),ref:y})}var o4=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};const s_=1;function l4(n){const t=CO(),e=Object.assign(Object.assign({},t),n),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:a,canvasRef:r,children:o,className:l,customRenderer:c,customTextRenderer:u,devicePixelRatio:d,error:f="Failed to load the page.",height:p,inputRef:g,loading:v="Loading page…",noData:A="No page specified.",onGetAnnotationsError:m,onGetAnnotationsSuccess:y,onGetStructTreeError:b,onGetStructTreeSuccess:w,onGetTextError:T,onGetTextSuccess:R,onLoadError:M,onLoadSuccess:D,onRenderAnnotationLayerError:O,onRenderAnnotationLayerSuccess:k,onRenderError:B,onRenderSuccess:$,onRenderTextLayerError:X,onRenderTextLayerSuccess:V,pageIndex:Y,pageNumber:F,pdf:P,registerPage:j,renderAnnotationLayer:Z=!0,renderForms:ot=!1,renderMode:ne="canvas",renderTextLayer:Ct=!0,rotate:bt,scale:Wt=s_,unregisterPage:Ge,width:ie}=e,yt=o4(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Vi,Ai]=Pu(),{value:Bt,error:$u}=Vi,Ku=C.useRef(null);Rt(P);const Dt=Vr(F)?F-1:Y??null,le=F??(Vr(Y)?Y+1:null),qe=bt??(Bt?Bt.rotate:null),xe=C.useMemo(()=>{if(!Bt)return null;let kl=1;const gp=Wt??s_;if(ie||p){const yp=Bt.getViewport({scale:1,rotation:qe});ie?kl=ie/yp.width:p&&(kl=p/yp.height)}return gp*kl},[p,Bt,qe,Wt,ie]);C.useEffect(function(){return()=>{Vr(Dt)&&s&&Ge&&Ge(Dt)}},[s,P,Dt,Ge]);function Ol(){if(D){if(!Bt||!xe)return;D(AA(Bt,xe))}if(s&&j){if(!Vr(Dt)||!Ku.current)return;j(Dt,Ku.current)}}function Wu(){$u&&(tn(!1,$u.toString()),M&&M($u))}C.useEffect(function(){Ai({type:"RESET"})},[Ai,P,Dt]),C.useEffect(function(){if(!P||!le)return;const gp=pp(P.getPage(le)),yp=gp;return gp.promise.then(Oy=>{Ai({type:"RESOLVE",value:Oy})}).catch(Oy=>{Ai({type:"REJECT",error:Oy})}),()=>vl(yp)},[Ai,P,le]),C.useEffect(()=>{if(Bt!==void 0){if(Bt===!1){Wu();return}Ol()}},[Bt,xe]);const PO=C.useMemo(()=>Bt&&Vr(Dt)&&le&&Vr(qe)&&Vr(xe)?{_className:i,canvasBackground:a,customTextRenderer:u,devicePixelRatio:d,onGetAnnotationsError:m,onGetAnnotationsSuccess:y,onGetStructTreeError:b,onGetStructTreeSuccess:w,onGetTextError:T,onGetTextSuccess:R,onRenderAnnotationLayerError:O,onRenderAnnotationLayerSuccess:k,onRenderError:B,onRenderSuccess:$,onRenderTextLayerError:X,onRenderTextLayerSuccess:V,page:Bt,pageIndex:Dt,pageNumber:le,renderForms:ot,renderTextLayer:Ct,rotate:qe,scale:xe}:null,[i,a,u,d,m,y,b,w,T,R,O,k,B,$,X,V,Bt,Dt,le,ot,Ct,qe,xe]),NO=C.useMemo(()=>EO(yt,()=>Bt&&(xe?AA(Bt,xe):void 0)),[yt,Bt,xe]),mp=`${Dt}@${xe}/${qe}`;function FO(){switch(ne){case"custom":return Rt(c),_.jsx(c,{},`${mp}_custom`);case"none":return null;case"canvas":default:return _.jsx(i4,{canvasRef:r},`${mp}_canvas`)}}function jO(){return Ct?_.jsx(a4,{},`${mp}_text`):null}function BO(){return Z?_.jsx(r4,{},`${mp}_annotations`):null}function HO(){return _.jsxs(MO.Provider,{value:PO,children:[FO(),jO(),BO(),o]})}function UO(){return le?P===null||Bt===void 0||Bt===null?_.jsx(wc,{type:"loading",children:typeof v=="function"?v():v}):P===!1||Bt===!1?_.jsx(wc,{type:"error",children:typeof f=="function"?f():f}):HO():_.jsx(wc,{type:"no-data",children:typeof A=="function"?A():A})}return _.jsx("div",Object.assign({className:Ry(i,l),"data-page-number":le,ref:RO(g,Ku),style:{"--scale-factor":`${xe}`,backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},NO,{children:UO()}))}G5();AE.workerSrc="pdf.worker.mjs";AE.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${SO}/pdf.worker.js`;const c4=({borrowId:n})=>{const[t,e]=C.useState(null),[i,s]=C.useState(null),[a,r]=C.useState(null);C.useEffect(()=>{mt.get(`http://127.0.0.1:8000/api/books/read/${n}/`,{headers:{Authorization:`Token ${localStorage.getItem("token")}`},responseType:"arraybuffer"}).then(l=>{const c=new Uint8Array(l.data);e(c)}).catch(l=>{r("Unable to load PDF. Borrow period may have expired.")})},[n]);const o=({numPages:l})=>{s(l)};return a?_.jsx("div",{children:a}):t?_.jsxs("div",{onContextMenu:l=>l.preventDefault(),style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none"},children:[_.jsx(Q5,{file:t,onLoadSuccess:o,children:Array.from(new Array(i),(l,c)=>_.jsx(l4,{pageNumber:c+1},`page_${c+1}`))}),_.jsx("p",{style:{fontStyle:"italic",fontSize:"0.9rem"},children:"PDF is protected. Right-click and text selection are disabled."})]}):_.jsx("div",{children:"Loading PDF..."})},u4=()=>{const{borrowId:n}=_N();return _.jsx(c4,{borrowId:n})};function h4(){return _.jsx(uF,{children:_.jsx(XU,{children:_.jsxs(IN,{children:[_.jsx(Xi,{path:"/",element:_.jsx($U,{})}),_.jsx(Xi,{path:"/login",element:_.jsx(xz,{})}),_.jsx(Xi,{path:"/main",element:_.jsx(MT,{})}),_.jsx(Xi,{path:"/dashboard",element:_.jsx(MT,{})}),_.jsx(Xi,{path:"/signup/reader",element:_.jsx(Tz,{})}),_.jsx(Xi,{path:"/signup/publisher",element:_.jsx(_z,{})}),_.jsx(Xi,{path:"/account/reader/:userId",element:_.jsx(Cz,{})}),_.jsx(Xi,{path:"/account/publisher/:userId",element:_.jsx(Rz,{})}),_.jsx(Xi,{path:"/read/:borrowId",element:_.jsx(u4,{})})]})})})}I2.createRoot(document.getElementById("root")).render(_.jsx(rk.StrictMode,{children:_.jsx(h4,{})}));
